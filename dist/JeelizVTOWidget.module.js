/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( Jeeliz® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/* eslint-disable */
let JEELIZVTO=null;let JEELIZVTOWIDGET=null;var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(ma,oa){return Object.prototype.hasOwnProperty.call(ma,oa)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ma,oa,qa){if(ma==Array.prototype||ma==Object.prototype)return ma;ma[oa]=qa.value;return ma};
$jscomp.getGlobal=function(ma){ma=["object"==typeof globalThis&&globalThis,ma,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var oa=0;oa<ma.length;++oa){var qa=ma[oa];if(qa&&qa.Math==Math)return qa}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ma,oa){var qa=$jscomp.propertyToPolyfillSymbol[oa];if(null==qa)return ma[oa];qa=ma[qa];return void 0!==qa?qa:ma[oa]};$jscomp.polyfill=function(ma,oa,qa,Ma){oa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ma,oa,qa,Ma):$jscomp.polyfillUnisolated(ma,oa,qa,Ma))};
$jscomp.polyfillUnisolated=function(ma,oa,qa,Ma){qa=$jscomp.global;ma=ma.split(".");for(Ma=0;Ma<ma.length-1;Ma++){var wa=ma[Ma];if(!(wa in qa))return;qa=qa[wa]}ma=ma[ma.length-1];Ma=qa[ma];oa=oa(Ma);oa!=Ma&&null!=oa&&$jscomp.defineProperty(qa,ma,{configurable:!0,writable:!0,value:oa})};
$jscomp.polyfillIsolated=function(ma,oa,qa,Ma){var wa=ma.split(".");ma=1===wa.length;Ma=wa[0];Ma=!ma&&Ma in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var nb=0;nb<wa.length-1;nb++){var sa=wa[nb];if(!(sa in Ma))return;Ma=Ma[sa]}wa=wa[wa.length-1];qa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===qa?Ma[wa]:null;oa=oa(qa);null!=oa&&(ma?$jscomp.defineProperty($jscomp.polyfills,wa,{configurable:!0,writable:!0,value:oa}):oa!==qa&&($jscomp.propertyToPolyfillSymbol[wa]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(wa):
$jscomp.POLYFILL_PREFIX+wa,wa=$jscomp.propertyToPolyfillSymbol[wa],$jscomp.defineProperty(Ma,wa,{configurable:!0,writable:!0,value:oa})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(ma,oa){for(var qa=1;qa<arguments.length;qa++){var Ma=arguments[qa];if(Ma)for(var wa in Ma)$jscomp.owns(Ma,wa)&&(ma[wa]=Ma[wa])}return ma};$jscomp.polyfill("Object.assign",function(ma){return ma||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(ma){var oa=0;return function(){return oa<ma.length?{done:!1,value:ma[oa++]}:{done:!0}}};$jscomp.arrayIterator=function(ma){return{next:$jscomp.arrayIteratorImpl(ma)}};$jscomp.makeIterator=function(ma){var oa="undefined"!=typeof Symbol&&Symbol.iterator&&ma[Symbol.iterator];return oa?oa.call(ma):$jscomp.arrayIterator(ma)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(ma){function oa(){this.batch_=null}function qa(sa){return sa instanceof wa?sa:new wa(function(Ha,Ra){Ha(sa)})}if(ma&&!$jscomp.FORCE_POLYFILL_PROMISE)return ma;oa.prototype.asyncExecute=function(sa){if(null==this.batch_){this.batch_=[];var Ha=this;this.asyncExecuteFunction(function(){Ha.executeBatch_()})}this.batch_.push(sa)};var Ma=$jscomp.global.setTimeout;oa.prototype.asyncExecuteFunction=function(sa){Ma(sa,0)};oa.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var sa=this.batch_;this.batch_=[];for(var Ha=0;Ha<sa.length;++Ha){var Ra=sa[Ha];sa[Ha]=null;try{Ra()}catch(db){this.asyncThrow_(db)}}}this.batch_=null};oa.prototype.asyncThrow_=function(sa){this.asyncExecuteFunction(function(){throw sa;})};var wa=function(sa){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ha=this.createResolveAndReject_();try{sa(Ha.resolve,Ha.reject)}catch(Ra){Ha.reject(Ra)}};wa.prototype.createResolveAndReject_=function(){function sa(db){return function(ob){Ra||
(Ra=!0,db.call(Ha,ob))}}var Ha=this,Ra=!1;return{resolve:sa(this.resolveTo_),reject:sa(this.reject_)}};wa.prototype.resolveTo_=function(sa){if(sa===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(sa instanceof wa)this.settleSameAsPromise_(sa);else{a:switch(typeof sa){case "object":var Ha=null!=sa;break a;case "function":Ha=!0;break a;default:Ha=!1}Ha?this.resolveToNonPromiseObj_(sa):this.fulfill_(sa)}};wa.prototype.resolveToNonPromiseObj_=function(sa){var Ha=void 0;
try{Ha=sa.then}catch(Ra){this.reject_(Ra);return}"function"==typeof Ha?this.settleSameAsThenable_(Ha,sa):this.fulfill_(sa)};wa.prototype.reject_=function(sa){this.settle_(2,sa)};wa.prototype.fulfill_=function(sa){this.settle_(1,sa)};wa.prototype.settle_=function(sa,Ha){if(0!=this.state_)throw Error("Cannot settle("+sa+", "+Ha+"): Promise already settled in state"+this.state_);this.state_=sa;this.result_=Ha;this.executeOnSettledCallbacks_()};wa.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var sa=0;sa<this.onSettledCallbacks_.length;++sa)nb.asyncExecute(this.onSettledCallbacks_[sa]);this.onSettledCallbacks_=null}};var nb=new oa;wa.prototype.settleSameAsPromise_=function(sa){var Ha=this.createResolveAndReject_();sa.callWhenSettled_(Ha.resolve,Ha.reject)};wa.prototype.settleSameAsThenable_=function(sa,Ha){var Ra=this.createResolveAndReject_();try{sa.call(Ha,Ra.resolve,Ra.reject)}catch(db){Ra.reject(db)}};wa.prototype.then=function(sa,Ha){function Ra(ub,Db){return"function"==
typeof ub?function(Nb){try{db(ub(Nb))}catch(Sb){ob(Sb)}}:Db}var db,ob,Tb=new wa(function(ub,Db){db=ub;ob=Db});this.callWhenSettled_(Ra(sa,db),Ra(Ha,ob));return Tb};wa.prototype.catch=function(sa){return this.then(void 0,sa)};wa.prototype.callWhenSettled_=function(sa,Ha){function Ra(){switch(db.state_){case 1:sa(db.result_);break;case 2:Ha(db.result_);break;default:throw Error("Unexpected state: "+db.state_);}}var db=this;null==this.onSettledCallbacks_?nb.asyncExecute(Ra):this.onSettledCallbacks_.push(Ra)};
wa.resolve=qa;wa.reject=function(sa){return new wa(function(Ha,Ra){Ra(sa)})};wa.race=function(sa){return new wa(function(Ha,Ra){for(var db=$jscomp.makeIterator(sa),ob=db.next();!ob.done;ob=db.next())qa(ob.value).callWhenSettled_(Ha,Ra)})};wa.all=function(sa){var Ha=$jscomp.makeIterator(sa),Ra=Ha.next();return Ra.done?qa([]):new wa(function(db,ob){function Tb(Nb){return function(Sb){ub[Nb]=Sb;Db--;0==Db&&db(ub)}}var ub=[],Db=0;do ub.push(void 0),Db++,qa(Ra.value).callWhenSettled_(Tb(ub.length-1),ob),
Ra=Ha.next();while(!Ra.done)})};return wa},"es6","es3");$jscomp.polyfill("Math.log2",function(ma){return ma?ma:function(oa){return Math.log(oa)/Math.LN2}},"es6","es3");$jscomp.findInternal=function(ma,oa,qa){ma instanceof String&&(ma=String(ma));for(var Ma=ma.length,wa=0;wa<Ma;wa++){var nb=ma[wa];if(oa.call(qa,nb,wa,ma))return{i:wa,v:nb}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(ma){return ma?ma:function(oa,qa){return $jscomp.findInternal(this,oa,qa).v}},"es6","es3");
$jscomp.polyfill("Object.is",function(ma){return ma?ma:function(oa,qa){return oa===qa?0!==oa||1/oa===1/qa:oa!==oa&&qa!==qa}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(ma){return ma?ma:function(oa,qa){var Ma=this;Ma instanceof String&&(Ma=String(Ma));var wa=Ma.length;qa=qa||0;for(0>qa&&(qa=Math.max(qa+wa,0));qa<wa;qa++){var nb=Ma[qa];if(nb===oa||Object.is(nb,oa))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(ma,oa,qa){if(null==ma)throw new TypeError("The 'this' value for String.prototype."+qa+" must not be null or undefined");if(oa instanceof RegExp)throw new TypeError("First argument to String.prototype."+qa+" must not be a regular expression");return ma+""};$jscomp.polyfill("String.prototype.includes",function(ma){return ma?ma:function(oa,qa){return-1!==$jscomp.checkStringArgs(this,oa,"includes").indexOf(oa,qa||0)}},"es6","es3");
$jscomp.polyfill("Promise.prototype.finally",function(ma){return ma?ma:function(oa){return this.then(function(qa){return Promise.resolve(oa()).then(function(){return qa})},function(qa){return Promise.resolve(oa()).then(function(){throw qa;})})}},"es9","es3");$jscomp.polyfill("Math.sign",function(ma){return ma?ma:function(oa){oa=Number(oa);return 0===oa||isNaN(oa)?oa:0<oa?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function ma(){Qa.mode=lb.realtime;Qa.isRT=!0;Aa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(Aa.adjust){Aa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");Aa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");Aa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");Aa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var V=Aa.adjust;V&&V.addEventListener("click",Tb,!1);(V=Aa.adjustExit)&&
V.addEventListener("click",ub,!1);[Aa.adjust,Aa.changeModelContainer,Aa.buttonResizeCanvas].forEach(qa)}Ub.enabled&&Ta.do_instantDetection(Ub.interval,Ub.callback);$b&&($b(!0),$b=null)}function oa(){var V=document.createElement("style");V.setAttribute("type","text/css");V.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var ua=document.getElementsByTagName("head");1<=ua.length?ua[0].appendChild(V):document.body.appendChild(V)}function qa(V){V&&
(V.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(V).display&&V.classList.add("_jeelizVTOForceShow"))}function Ma(V){V&&(V.classList.add("_jeelizVTOForceHide"),V.classList.remove("_jeelizVTOForceShow"))}function wa(V,ua){if(V)for(var Na in ua)V.style[Na]=ua[Na]}function nb(V){if(!V)return{width:0,height:0};V=V.getBoundingClientRect();return{width:V.width,height:V.height}}function sa(V){return new Promise(function(ua,Na){var Ka=new XMLHttpRequest;Ka.open("GET",V,!0);Ka.onreadystatechange=
function(){if(4===Ka.readyState)if(200===Ka.status||0===Ka.status)try{var $a=JSON.parse(Ka.responseText);ua($a)}catch(Ya){Na("INVALID JSON")}else Na("HTTP ERROR "+Ka.status)};Ka.send()})}function Ha(V,ua){return new Promise(function(Na,Ka){sa(V).then(function($a){Ta.set_modelStandalone($a,Nb.bind(null,ua,Na),ua)}).catch(Ka)})}function Ra(){xb.toggle_loading(!1);Qa.mode=lb.realtime;db("INVALID_SKU")}function db(V){wc.error?wc.error(V):console.log("ERROR:",V)}function ob(){var V=nb(Aa.container),ua=
Math.abs(hb.displayHeight-V.height);if(1>=Math.abs(hb.displayWidth-V.width)&&1>=ua)console.log("INFO in JeelizVTOWidget.resize: resolution difference too small abord resize");else if(hb.displayWidth=V.width,hb.displayHeight=V.height,console.log("INFO in JeelizVTOWidget.resize: width = "+hb.displayWidth.toString()+" height = "+hb.displayHeight.toString()+" oFactor = "+(1).toString()),hb.cvWidth=Math.round(1*hb.displayWidth),hb.cvHeight=Math.round(1*hb.displayHeight),wa(Aa.cv,{width:hb.displayWidth.toString()+
"px",height:hb.displayHeight.toString()+"px"}),Aa.cv.width=hb.cvWidth,Aa.cv.height=hb.cvHeight,Ta)if(Qa.mode===lb.notLoaded)Ta.set_size(hb.cvWidth,hb.cvHeight,!1);else Ta.onLoad(function(){Ta.resize(hb.cvWidth,hb.cvHeight,!1)})}function Tb(){[Aa.adjust,Aa.changeModelContainer,Aa.buttonResizeCanvas].forEach(Ma);Qa.mode=lb.adjust;[Aa.adjustNotice,Aa.adjustExit].forEach(qa);Aa.cv.style.cursor="move";Ta.switch_modeInteractor("movePinch");nc("ADJUST_START")}function ub(){[Aa.adjustNotice,Aa.adjustExit].forEach(Ma);
[Aa.adjust,Aa.changeModelContainer,Aa.buttonResizeCanvas].forEach(qa);Aa.cv.style.cursor="auto";Qa.mode=Qa.realtime;Ta.switch_modeInteractor("idle");nc("ADJUST_END")}function Db(){if(!Aa.trackIframe){var V=oc.appstaticURL+"jeewidget/";Aa.trackIframe=document.createElement("iframe");Aa.trackIframe.width="10";Aa.trackIframe.height="10";Aa.trackIframe.src=V+"trackIframe.html";wa(Aa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0",right:"0"});Aa.container.appendChild(Aa.trackIframe)}}function Nb(V,
ua){Qa.mode=lb.realtime;ua&&ua();xb.toggle_loading(!1);if(Aa.trackIframe){ua=location.href.split("?").shift().split("://").pop();ua=ua.split("/").shift();ua=ua.split("www.").pop();try{Aa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:ua,sku:V},"*")}catch(Na){}}}function Sb(V,ua,Na,Ka){var $a=ua.mod+".json";ua.isStandalone?Ha(xc+"models3DStandalone/"+$a,V).then(Na):Ta.load_model($a,ua.mats,Nb.bind(null,V,Na),V,Ka)}function nc(V){(V=Ic[V])&&V()}var Ta=function(){function V(a,
b){return a[0]*(1-b)+a[1]*b}function ua(a,b){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||b(e.responseText)};e.send()}function Na(a,b){ua(a+"",function(e){b(JSON.parse(e))})}function Ka(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var e in a)a[e]=Ka(a[e],b);return a}function $a(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ya(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.),gl_FragColor);";
case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function Eb(a,b){var e=b%8;return a[(b-e)/8]>>7-e&1}function La(a,b,e){var f=1,l=0;for(e=b+e-1;e>=b;--e)l+=f*Eb(a,e),f*=2;return l}function ib(a){a=a.data;
a="undefined"===typeof btoa?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var b=a.length,e=new Uint8Array(b),f=0;f<b;++f)e[f]=a.charCodeAt(f);return e}function rb(a){return"string"===typeof a?JSON.parse(a):a}function Kb(a){return"undefined"===typeof rb(a).nb?Ob(a):zb(a)}function zb(a){var b=rb(a);a=b.nb;if(0===a)return new Uint8Array(b.nb);var e=b.n;b=ib(b);for(var f=new Uint32Array(e),l=0;l<e;++l)f[l]=La(b,l*a,a);return f}function Ob(a){var b=rb(a);a=b.ne;var e=b.nf,f=b.n;b=ib(b);for(var l=
new Float32Array(f),p=new Float32Array(e),w=a+e+1,k=0;k<f;++k){var m=w*k,r=0===Eb(b,m)?1:-1,y=La(b,m+1,a);m=m+1+a;for(var G=p.length,x=0,H=m;H<m+G;++H)p[x]=Eb(b,H),++x;for(G=m=0;G<e;++G)m+=p[G]*Math.pow(2,-G-1);l[k]=0===m&&0===y?0:r*(1+m)*Math.pow(2,1+y-Math.pow(2,a-1))}return l}function ac(a){var b=null,e=null,f=null,l=0,p=this,w=null,k={Kc:[],Xd:"none",bg:!1,Wd:null,grid:null};this.m=function(){this.Mk(w.Kc);f.mo({Xd:w.Xd,bg:w.bg,Wd:w.Wd})};this.Ql=function(m){return b[m]};this.re=function(m){["s32",
"s34","s27"].forEach(function(r){aa.j(r,[{type:"2f",name:"u20",value:m}])});b&&b.forEach(function(r){r.re(m)})};this.Mk=function(m){var r=null;l=m.length;var y=null!==w.grid&&a.grid.length&&!(1===a.grid[0]&&1===a.grid[1]),G=y?w.grid:[1,1];y&&this.re(G);b=m.map(function(x,H){x=Object.assign({},x,{index:H,parent:p,be:r,ym:H===l-1,Fc:y,Aa:G});return r=0===H?Zc.instance(x):$c.instance(x)});e=b[0];f=b[l-1];b.forEach(function(x,H){0!==H&&x.ln()})};this.wa=function(m){m.h(0);var r=m;b.forEach(function(y){r=
y.wa(r,!1)});return r};this.Th=function(){return e.Pl()};this.Cc=function(){return f.Tl()};this.Ph=function(){return f.Ph()};this.v=function(){b&&(b.forEach(function(m){m.v()}),f=e=b=null,l=0)};"undefined"!==typeof a&&(w=Object.assign({},k,a),this.m())}function Fb(a,b){a[b]=!0;a.setAttribute(b,"true")}function bc(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function cc(a){if(!a)return a;var b=null;if(a.video){var e=function(f){return f&&
"object"===typeof f?Object.assign({},f):f};b={};"undefined"!==typeof a.video.width&&(b.width=e(a.video.width));"undefined"!==typeof a.video.height&&(b.height=e(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=e(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&dc(b,a.deviceId);return b}function dc(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function ec(a){var b=a.video.width;a.video.width=
a.video.height;a.video.height=b;return a}function yc(a){function b(x){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(H,u){return Math.abs(H-x)-Math.abs(u-x)})}function e(x){var H=cc(a);x=x(H);l.push(x);f(x)}function f(x){if(x.video&&x.video.facingMode&&x.video.facingMode.exact){var H=x.video.facingMode.exact;x=cc(x);delete x.video.facingMode.exact;x.video.facingMode.ideal=H;l.push(x)}}var l=[];if(!a||!a.video)return l;f(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&
a.video.height.ideal){var p=b(a.video.width.ideal).slice(0,3),w=b(a.video.height.ideal).slice(0,3),k={},m=0;for(k.ob=void 0;m<p.length;k={ob:k.ob},++m){k.ob=p[m];var r={},y=0;for(r.mb=void 0;y<w.length;r={mb:r.mb},++y)if(r.mb=w[y],k.ob!==a.video.width.ideal||r.mb!==a.video.height.ideal){var G=Math.max(k.ob,r.mb)/Math.min(k.ob,r.mb);G<4/3-.1||G>16/9+.1||e(function(x,H){return function(u){u.video.width.ideal=x.ob;u.video.height.ideal=H.mb;return u}}(k,r))}}}e(function(x){return ec(x)})}a.video.width&&
a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&e(function(x){delete x.video.width.ideal;delete x.video.height.ideal;return x}),e(function(x){delete x.video.width;delete x.video.height;return x}));a.video.facingMode&&(e(function(x){delete x.video.facingMode;return x}),a.video.width&&a.video.height&&e(function(x){ec(x);delete x.video.facingMode;return x}));l.push({audio:a.audio,video:!0});return l}function fc(a){a.volume=0;Fb(a,"muted");if(bc()){if(1===a.volume){var b=function(){a.volume=
0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Fb(a,"muted")},5)}}function gc(a){var b=Ca.element,e=Ca.qh;return null===b?Promise.resolve():new Promise(function(f,l){if(b.srcObject&&b.srcObject.getVideoTracks){var p=b.srcObject.getVideoTracks();1!==p.length?l("INVALID_TRACKNUMBER"):(p=p[0],a?hc(b,f,l,e):(p.stop(),f()))}else l("BAD_IMPLEMENTATION")})}
function ic(a,b,e,f){function l(w){p||(p=!0,e(w))}var p=!1;navigator.mediaDevices.getUserMedia(f).then(function(w){function k(){setTimeout(function(){if(a.currentTime){var r=a.videoHeight;if(0===a.videoWidth||0===r)l("VIDEO_NULLSIZE");else{r={Uk:null,Bg:null,Tm:null};try{var y=w.getVideoTracks()[0];y&&(r.Tm=y,r.Uk=y.getCapabilities(),r.Bg=y.getSettings())}catch(G){}p||b(a,w,r)}}else l("VIDEO_NOTSTARTED")},700)}function m(){a.removeEventListener("loadeddata",m,!1);var r=a.play();fc(a);"undefined"===
typeof r?k():r.then(function(){k()}).catch(function(){l("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=w:(a.src=window.URL.createObjectURL(w),a.videoStream=w);fc(a);a.addEventListener("loadeddata",m,!1)}).catch(function(w){l(w)})}function hc(a,b,e,f){a?navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(Fb(a,"autoplay"),Fb(a,"playsinline"),f&&f.audio?a.volume=0:Fb(a,"muted"),ad(f).then(function(){ic(a,b,function(){function l(w){if(0===w.length)e("INVALID_FALLBACKCONSTRAINTS");
else{var k=w.shift();ic(a,b,function(){l(w)},k)}}var p=yc(f);l(p)},f)})):e&&e("MEDIASTREAMAPI_NOTFOUND"):e&&e("VIDEO_NOTPROVIDED")}function ad(a){if(!a||!a.video||!a.video.facingMode)return Promise.resolve("NO_VIDEO_CONSTRAINTS");if(a.video.deviceId)return Promise.resolve("DEVICEID_ALREADY_SET");var b=a.video.facingMode;b=b.exact||b.ideal;if(!b)return Promise.resolve("NO_FACINGMODE");var e={user:[],environment:["camera2 0"]}[b];return e&&0!==e.length?new Promise(function(f){Jc(function(l){l?(l=l.find(function(p){var w=
p.label;return w?e.some(function(k){return w.includes(k)}):!1}))?(a.video.deviceId={exact:l.deviceId},f("SUCCESS")):f("NO_PREFERRED_DEVICE_FOUND"):f("NO_DEVICES_FOUND")})}):Promise.resolve("NO_PREFERRED_CAMERAS")}function Jc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,
"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function bd(){function a(K){K=K?pc.ff:1;R.width=K*J.width;R.height=K*J.height;return R}function b(K){var S=K.length-1,ia=K[S];if("data:"===ia.substring(0,5))return ia;for(ia="";0<=S;--S){var ra=K[S],Fa="http"===ra.substring(0,4).toLowerCase();ia=ra+ia;if(Fa)break}return ia}function e(K,S,ia){return new Promise(function(ra){ya.zj(S);Ba.$();Oa.isEnabled=!0;Ea.isEnabled=!1;Oa.Oa||(Oa.Oa=jc.instance({}));K.Uh()&&(Oa.Oa.nj(K.Uh()),ya.pa(Oa.Oa));K.set();Ea.isEnabled=
!1;y();var Fa=jb.Rh(ia);setTimeout(function(){Oa.isEnabled=!1;ya.zj(!1);ra(Fa)},1)})}function f(K,S){ka.Vc=.5;return new Promise(function(ia){Ea.$b=K;Ea.isEnabled=!0;Ea.B=function(){var ra=Kc.instance(S());Ea.B=null;ia(ra)}})}function l(K,S){return new Promise(function(ia,ra){Na(S+K,function(Fa){Fa.error?ra("SKU_NOT_FOUND"):ia({Um:Fa.intrinsic.mod+".json",Sm:Fa.intrinsic.mats})})})}function p(K,S){var ia=b([J.ca,J.ua,J.Td+"/"]);S=S.map(function(ra){return ia+ra});W.model={url:b([J.ca,J.ua,J.Ud+"/"+
K]),Nc:S,Jb:!1,Ib:!1};return new Promise(function(ra){Pa.zi(W.model,function(){T.isBusy=!1;ra()})})}function w(K,S){if(!S)return K;K=K.slice(0);var ia=gb.Ul().map(function(qb){return qb.toLowerCase()}),ra;for(ra in S){var Fa=ia.indexOf(ra.toLowerCase());-1!==Fa&&(K[Fa]=S[ra])}return K}function k(K,S){return new Promise(function(ia,ra){T.set_model(K,function(){T.set_materials(S,function(){T.isBusy=!1;ia()})},function(){T.isBusy=!1;ra("CANNOT_LOAD_MODEL")})})}function m(){T.load_model=function(K,S,
ia,ra,Fa,qb){if(T.isBusy)return!1;T.isBusy=!0;S=w(S,Fa);(W.model?k(K,S):p(K,S)).then(ia).catch(qb);return!0};T.set_offset=function(K){D=K;Pa.se()};T.set_scale=function(K){B=K;Pa.te()};T.set_rx=function(K){U=K;Pa.Nj()};T.switch_shadow=ya.Gg;T.switch_bgBlur=ya.Fg;T.set_zoom=ya.sg;T.is_viewer3D=function(){return la===ha.Ha};T.switch_viewer3D=function(K,S){if(la===ha.kc||la===ha.lc||la===ha.W&&!K||la===ha.Ha&&K||Ea.isEnabled)return!1;if(la===ha.ta)return mb!==ha.Ha||K?mb===ha.W&&K?(mb=ha.Ha,ya.pa(ka.Eb),
ya.cb(1),S&&S(),!0):!1:(mb=ha.W,ya.pa(ka.Ga),ya.cb(0),S&&S(),!0);var ia=0,ra=-1,Fa=0;la===ha.W?(la=ha.kc,ra=J.Uo):la===ha.Ha&&(la=ha.lc,ra=J.Xo);var qb=zc.lf();Sa=setInterval(function(){var kb=zc.lf();ia+=(kb-qb)/ra;1<=ia&&(ia=1,la===ha.kc?(la=ha.Ha,ya.pa(ka.Eb)):(la=ha.W,ya.pa(ka.Ga)),S&&S(),clearInterval(Sa),Sa=null);var Lb=la===ha.lc||la===ha.W?1-J.So(ia):J.Ro(ia);ya.cb(Lb);la!==ha.lc&&la!==ha.kc||0!==Fa++%2||(ya.pa(ka.Vf),ka.Vf.fo(Lb));qb=kb},.016);return!0};T.capture_image=function(K,S,ia,ra){Ea.$b=
K;Ea.isEnabled=!0;"undefined"===typeof isAllocate&&(ia=!1);(ra="undefined"===typeof ra?!1:ra)&&ya.ke(!1);g();Ea.B=function(){ya.Wi(0);c.flush();var Fa=jb.Rh(ia);S(Fa);ra&&ya.ke(!0)}};T.capture_detection=function(K,S){var ia=null===ca.Fb?ca.kb:ca.Yc;f(K,function(){return{nd:na.nc.clone(),Wf:gb.Xh(),Sf:gb.Vh(),background:ia.clone(),Oa:xa.Ia.Yh().clone(),Rf:Xa}}).then(S)};T.process_image=function(K){function S(){return new Promise(function(vb,pb){Ea.Qg=kb.updateLightInterval;f(kb.nSteps,ia).then(function(fb){Ea.Qg=
3;fb?1>=fb.Wl().data[0]?(fb.H(),pb("FACE_NOT_FOUND")):e(fb,kb.isMask,!0).then(function(cd){ya.pa(ka.Ga);fb.H();vb(cd)}):pb("CRITICAL")});y()})}function ia(){return{nd:na.nc.clone(),Wf:!1,Sf:!1,background:J.pq?!1:ca.kb.clone(!0),Oa:xa.Ia.Yh().clone()}}function ra(){return new Promise(function(vb,pb){l(kb.modelSKU,kb.glassesDBURL).then(function(fb){T.load_model(fb.Um,fb.Sm,function(){vb()},kb.modelSKU,null,function(){pb("CANNOT_LOAD_MODEL")})}).catch(function(fb){pb(fb)})})}function Fa(){if(kb.image){var vb=
kb.image;qb(vb);return Promise.resolve(vb)}return new Promise(function(pb){var fb=new Image;fb.onload=function(){qb(fb);pb()};fb.src=kb.imageBase64})}function qb(vb){var pb=vb.width,fb=vb.height;if(pb!==J.width||fb!==J.height)Ca.Ld&&(Ca.element.width=pb,Ca.element.height=fb),I(pb,fb,kb.overSamplingFactor);Ca.Eh.drawImage(vb,0,0);g()}var kb=Object.assign({imageBase64:null,image:null,FOVHztDeg:0,nSteps:50,updateLightInterval:3,overSamplingFactor:2,modelSKU:"undef",glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",
isMask:!0},K);if(J.Ic)throw Error("This feature cannot be called");var Lb=ab.FOVforced;kb.FOVHztDeg&&(ab.FOVforced=kb.FOVHztDeg);ya.pa(ka.Ga);return new Promise(function(vb,pb){return ra().then(Fa).then(function(){S().then(function(fb){ab.FOVforced=Lb;vb(fb)}).catch(pb)}).catch(pb).catch(pb)})};T.process_offlineRendering=function(K,S,ia,ra,Fa){Pa.Gn();ra&&(T.Zj.drawImage(jb.ub(),0,0),jb.ub().parentNode.insertBefore(T.Gb,jb.ub()),T.Gb.setAttribute("class","jeefitMask"));T.set_model(S,function(){T.set_materials(ia,
function(){setTimeout(function(){e(K,ra).then(Fa);Pa.Dn(ra?function(){jb.ub().parentNode.removeChild(T.Gb)}:!1)},1)})})};T.serialize_detection=function(K){return K.ac()};T.unserialize_detection=function(K,S,ia){return Kc.Xc(K,S,ia)};T.do_instantDetection=function(K,S){Lc.m(na.nc);Lc.start(K,S)};T.relieve_DOM=function(K,S){if(O.Ub)return!1;x(S||160);Ia=!1;ea&&clearTimeout(ea);ea=setTimeout(function(){x(J.ya);ea=!1;u()},K);return!0};T.switch_slow=function(K,S){if(O.Ub)return!1;"undefined"===typeof S&&
(S=J.gk);ea&&(x(J.ya),u(),clearTimeout(ea),ea=!1);K?Ia=!1:u();x(K?S:J.ya);return!0};T.switch_deepSleep=function(K){if(bb===K)return!1;bb=!1;T.switch_sleep(K);bb=K;return!0};T.switch_sleep=function(K,S){function ia(){T.isBusy=!1;K?(mb=la,la=ha.ta):(la=mb,y())}if(O.Ub||bb||T.isBusy)return S?Promise.reject():null;if(K&&la===ha.ta||!K&&la!==ha.ta)return S?Promise.resolve(!1):!1;Sa&&(clearInterval(Sa),Sa=null);la===ha.lc?(la=ha.W,ya.pa(ka.Ga),ya.cb(0)):la===ha.kc&&(la=ha.Ha,ya.pa(ka.Eb),ya.cb(1));Ab.stop();
var ra=null;T.isBusy=!0;S?ra=gc(!K).then(ia):ia();return S?ra:!0};T.set_modelStandalone=function(K,S){ya.le(!1);Ac.instance({url:K.model,Nc:K.materials,Jb:!1,Ib:!1,B:function(ia){Mb=[0,0,0];da=1;va=F=z=0;Za=J.Lc;T.ready&&Pa.ue();S&&S();G(ia);Pa.Dg();ya.le(!0)}})};T.start_rendering=Pa.Dg;T.update_material=function(K,S){gb&&gb.Go(K,S)};T.set_model=function(K,S,ia){gb&&(K=b([J.ca,J.ua,J.Ud+"/",K]),gb.replace(K,function(){S&&S(gb.Yk())},ia))};T.set_tweaker=function(K,S){function ia(ra){T.eh(ra);S&&S()}
"string"===typeof K?ua(J.ca+J.ua+J.yo+"/"+K,ia):ia(K)};T.eh=function(K){K&&(K.preOffset&&(Mb=K.preOffset),K.preScale&&(da=K.preScale),K.rx&&(z=K.rx),K.beginBendZ&&(F=K.beginBendZ),K.bendStrength&&(va=K.bendStrength),K.maskBranchStartEnd&&(Za=K.maskBranchStartEnd),T.ready&&Pa.ue())};T.set_materials=function(K,S){if(gb){var ia=b([J.ca,J.ua,J.Td+"/"]);K=K.map(function(ra){var Fa=ra;"string"===typeof ra&&(Fa=ia+ra,Fa=Fa.replace(/([^:])\/\//,"$1/"));return Fa});gb.tg(K,S)}}}function r(){fa.Tg(pc.Al);Pa.Wc();
J.Yb&&(Ba.reset(),xa.Ia.ih(Ca.ha),xa.Ia.hh());T.ready=!0;T.cd.forEach(function(K){K()});T.cd.splice(0)}function y(){Gb.reset();Ab.stop();Ba.$();H(0)}function G(K){gb&&(ya.xn(gb),gb.remove());ya.bk(K);gb=K}function x(K){Q=K;Ab.update({ya:Q})}function H(K){pa=-1;Ea.isEnabled?pa=Ea.$b:Oa.isEnabled?pa=Oa.$b:Ia?(g(),pa=la===ha.W?Gb.V():1):(pa=J.$c[0],g());Ba.$();if(!Oa.isEnabled)for(var S=0;S<pa;++S)aa.set("s64"),ca.Cf.M(),ca.kb.h(0),na.Oc.h(1),X.l(!1,!1),P.wa(ca.Cf),Ea.isEnabled&&0===(S+1)%Ea.Qg&&C();
Ea.isEnabled?(Ea.B&&Ea.B(),Ea.isEnabled=!1,c.flush(),la!==ha.ta&&Ab.ng(H)):(ya.animate(K),ca.jg&&Math.abs(za-ka.wi)>ka.Cj&&J.Yb&&la===ha.W&&(Ba.$(),C(),Ba.ba()),Oa.isEnabled||(Ia&&(Gb.Gj(),S=Gb.Qh(1),Y=V(J.ek,S),J.Yb&&la===ha.W&&(ka.Cj=V(J.yi,S),ka.Vc=V(J.Lm,S),ka.Vc=Math.min(ka.Vc,.5))),za=K,la!==ha.ta&&Ab.ng(H)))}function u(){za=zc.lf();Ia=!0}function g(){var K=15;if(!Ca.Ld){var S=Ca.element.currentTime;K=S-qc;0>K&&(qc=S);if(1E3*K<J.Mo)return}Ca.ha.refresh();qc+=K;Ca.ud=K;Da=!0;Ba.$();aa.set("s0");
na.kg.M();na.Oc.Jk(0);X.l(!0,!0);aa.set("s62");ca.kb.M();Ca.ha.h(0);X.l(!1,!1);null!==ca.Fb&&(aa.set("s63"),ca.Yc.o(),ca.kb.h(0),ca.Fb.h(1),X.l(!1,!1))}function h(){ca.Rj=ba.instance({isPot:!0,isLinear:!0,isFloat:!1,url:J.ca+J.ua+J.No});var K={isPot:!1,isLinear:!0,isFloat:!1,width:R.width,height:R.height};ca.kb=ba.instance(K);ca.Yc=ba.instance(K);O.Dj.push(ca.kb,ca.Yc);ca.Cf=ba.instance({isPot:!0,isFloat:!1,width:P.Th()});J.Qd&&(sb=ba.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(J.Qf||-1!==J.Pf.indexOf("//")?
"":J.ca+J.ua)+J.Pf}))}function A(){function K(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var S={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};na.Oc=Mc.instance(K());na.kg=ba.instance(K());na.nc=ba.instance(K());na.Zd=Mc.instance(K());na.$e=ba.instance(S);S={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};na.Ug=ba.instance(S);na.we=ba.instance(S);ka.$d=ba.instance({width:1,
height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function M(K){ca.jg=K;if(Da){Da=!1;aa.set("s70");na.Ug.M();na.we.h(2);var S=V(J.Lk,Gb.Qh(.5));aa.G("u67",S);na.kg.h(1);aa.G("u68",1E3*Ca.ud);X.l(!1,!1);aa.set("s71");na.we.o();na.Ug.h(0);X.l(!1,!1)}K.h(0);na.Oc.jj(1);c.viewport(0,0,1,1);aa.set("s65");aa.zg("u47",Nc.get(0));X.l(!1,!1);aa.set("s66");c.viewport(1,0,2,1);X.l(!1,!1);na.$e.M();aa.set("s67");aa.N("u58",J.He[0]*Y,J.He[1]);na.Oc.h(0);na.Zd.h(1);X.l(!1,!1);aa.set("s68");na.Zd.jj(1);
na.$e.h(0);na.we.h(2);na.Oc.h(3);X.l(!1,!1);aa.set("s69");na.Zd.h(0);na.nc.o();X.l(!1,!1)}function C(){ka.wi=za;ka.$d.M();aa.set(Z.li?"s73":"s72");ca.jg.h(0);X.l(!1,!1);xa.Ia.Qj(Ca.ha,ka.$d,ka.Vc)}function n(){return new Promise(function(K){var S=J.ca,ia=J.Zc.split("://").shift();if("http"===ia||"https"===ia)S="";S+=J.Zc;"json"!==S.split(".").pop()&&(S+=J.neuralNetworkPath);ua(S,function(ra){ra=JSON.parse(ra);if(ra.exportData){var Fa=ra.exportData;Z.ab=Z.ab||Fa.rotationEulerAnglesFactors;Z.zc=Z.zc||
Fa.deformScaleXFactor;Z.ra=Z.ra||Fa.translationScalingFactors;Z.Dh=Fa.dyOffset||0;Z.Bh=Fa.dsOffset||0;Z.li=Fa.isLThetaSplitCosSin||!1}P=new ac({Kc:ra.layers,Xd:"gpuRawAvg",Wd:M});K()})})}function d(K){a(K);K=J.width;var S=J.height;L.rb[0]=1;L.rb[1]=K/S;Nc.m({Yd:J.scanOverlapFactors,Gi:J.scanNScaleLevels,Z:K,yf:S,bj:J.scanScale0Factor,ra:Z.ra,og:!0});rc=K>S?[K/S,1]:[1,S/K];O.Ma=!0}function v(){aa.j("s64",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u41",value:1},{type:"2f",name:"u42",value:L.rb},
{type:"1f",name:"u43",value:Z.zc},{type:"1f",name:"u45",value:Z.Dh},{type:"1f",name:"u44",value:Z.Bh}]);aa.j("s65",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"1f",name:"u51",value:J.wo},{type:"1f",name:"u52",value:J.el},{type:"3f",name:"u48",value:[Z.ra[0]*L.rb[0],Z.ra[1]*L.rb[1],Z.ra[2]]},{type:"3f",name:"u49",value:[J.mc[0][0],J.mc[1][0],J.mc[2][0]]},{type:"3f",name:"u50",value:[J.mc[0][1],J.mc[1][1],J.mc[2][1]]}]);aa.j("s66",[{type:"1i",name:"u46",value:0},{type:"1i",
name:"u41",value:1},{type:"2f",name:"u55",value:J.on},{type:"3f",name:"u53",value:Z.ab},{type:"3f",name:"u54",value:J.Fj},{type:"1f",name:"u56",value:J.Bl}]);aa.j("s67",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u57",value:1},{type:"2f",name:"u58",value:J.He},{type:"1f",name:"u59",value:J.En},{type:"1f",name:"u60",value:J.nn}]);aa.j("s68",[{type:"1i",name:"u57",value:1},{type:"1i",name:"u61",value:0},{type:"1i",name:"u62",value:2},{type:"1i",name:"u63",value:3},{type:"2f",name:"u42",value:L.rb},
{type:"1f",name:"u65",value:P.Th()},{type:"2f",name:"u64",value:J.An}]);aa.j("s69",[{type:"1i",name:"u41",value:0},{type:"1f",name:"u66",value:J.Hn}]);aa.j("s70",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"1i",name:"u62",value:2},{type:"3f",name:"u53",value:Z.ab},{type:"3f",name:"u54",value:J.Fj}]);aa.j("s71",[{type:"1i",name:"u62",value:0},{type:"2f",name:"u70",value:J.xo},{type:"2f",name:"u71",value:J.Fn}]);aa.j("s72",[{type:"1i",name:"u46",value:0}]);aa.j("s73",[{type:"1i",
name:"u46",value:0}]);aa.j("s63",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u72",value:1}])}function I(K,S,ia){var ra=0===ia,Fa=a(ra);J.width=K;J.height=S;d(ra);v();O.Dj.forEach(function(qb){qb.resize(K,S)});ia=ra?1:ia;fa.resize(Fa.width*ia,Fa.height*ia);Pa.Wc();eb.Ag(Ca.element.videoWidth||Ca.element.width,Ca.element.videoHeight||Ca.element.height);eb.Hg();eb.Aj()}function N(){Ab.stop();O.hb&&(clearTimeout(O.hb),O.hb=null);if(!O.Ub){var K=O.width,S=O.height;if(J.width===K&&J.height===S)y();
else if(la!==ha.W&&la!==ha.Ha)O.hb=setTimeout(N,J.$i);else{var ia="undefined"===typeof yb?!1:yb.get_mode(),ra=la;la=ha.ta;O.Ub=!0;Ea.isEnabled=!0;Ea.B=function(){Ea.isEnabled=!1;O.Ub=!1;u();x(J.ya);ea&&clearTimeout(ea);ea=!1;la=ra};I(K,S,0);y();la===ha.Ha&&(la=ha.W,T.switch_viewer3D(!0,!1));ia&&yb.switch_mode(ia)}}}var z,F,L={rb:[-1,-1]},q=null,t=[.5,0,0,.5],R={width:-1,height:-1},O={width:-1,height:-1,hb:null,Ub:!1,Ma:!1,Dj:[]},ja=[0,J.ae[1],J.ae[2]],Z={ab:[-J.ab[0],-J.ab[1],J.ab[2]],zc:J.zc,ra:J.ra,
Dh:0,Bh:0,li:!1},Q=J.ya,ea=null,P=null;a(!0);var D=[0,0,0],B=1,U=0,ca={kb:null,Yc:null,Cf:null,Rj:null,jg:null,Fb:null},na={kg:null,nc:null,Zd:null,$e:null,Ug:null,we:null},za=0,Da=!1,ka={Ga:null,Eb:null,Vf:null,wi:0,Cj:J.yi[1],Vc:.1,$d:null},ta=!1,Ia=!0,Y=1,pa=-1,ha={ta:-1,W:0,Ha:1,kc:2,lc:3},la=ha.W,Sa=null,mb=ha.W,bb=!1,Ea={isEnabled:!1,$b:1,Qg:3,B:null},Oa={isEnabled:!1,Oa:null,$b:0},sb=null,rc=-1,Bb=!1,Hb=!1,Pb=!1,kc=[0,0,0],Qb=1,Vb,lc,Ua,Mb=[0,0,0],da=1,va=F=z=0,Za=J.Lc,Ja=[0,0,0],Xa={scale:1,
offsetX:0,offsetY:0},qc=0,Pa={m:function(){aa.sc([{id:"s62",name:"_",u:"attribute vec2 a0;uniform mat2 u40;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5)+u40*a0;}",I:["a0"],R:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u40"],precision:"lowp"},{id:"s64",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",u:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42;uniform float u43,u44,u45;const vec2 h=vec2(.16,.5),i=vec2(.5,.5),j=vec2(.84,.5),q=vec2(.5,.5);varying vec2 vv0;void main(){vec4 b=texture2D(u41,h);vec2 c=b.gb,a=b.a*u42;vec4 l=texture2D(u41,i);float m=l.y;vec2 n=vec2(mix(1.,1./cos(m),u43),1.);a*=n,a*=1.+u44;vec2 o=a0*.5;float d=texture2D(u41,j).r,e=cos(d),f=sin(d);mat2 g=mat2(e,f,-f,e);vec2 p=g*o;c+=vec2(-.5,-.5)*a*(g*vec2(0.,u45)),vv0=c+p*a,gl_Position=vec4(a0,0.,1.);}",
I:["a0"],R:[2],i:"u1 u41 u42 u43 u44 u45".split(" "),precision:"lowp"},{id:"s65",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46,u41;uniform vec3 u47,u48,u49,u50;uniform float u51,u52;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u46,vec2(.625,.625)),k=texture2D(u46,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u52;vec4 a=texture2D(u41,f);m?a.r=2.:a.r>u51?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u47);else{float n=dot(e,texture2D(u46,vec2(.875,.875))),o=dot(e,texture2D(u46,vec2(.125,.625))),p=dot(e,texture2D(u46,vec2(.375,.625))),b=texture2D(u41,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u41,g).a;vec3 s=mix(u49,u50,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u48*s*a.a;}gl_FragColor=a;}",
i:"u46 u41 u47 u51 u48 u52 u49 u50".split(" ")},{id:"s66",name:"_",g:"uniform sampler2D u46,u41;uniform vec3 u53,u54;uniform vec2 u55;uniform float u56;const vec4 v=vec4(1.),f=vec4(0.),e=vec4(.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u41,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u46,vec2(.125,.125)),e),a=smoothstep(u55.x,u55.y,m);vec4 n=texture2D(u41,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u46,vec2(.125,.875))),q=dot(e,texture2D(u46,vec2(.375,.875))),r=dot(e,texture2D(u46,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u54+s*u53;float c=texture2D(u41,i).r,d=b.z*u56;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:"u46 u41 u55 u53 u54 u56".split(" ")},{id:"s67",name:"_",g:"uniform sampler2D u41,u57;uniform vec2 u58;uniform float u59,u60;const vec4 f=vec4(1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.),j=vec4(0.,0.,0.,0.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 k=texture2D(u41,vv0),l=texture2D(u57,vv0),q=texture2D(u41,g),m=texture2D(u57,g);float n=pow(m.a,u60),o=mix(u58.y,u58.x,n),b=step(.66,vv0.x),c=step(.34,vv0.x)*(1.-b);vec4 a=mix(h,i,c);a=mix(a,j,b);vec4 d=max(o*f,a);d*=mix(f,u59*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),c);vec4 p=k-l;gl_FragColor=p*d;}",
i:["u41","u57","u58","u59","u60"],precision:"highp"},{id:"s68",name:"_",g:"uniform sampler2D u57,u61,u62,u63;uniform vec2 u42,u64;uniform float u65;const vec4 w=vec4(0.),x=vec4(1.);const vec2 j=vec2(.25,.5),k=vec2(.75,.5),g=vec2(.16,.5),l=vec2(.5,.5);varying vec2 vv0;bool f(float a){return (a<0.||0.<a||a==0.)&&a+1.!=a?false:true;}void main(){float y=step(vv0.x,.33),m=step(.33,vv0.x)*step(vv0.x,.66),z=step(.66,vv0.x);vec4 n=texture2D(u63,l);float b=n.a;b*=texture2D(u62,j).a,b*=texture2D(u62,k).a;vec4 o=texture2D(u57,vv0),p=texture2D(u61,vv0),c=o+p;c.a=mix(c.a,b,m);vec4 e=texture2D(u57,g),q=texture2D(u63,g);vec2 r=e.gb,s=q.gb;float t=e.a;vec2 h=u65*abs(r-s)/(u42*t);float u=max(h.x,h.y),v=smoothstep(u64.x,u64.y,u);vec4 i=texture2D(u63,vv0),a=mix(c,i,v);if(f(a.x)||f(a.y)||f(a.z)||f(a.w)){gl_FragColor=i;return;}gl_FragColor=a;}",
i:"u57 u61 u62 u63 u42 u65 u64".split(" "),precision:"highp"},{id:"s69",name:"_",g:"uniform sampler2D u41;uniform float u66;const vec4 g=vec4(1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u41,vv0);float b=step(vv0.x,.33),c=texture2D(u41,f).g;a.a+=b*a.a*u66*abs(sin(c)),gl_FragColor=a;}",i:["u41","u66"],precision:"highp"},{id:"s70",name:"_",g:"uniform sampler2D u41,u62,u46;uniform vec3 u53,u54;uniform float u67,u68;const vec4 e=vec4(.25);const vec3 g=vec3(1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u41,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u62,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u46,k)),o=dot(e,texture2D(u46,l)),p=dot(e,texture2D(u46,m));vec3 q=mix(i,u53,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u54+b-r,a)/u68;vec4 s=mix(vec4(b,0.),j,vec4(u67*g,0.));gl_FragColor=s;}",
i:"u41 u62 u46 u67 u68 u53 u54".split(" "),precision:"highp"},{id:"s71",name:"_",g:"uniform sampler2D u62;uniform vec2 u70,u71;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u70.x,u71.x,a),d=mix(u70.y,u71.y,a);vec3 b=texture2D(u62,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u62","u70","u71"],precision:"highp"},{id:"s72",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25);const float f=3.1415;void main(){float a=dot(texture2D(u46,vec2(.375,.375)),e),b=dot(texture2D(u46,vec2(.625,.375)),e),c=f/2.*dot(texture2D(u46,vec2(.875,.375)),e),d=.75*f*dot(texture2D(u46,vec2(.125,.375)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u46"]},{id:"s73",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25);const float f=3.1415,g=1e-7;void main(){float b=dot(texture2D(u46,vec2(.875,.375)),e),c=dot(texture2D(u46,vec2(.375,.125)),e),d=f/2.*dot(texture2D(u46,vec2(.625,.375)),e),a=dot(texture2D(u46,vec2(.125,.375)),e),h=dot(texture2D(u46,vec2(.375,.375)),e);a+=(step(0.,a)-.5)*g;float i=atan(h,a);gl_FragColor=vec4(i,b,c,d);}",i:["u46"]},{id:"s63",name:"_",g:"uniform sampler2D u1,u72;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u72);}",
i:["u1","u72"]}]);A();Ab.m({ki:!1,ya:Q});Gb.m({Zf:0,n:J.$c[1]-J.$c[0]+1,xi:J.$c[0]});T.set_videoRotation=function(K){ab.rotate=K;T.ready&&(eb.Ag(Ca.element.videoWidth,Ca.element.videoHeight),eb.Hg())};T.set_viewRotation=function(){};T.set_LUT=function(K){return new Promise(function(S){K?ba.instance({url:K,isFloat:!1,isFlipY:!1,B:function(ia){ca.Fb=ia;Pa.Wc();S()}}):(ca.Fb=null,Pa.Wc(),S())})};T.resize=function(K,S,ia){T.ready&&(O.hb&&(clearTimeout(O.hb),O.hb=null),Ab.stop(),ia=ia?pc.ff:1,O.width=
K*ia,O.height=S*ia,O.hb=setTimeout(N,J.$i))};return n()},to:function(){h();d(!0);v();Pa.Aj();m();T.bd.forEach(function(K){K()});T.bd.splice(0);W.model&&!T.isBusy?Pa.zi(W.model):J.Ic||r();return Promise.resolve()},Vl:function(){return R},v:function(){Ab.v();return new Promise(function(K){T.switch_sleep(!0,!0).finally(function(){P&&P.v();fa.v();jb.v();c&&(c=null);P=null;J.Qf=!1;gb=null;Ia=!0;Y=1;pa=-1;la=ha.W;Sa=null;mb=ha.W;Object.assign(Ca,Oc);Object.assign(J,Pc);K()}).catch(function(S){throw Error(S);
})})},Wc:function(){ya.hj(na.nc,null===ca.Fb?ca.kb:ca.Yc,ka.$d,ca.Rj)},Sl:function(){return Xa},pj:function(K){Xa=K},se:function(){Ja[0]=D[0]-Xa.offsetX;Ja[1]=D[1]+Xa.offsetY;Ja[2]=D[2];ya.Nn(ja,Mb,Ja)},te:function(){ya.On(B*J.jn,da,Xa.scale)},Nj:function(){ya.Pn(U+z)},Do:function(){ya.Ln(J.gd+F,J.Lb+va)},Fo:function(){ya.Mn(Za)},ue:function(){Pa.se();Pa.te();Pa.Nj();Pa.Do();Pa.Fo()},Gn:function(){Ab.stop();Sa&&(clearInterval(Sa),Sa=null);Oa.isEnabled=!0;Oa.$b=0;Bb=ya.Rl();Hb=gb.Xh();Pb=gb.Vh();Qb=
da;kc=Mb;Vb=Za;lc=F;Ua=va;Ea.isEnabled=!1;ya.ke(!1)},Dn:function(K){function S(){2===++ia&&(Oa.isEnabled=!1,da=Qb,Mb=kc,Za=Vb,F=lc,va=Ua,Pa.ue(),ya.pa(Bb),y(),K&&K())}var ia=0;la===ha.kc?la=ha.Ha:la===ha.lc&&(la=ha.W);ya.cb(la===ha.W?0:1);gb.replace(Hb,S);gb.tg(Pb,S);Pa.Wc();ya.ke(!0)},Aj:function(){var K=Math.tan(Ca.Pb/2);ya.gj({hf:J.hf/K,In:K,mn:Ca.Ri,Ea:J.Ea,Xf:J.Xf,Yf:J.Yf,Uj:L.rb,Yj:J.Qo,Dc:J.Dc,xf:J.xf,vf:J.vf,wf:J.wf,Lc:Za,Ie:J.Ie,Ve:J.Ve,mg:J.mg,hc:J.hc,no:J.uj,oo:J.vj,je:J.je,ic:J.ic,od:J.od,
Ye:J.Ye,Xe:J.Xe,We:J.We,Le:J.Le,Ke:J.ca+J.ua+J.Ke,gd:J.gd+F,Lb:J.Lb+va,tf:J.tf,Zg:J.Zg,Yg:J.Yg,ze:J.ze,Wo:J.Vo,ye:Ca.ye,Qd:J.Qd,Nm:sb,Pd:J.Pd,Rd:J.Rd,Of:J.Of,Mm:rc,Ig:J.Ig})},Vk:function(){var K=ab.Ce,S=ab.Be,ia=1/Math.tan(Ca.Pb/2),ra=jb.Y()/jb.O();Ca.Ri=[ia,0,0,0,0,ia/ra,0,0,0,0,-(S+K)/(S-K),-1,0,0,-2*K*S/(S-K),0];Ca.ye=1/Math.tan(J.To*Math.PI/360)/ia},Ag:function(K,S){q=[.5,.5];K=S/K;S=jb.Y()/jb.O();90===Math.abs(ab.rotate)&&(K=1/K);K>S?q[1]*=S/K:q[0]*=K/S;t[0]=0;t[1]=0;t[2]=0;t[3]=0;switch(ab.rotate){case 0:t[0]=
q[0];t[3]=q[1];break;case 180:t[0]=-q[0];t[3]=-q[1];break;case 90:t[1]=q[0];t[2]=-q[1];break;case -90:t[1]=-q[0],t[2]=q[1]}J.mi||(t[0]*=-1,t[1]*=-1);S=ab.FOVforced;Ca.Pb=2*Math.atan(2*q[0]*Math.tan((S?S:1<K?ab.FOVmobile:ab.FOVdesktop)*Math.PI/180/2));Pa.Vk()},Hg:function(){aa.j("s62",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u40",value:t}])},Bf:function(K,S){return new Promise(function(ia,ra){Pa.lm(K,S);Promise.all([Pa.m(),Pa.mm()]).then(function(){Pa.ei();ia()}).catch(function(Fa){T.qb&&
T.qb("GL_INCOMPATIBLE","Cannot init JEELIZVTO");ra(Fa)})})},lm:function(K,S){T.Hb=document.createElement("canvas");T.Gb=document.createElement("canvas");T.Gb.width=J.width;T.Gb.height=J.height;T.Zj=T.Gb.getContext("2d");T.replace_video=function(ia){Ca.element=ia;Ca.Og.ka=Ca.element;return!0};T.rc=T.Hb.getContext("2d");T.capture_background=function(ia,ra){ia="undefined"===typeof ia?K:ia;ra="undefined"===typeof ra?S:ra;T.Hb.width=ia;T.Hb.height=ra;var Fa=ia/ra,qb=0,kb=0;if(K/S>Fa){var Lb=S*Fa;Fa=S;
qb=Math.round((K-Lb)/2)}else Lb=K,Fa=K/Fa,kb=Math.round((S-Fa)/2);T.rc.save();T.rc.translate(ia,0);T.rc.scale(-1,1);T.rc.drawImage(Ca.element,qb,kb,Lb,Fa,0,0,ia,ra);T.rc.restore();ia=document.createElement("canvas");ia.width=T.Hb.width;ia.height=T.Hb.height;ia.getContext("2d").drawImage(T.Hb,0,0);return ia}},ei:function(){window.CanvasListeners&&(yb.init({qa:jb.ub()}),T.init_listeners=Pa.ei,T.add_listener=yb.add_listener,T.remove_listener=yb.remove_listener,T.animate_swipe=yb.animate_swipe,T.switch_modeInteractor=
yb.switch_mode,T.get_modeInteractor=yb.get_mode,yb.add_listener("move",function(K,S){la===ha.W&&(J.Om&&(Xa.offsetX-=S[0]*J.Bi,Xa.offsetX=Math.min(Math.max(Xa.offsetX,-J.Sd),J.Sd)),Xa.offsetY-=S[1]*J.Bi,Xa.offsetY=Math.min(Math.max(Xa.offsetY,-J.Sd),J.Sd),Pa.se())},!0).add_listener("pinch",function(K,S){la===ha.W&&(Xa.scale+=S*J.Pm,Xa.scale=Math.min(Math.max(Xa.scale,J.Ci[0]),J.Ci[1]),Pa.te())},!0))},mm:function(){return new Promise(function(K,S){fa.m({Jd:!1,Tk:!1,expand:!1,qa:jb.ub(),Qb:jb,onload:function(){ka.Eb=
jc.instance({Kb:J.ca+J.ua+cb.Oo,uc:J.ca+J.ua+cb.Po,tc:cb.Sj,vc:cb.Tj});J.Yb?(ka.Ga=jc.instance({}),xa.Ia.pa(ka.Ga)):ka.Ga=ka.Eb;ya.pa(ka.Ga);ka.Vf=J.Yb?dd.instance({Km:ka.Ga,Im:ka.Eb}):ka.Eb;K()}})||S("CANNOT_INIT_JE3D")})},Dg:function(){ta||(ta=!0,Pa.ue(),r(),za=0,J.Ic&&y())},zi:function(K,S){K=Ac.instance({Me:function(){Pa.Dg();S&&S()},url:K.url,Nc:K.Nc,Jb:K.Jb,Ib:K.Ib});G(K)},Bj:function(){if(J.Yb){var K=Object.assign({},cb,{Ab:b([J.ca,J.ua,cb.Ab])});xa.Ia.ib(K)}}};return Pa}function ed(){return new Promise(function(a,
b){T.Ee&&T.Ee();Ca.Ld=!1;var e={width:{min:ab.minWidth,max:ab.maxWidth,ideal:ab.idealWidth},height:{min:ab.minHeight,max:ab.maxHeight,ideal:ab.idealHeight},facingMode:{ideal:"user"}},f={video:e,audio:!1};Ca.qh=f;e&&-1!==Ca.deviceId&&dc(f,Ca.deviceId);hc(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):!1,function(l){T.Fe&&T.Fe(l);Qc(l).then(a).catch(b)},function(l){T.qb&&T.qb("WEBCAM_UNAVAILABLE",l);b(l)},f)})}function Qc(a){Ca.element=a;a=Ca.element.videoWidth||
Ca.element.width;var b=Ca.element.videoHeight||Ca.element.height;Ca.Og={ka:Ca.element,isPot:!1,isFloat:!1,isFlipY:!0};Ca.ha=ba.instance(Ca.Og);eb.Ag(a,b);return eb.Bf(a,b).then(function(){eb.Hg();return eb.to()}).catch(function(e){return Promise.reject(e)})}function fd(){var a=document.createElement("canvas");a.width=J.width;a.height=J.height;Ca.Eh=a.getContext("2d");Ca.Ld=!0;return Qc(a)}function Wb(a){return 3===arguments.length?this.sb(arguments):this.set(a)}function Rc(a,b){b=Math.floor(b);a.r=
(b>>16&255)/255;a.X=(b>>8&255)/255;a.b=(b&255)/255}function gd(a,b){function e(k){void 0!==k&&1>parseFloat(k)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var f;if(f=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var l=f[2];switch(f[1]){case "rgb":case "rgba":if(f=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(255,parseInt(f[1],10))/255;a.X=Math.min(255,parseInt(f[2],10))/255;a.b=Math.min(255,parseInt(f[3],10))/255;e(f[5]);return}if(f=
/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(100,parseInt(f[1],10))/100;a.X=Math.min(100,parseInt(f[2],10))/100;a.b=Math.min(100,parseInt(f[3],10))/100;e(f[5]);return}break;case "hsl":case "hsla":if(f=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){l=parseFloat(f[1])/360;var p=parseInt(f[2],10)/100,w=parseInt(f[3],10)/100;e(f[5]);a.Kn(l,p,w);return}}}else if(f=/^#([A-Fa-f0-9]+)$/.exec(b)){f=f[1];l=f.length;if(3===l){a.r=
parseInt(f.charAt(0)+f.charAt(0),16)/255;a.X=parseInt(f.charAt(1)+f.charAt(1),16)/255;a.b=parseInt(f.charAt(2)+f.charAt(2),16)/255;return}if(6===l){a.r=parseInt(f.charAt(0)+f.charAt(1),16)/255;a.X=parseInt(f.charAt(2)+f.charAt(3),16)/255;a.b=parseInt(f.charAt(4)+f.charAt(5),16)/255;return}}b&&0<b.length&&(f=hd[b],void 0!==f?Rc(a,f):console.warn("JETHREE.Color: Unknown color "+b))}function sc(a,b,e,f){this.C=a||0;this.D=b||0;this.F=e||0;this.S=void 0!==f?f:1}function Sc(a,b,e){var f=b.C,l=b.D,p=b.F;
b=b.S;var w=e.C,k=e.D,m=e.F;e=e.S;a.C=f*e+b*w+l*m-p*k;a.D=l*e+b*k+p*w-f*m;a.F=p*e+b*m+f*k-l*w;a.S=b*e-f*w-l*k-p*m;return a}function Xb(a,b){this.x=a||0;this.y=b||0}function Va(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0}function Tc(a,b){var e=a.x,f=a.y,l=a.z;a.x=f*b.z-l*b.y;a.y=l*b.x-e*b.z;a.z=e*b.y-f*b.x}function Yb(a,b,e,f){this.C=a||0;this.D=b||0;this.F=e||0;this.Ra=f||Yb.Vj}function Bc(a,b){this.min=void 0!==a?a:new Va(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Va(-Infinity,-Infinity,
-Infinity)}function tc(a){return(new Va).dd(a.min,a.max).Ca(.5)}function id(a,b){a.min.min(b);a.max.max(b)}function Zb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Uc(a,b,e){var f=b.elements,l=e.elements;e=a.elements;b=f[0];var p=f[4],w=f[8],k=f[12],m=f[1],r=f[5],y=f[9],G=f[13],x=f[2],H=f[6],u=f[10],g=f[14],h=f[3],A=f[7],M=f[11];f=f[15];var C=l[0],n=
l[4],d=l[8],v=l[12],I=l[1],N=l[5],z=l[9],F=l[13],L=l[2],q=l[6],t=l[10],R=l[14],O=l[3],ja=l[7],Z=l[11];l=l[15];e[0]=b*C+p*I+w*L+k*O;e[4]=b*n+p*N+w*q+k*ja;e[8]=b*d+p*z+w*t+k*Z;e[12]=b*v+p*F+w*R+k*l;e[1]=m*C+r*I+y*L+G*O;e[5]=m*n+r*N+y*q+G*ja;e[9]=m*d+r*z+y*t+G*Z;e[13]=m*v+r*F+y*R+G*l;e[2]=x*C+H*I+u*L+g*O;e[6]=x*n+H*N+u*q+g*ja;e[10]=x*d+H*z+u*t+g*Z;e[14]=x*v+H*F+u*R+g*l;e[3]=h*C+A*I+M*L+f*O;e[7]=h*n+A*N+M*q+f*ja;e[11]=h*d+A*z+M*t+f*Z;e[15]=h*v+A*F+M*R+f*l;return a}function Cc(a,b,e,f,l,p){this.a=a;this.b=
b;this.c=e;this.Da=f instanceof Va?f:new Va;this.xe=Array.isArray(f)?f:[];this.color=l instanceof Wb?l:new Wb;this.Wg=Array.isArray(l)?l:[];this.Zb=void 0!==p?p:0}function jd(a,b,e){var f=new XMLHttpRequest;f.open("GET",a,!0);var l=f.withCredentials=!1;f.onreadystatechange=function(){404!==f.status||l||(l=!0,e&&e(404));if(4===f.readyState&&200===f.status){var p=null;try{p=JSON.parse(f.responseText)}catch(w){e&&e(-1)}b&&p&&b(p)}};f.onerror=function(){e&&e(0)};f.send()}function Dc(a,b,e){"object"===
typeof a?b(a):jd(a,b,e)}function kd(a){return new Promise(function(b,e){Dc(a,b,e)})}function ld(a,b){for(var e=new Va,f=new Va,l=0,p=b.length;l<p;l++){var w=b[l],k=a[w.a],m=a[w.b],r=a[w.c];k&&m&&r&&(e.gb(r,m),f.gb(k,m),Tc(e,f),0!==e.Jf()&&(e.normalize(),w.Da.L(e)))}}function md(a,b){for(var e=Array(a.length),f=0,l=a.length;f<l;++f)e[f]=new Va;f=new Va;l=new Va;for(var p=0,w=b.length;p<w;++p){var k=b[p],m=a[k.a],r=a[k.b],y=a[k.c];m&&r&&y&&(f.gb(y,r),l.gb(m,r),Tc(f,l),e[k.a].add(f),e[k.b].add(f),e[k.c].add(f))}f=
0;for(a=a.length;f<a;++f)e[f].normalize();a=0;for(f=b.length;a<f;++a)k=b[a],l=k.xe,p=e[k.a],w=e[k.b],k=e[k.c],p&&w&&k&&(3===l.length?(l[0].L(p),l[1].L(w),l[2].L(k)):(l[0]=p.clone(),l[1]=w.clone(),l[2]=k.clone()));return e}function nd(a,b,e,f){function l(v){n.L(b[v]);d.L(n);var I=k[v];M.L(I);M.sub(n.Ca(n.qd(I))).normalize();var N=d.x,z=d.y,F=d.z,L=I.x,q=I.y;I=I.z;C.x=z*I-F*q;C.y=F*L-N*I;C.z=N*q-z*L;N=0>C.qd(m[v])?-1:1;w[4*v]=M.x;w[4*v+1]=M.y;w[4*v+2]=M.z;w[4*v+3]=N}for(var p=a.length,w=new Float32Array(4*
p),k=Array(p),m=Array(p),r=0;r<p;r++)k[r]=new Va,m[r]=new Va;var y=new Va,G=new Va,x=new Va,H=new Xb,u=new Xb,g=new Xb,h=new Va,A=new Va;f.forEach(function(v){var I=v.a,N=v.b;v=v.c;y.L(a[I]);G.L(a[N]);x.L(a[v]);H.L(e[I]);u.L(e[N]);g.L(e[v]);var z=G.x-y.x,F=x.x-y.x,L=G.y-y.y,q=x.y-y.y,t=G.z-y.z,R=x.z-y.z,O=u.x-H.x,ja=g.x-H.x,Z=u.y-H.y,Q=g.y-H.y,ea=1/(O*Q-ja*Z);h.set((Q*z-Z*F)*ea,(Q*L-Z*q)*ea,(Q*t-Z*R)*ea);A.set((O*F-ja*z)*ea,(O*q-ja*L)*ea,(O*R-ja*t)*ea);k[I].add(h);k[N].add(h);k[v].add(h);m[I].add(A);
m[N].add(A);m[v].add(A)});var M=new Va,C=new Va,n=new Va,d=new Va;f.forEach(function(v){l(v.a);l(v.b);l(v.c)});return w}function Vc(a,b,e,f){return Math.sqrt((a-e)*(a-e)+(b-f)*(b-f))}var W={th:!0,wp:!1,xp:!1,dl:!1,sh:!1,vp:!1,Pa:!1,Jd:!1,gq:!1,ca:"",Ei:"",Bk:700,Ak:200,uh:!1,Io:!1,Jo:!1,Ho:!1,hk:3,Nb:!1,fh:!0,Kb:"images/backgrounds/interior2.jpg",uc:"images/backgrounds/interior_light.jpg",Dk:[256,256,512,512],tc:2.1,vc:8,Ck:[64,128,256,256],sm:[60,96,160,250],rm:[8,12,18,40],Pc:2.2,gg:1,Ne:300,jh:500,
Oe:50,Nk:0,Ok:0,kp:45,mp:1,lp:1E3,kh:20,Yo:10,Zo:10,$o:5,hn:.1,Li:20,Oi:100,Pi:100,gn:-Math.PI/3,fn:Math.PI/3,Ni:0,Ej:0,ud:[40,32,16,16],fk:[0,.87,.92,.9],cn:2,Xm:100,ea:!1,ik:16,jk:.4,lk:[.72,.73,.72,.74],wk:1.2,tk:[.5,.5,.5,1],yk:140,xk:280,zk:1.2,mk:20,nk:40,vk:[6,9,9,12],sk:[.03,.02,.02,.018],rk:[.35,.35,.4,.5],pk:[.2,.2,.2,.2],kk:[.1,.15,.15,.15],uk:[200,200,150,120],qk:[1,2,3,5],po:1.1,Aq:[.25,.5,1,2],Bq:256,zq:256,yq:200,qo:[40,80,200,500],ro:[35,45,80,120],Zk:!0,$k:"CCW"},Wc={},aa=function(){function a(q,
t,R){t=q.createShader(t);q.shaderSource(t,R);q.compileShader(t);return q.getShaderParameter(t,q.COMPILE_STATUS)?t:null}function b(q,t,R){t=a(q,q.VERTEX_SHADER,t);R=a(q,q.FRAGMENT_SHADER,R);q===c&&k.push(t,R);var O=q.createProgram();q.attachShader(O,t);q.attachShader(O,R);q.linkProgram(O);return O}function e(q){return["float","sampler2D","int"].map(function(t){return"precision "+q+" "+t+";\n"}).join("")}function f(q,t){t.P=t.P?!0:!1;if(!t.P){t.u=t.u||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}";
t.I=t.I||["a0"];t.R=t.R||[2];t.precision=t.precision||x;t.id=y++;void 0!==t.cj&&(t.cj.forEach(function(ja,Z){t.g=t.g.replace(ja,t.Fa[Z])}),t.cj.splice(0));t.Xg=0;t.R.forEach(function(ja){t.Xg+=4*ja});var R=e(t.precision);t.oa=b(q,R+t.u,R+t.g);t.A={};t.i.forEach(function(ja){t.A[ja]=q.getUniformLocation(t.oa,ja)});t.attributes={};t.va=[];t.I.forEach(function(ja){var Z=q.getAttribLocation(t.oa,ja);t.attributes[ja]=Z;t.va.push(Z)});if(t.s){q.useProgram(t.oa);r=t;m=t.id;for(var O in t.s)q.uniform1i(t.A[O],
t.s[O])}t.Ma=!0}}function l(q){wb.sj(L);m!==q.id&&(L.K(),m=q.id,r=q,c.useProgram(q.oa),q.va.forEach(function(t){0!==t&&c.enableVertexAttribArray(t)}))}function p(q,t,R){f(q,t,R);q.useProgram(t.oa);q.enableVertexAttribArray(t.attributes.a0);m=-1;return r=t}function w(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],s:{u1:0}}}var k=[],m=-1,r=null,y=0,G=!1,x="highp",H=["u1"],u=["u0"],g={u1:0},h={u0:0},A={u1:0,u2:1},M={u1:0,u3:1},C=["u1","u3","u4"],
n={u5:0},d=["u6","u7","u8","u9"],v={u6:0,u7:1},I={s0:w(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:H,s:g,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],s:A},s3:{g:"uniform sampler2D u1;uniform vec2 u10,u11;varying vec2 vv0;void main(){vec2 a=vv0*u10+u11;gl_FragColor=texture2D(u1,a);}",i:["u1","u10","u11"],s:g,P:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",
i:H,s:g},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],s:A},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:H,s:g},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:H,s:g},s8:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u10;}",
i:["u0","u10"],s:h},s9:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;const vec4 f=vec4(.25),g=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u10,f);gl_FragColor=b*g;}",i:["u0","u10"],s:h},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:H,s:g},s11:{g:"uniform sampler2D u1,u12;uniform float u13;const vec4 f=vec4(1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u12,vv0);gl_FragColor=mix(b,a,u13*f);}",
i:["u1","u12","u13"],s:{u1:0,u12:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u14)+texture2D(u1,vv0+u14*vec2(1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,1.)));}",i:["u1","u14"],s:g},s13:{g:"uniform sampler2D u1;varying vec2 vv0;vec4 f(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),g=exp2(c);vec3 h=clamp(b/g,0.,1.);return vec4(h,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=f(a);}",
i:H,s:g,P:!0},s14:{g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",i:H,s:g,P:!0},s15:{g:"uniform sampler2D u1;uniform vec4 u15;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u15);gl_FragColor=j(a);}",
i:["u1","u15"],s:g},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:u,s:h,P:!0},s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:u,s:h,P:!0},s18:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);const float g=.797885,h=.044715;vec4 i(vec4 a){vec4 b=exp(-abs(a)),c=b*b,d=sign(a)*(e-c)/(e+c);return d;}void main(){vec4 a=texture2D(u0,vv0),b=a+h*a*a*a,c=i(g*b);gl_FragColor=.5*a*(e+c);}",
i:u,s:h,P:!0},s19:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:u,s:h,P:!0},s20:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(a)-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:u,s:h},s21:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:u,s:h},s22:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",
i:u,s:h,P:!0},s23:{g:"uniform sampler2D u0,u16;uniform float u17;const vec2 e=vec2(.5);const float f=1e-5;const vec4 g=vec4(1.),i=vec4(0.);varying vec2 vv0;void main(){vec4 a=texture2D(u16,e);float b=u17*u17;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u16","u17"],s:{u0:0,u16:1},P:!0},s24:{g:"uniform sampler2D u1;uniform vec2 u18;varying vec2 vv0;void main(){float a=u18.x*u18.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u18.y),f=floor(u18.x*fract(b*u18.y)),g=(f*u18.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u18"],s:g},s25:{g:"uniform sampler2D u7,u6,u19;varying vec2 vv0;void main(){vec4 a=texture2D(u19,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u7,b),f=texture2D(u6,c);gl_FragColor=d*f;}",i:["u7","u6","u19"],s:Object.assign({u19:2},v),P:!0},s26:{g:"uniform float u8,u9;uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec2 b=fract(vv0*u8);float a=u8*u9;vec2 c=(vec2(.5)+floor(a*vv0))/a;vec4 d=texture2D(u7,c),f=texture2D(u6,b);gl_FragColor=d*f;}",i:d,s:v},s27:{g:"uniform float u8,u9;uniform vec2 u20;uniform sampler2D u7,u6;varying vec2 vv0;void main(){float a=u8*u9;vec2 b=mod(vv0*u20,vec2(1.)),c=floor(vv0*u20)/u20,d=c+fract(b*u8)/u20,f=(vec2(.5)+floor(a*b))/a;vec4 g=texture2D(u7,f),h=texture2D(u6,d);gl_FragColor=g*h;}",
i:["u20"].concat(d),s:v,P:!0},s28:{g:"uniform float u8,u9;uniform sampler2D u7,u6,u22,u23,u24,u25;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u8),d=vv0;float h=u8*u9;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u7,d),m=texture2D(u6,c),a=texture2D(u25,d);a=floor(.5+a*255.);vec4 n=texture2D(u22,c),o=texture2D(u23,c),p=texture2D(u24,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:["u25","u22","u23","u24"].concat(d),s:Object.assign({u25:3,u22:4,u23:5,u24:6},v),P:!0},s29:{g:"uniform sampler2D u7,u6,u3;uniform float u8,u26,u27,u9;uniform vec2 u28;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u26*vv0),d=u26*vv0-c;float g=u8/u26;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u26;float m=u26*u9/u8;vec2 b=m*h;b=floor(u28*b+.5*(u9-1.)*(f-u28));vec2 a=(b+i*u27)/u9;a+=.25/u9;vec2 k=step(a,f)*step(l,a);vec4 n=texture2D(u7,j),o=texture2D(u6,a),p=n*o,q=texture2D(u3,j);gl_FragColor=(p*u27*u27+q)*k.x*k.y;}",
i:["u26","u27","u3","u28"].concat(d),s:Object.assign({u3:2},v)},s30:{g:"uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec4 a=texture2D(u7,vv0),b=texture2D(u6,vv0);gl_FragColor=a*b;}",i:["u7","u6"],s:v,P:!0},s31:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:C,s:M},s32:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);}",
i:["u20"].concat(C),s:M,P:!0},s33:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",i:C,s:M,P:!0},s34:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:["u20"].concat(C),s:M,P:!0},s35:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:C,s:M,P:!0},s36:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:H,s:g,precision:"lowp"},s37:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u29"],s:g,precision:"lowp"},s38:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u29"],s:g,precision:"lowp"},s39:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u30))*2.,b-=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,b+=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u30))*2.,b+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u30"],s:A,P:!0},s40:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u30,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u30"],s:A,P:!0},s41:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u14*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*h),d=texture2D(u5,a+u14*i),j=texture2D(u5,a+u14),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u14"],s:n},s42:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*k),d=texture2D(u5,a+u14*l),g=texture2D(u5,a+u14),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u14*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u14*m),d=f(a+u14*2.),g=f(a+u14*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u14"],
s:n,P:!0},s43:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],s:g,precision:"lowp",P:!0},s44:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u14)+2002./e*texture2D(u1,vv0-2.*u14)+3003./e*texture2D(u1,vv0-u14)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u14)+2002./e*texture2D(u1,vv0+2.*u14)+1001./e*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u14","u1"],
s:g,precision:"lowp",P:!0},s45:{g:"uniform sampler2D u1,u16,u31;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u16,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u16","u31"],s:{u1:0,u16:1,u31:2},P:!0}},N={s46:{g:"uniform float u8,u32;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u8,xyTo=floor(vv0*u8+eps2);float weightSize=toSparsity*u8;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u8,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u8","u7","u6","u3","u32"],Fa:["1.1111","gl_FragColor\\*=2.2222;"]},s47:{g:"uniform float u8,u32,u9;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u9,xyTo=floor(vv0*u8+eps2);float weightSize=fromSparsity*u9;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u8;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u9,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u8 u9 u7 u6 u3 u32".split(" "),Fa:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},z=null,F=null,L={Xb:function(){return G},m:function(){if(!G){z=Ka(I,2);F=Ka(N,2);x="highp";c.getShaderPrecisionFormat&&(c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT),c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.LOW_FLOAT));for(var q in z)f(c,z[q],q);aa.set("s0");c.enableVertexAttribArray(0);G=!0}},sc:function(q){q.forEach(function(t){L.ma(t)})},ma:function(q){z[q.id]=q;f(c,q,q.id)},pm:function(q,
t,R){t||(t=q);z[t]=Object.create(F[q]);z[t].xm=!0;F[q].Fa&&F[q].Fa.forEach(function(O,ja){z[t].g=z[t].g.replace(new RegExp(O,"g"),R[ja])});f(c,z[t],t)},set:function(q){var t=z[q];t.P&&(t.P=!1,f(c,t,q));l(t)},Bb:function(q){return p(q,w(),"s48")},fe:function(q){return p(q,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:x},"s49")},zl:function(q){return"undefined"===typeof z[q]?!1:z[q].Ma},K:function(){-1!==m&&(m=-1,r.va.forEach(function(q){0!==q&&c.disableVertexAttribArray(q)}))},he:function(){var q=
0;r.va.forEach(function(t,R){R=r.R[R];c.vertexAttribPointer(t,R,c.FLOAT,!1,r.Xg,q);q+=4*R})},yl:function(){c.enableVertexAttribArray(0)},dc:function(){L.ec(c)},ec:function(q){q.vertexAttribPointer(r.va[0],2,q.FLOAT,!1,8,0)},ge:function(q,t){c.uniform1i(r.A[q],t)},G:function(q,t){c.uniform1f(r.A[q],t)},N:function(q,t,R){c.uniform2f(r.A[q],t,R)},xg:function(q,t){c.uniform2fv(r.A[q],t)},zg:function(q,t){c.uniform3fv(r.A[q],t)},yg:function(q,t,R,O){c.uniform3f(r.A[q],t,R,O)},io:function(q,t,R,O,ja){c.uniform4f(r.A[q],
t,R,O,ja)},xa:function(q,t){c.uniform4fv(r.A[q],t)},jo:function(q,t){c.uniformMatrix2fv(r.A[q],!1,t)},ko:function(q,t){c.uniformMatrix3fv(r.A[q],!1,t)},Tc:function(q,t){c.uniformMatrix4fv(r.A[q],!1,t)},j:function(q,t){L.set(q);t.forEach(function(R){switch(R.type){case "4f":c.uniform4fv(r.A[R.name],R.value);break;case "3f":c.uniform3fv(r.A[R.name],R.value);break;case "2f":c.uniform2fv(r.A[R.name],R.value);break;case "1f":c.uniform1f(r.A[R.name],R.value);break;case "1i":c.uniform1i(r.A[R.name],R.value);
break;case "mat2":c.uniformMatrix2fv(r.A[R.name],!1,R.value);break;case "mat3":c.uniformMatrix3fv(r.A[R.name],!1,R.value);break;case "mat4":c.uniformMatrix4fv(r.A[R.name],!1,R.value)}})},Lp:function(){return"lowp"},v:function(){L.K();c.disableVertexAttribArray(0);for(var q in z){var t=z[q];t.Ma&&(t.Ma=!1,c.deleteProgram(t.oa));t.xm&&delete z[q]}k.forEach(function(R){c.deleteShader(R)});k.splice(0);y=0;G=!1;r=null;m=-1}};return L}(),c=null,jb=function(){function a(u){console.log("ERROR in ContextFF: ",
u);return!1}function b(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function e(u,g,h){u.setAttribute("width",g);u.setAttribute("height",h)}function f(u){function g(){Ib.v();Ga.reset();A.getExtension("WEBGL_lose_context").loseContext()}if(b())return!1;var h=document.createElement("canvas");e(h,5,5);var A=null;try{A=h.getContext("webgl2",u)}catch(M){return!1}if(!A)return!1;l(A);Ga.Fh(A);u=Ga.Ze(A);if(!u.Wa&&!u.Ya)return g(),!1;u=Ib.lh(A,u);g();return u?!0:!1}function l(u){u.clearColor(0,
0,0,0);u.disable(u.DEPTH_TEST);u.disable(u.BLEND);u.disable(u.DITHER);u.disable(u.STENCIL_TEST);u.disable(u.CULL_FACE);u.GENERATE_MIPMAP_HINT&&u.FASTEST&&u.hint(u.GENERATE_MIPMAP_HINT,u.FASTEST);u.disable(u.SAMPLE_ALPHA_TO_COVERAGE);u.disable(u.SAMPLE_COVERAGE);u.depthFunc(u.LEQUAL);u.clearDepth(1)}var p=null,w=null,k=null,m=null,r=!0,y=null,G=null,x=[],H={O:function(){return p.width},Y:function(){return p.height},ub:function(){return p},Dl:function(){return c},la:function(){return r},flush:function(){c.flush()},
Tp:function(){Ba.$();H.Bn()},Bn:function(){ba.reset();X.reset();aa.K();aa.yl();c.disable(c.DEPTH_TEST);c.disable(c.BLEND);X.kd();aa.dc()},Il:function(){y||(y=new Uint8Array(p.width*p.height*4));c.readPixels(0,0,p.width,p.height,c.RGBA,c.UNSIGNED_BYTE,y);return y},Gp:function(){return p.toDataURL("image/jpeg")},Hp:function(){Ba.ba();w||(w=document.createElement("canvas"),k=w.getContext("2d"));e(w,p.width,p.height);for(var u=H.Il(),g=k.createImageData(w.width,w.height),h=w.width,A=w.height,M=g.data,
C=0;C<A;++C)for(var n=A-C-1,d=0;d<h;++d){var v=4*(C*h+d),I=4*(n*h+d);M[v]=u[I];M[v+1]=u[I+1];M[v+2]=u[I+2];M[v+3]=u[I+3]}k.putImageData(g,0,0);return w.toDataURL("image/png")},Rh:function(u){!w&&u&&(w=document.createElement("canvas"),k=w.getContext("2d"));var g=u?w:document.createElement("canvas");e(g,p.width,p.height);(u?k:g.getContext("2d")).drawImage(p,0,0);return g},m:function(u){u=Object.assign({Xa:null,ag:null,qa:null,Ue:null,width:512,height:512,premultipliedAlpha:!1,vm:!0,antialias:!1,debug:!1,
up:!1},u);u.Xa?(c=u.Xa,p=u.Xa.canvas):u.Ue&&!u.qa?p=document.getElementById(u.Ue):u.qa&&(p=u.qa);p||(p=document.createElement("canvas"));p.width=u.width;p.height=u.height;if(c)r=c instanceof WebGL2RenderingContext;else{r=!0;var g={antialias:u.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:u.premultipliedAlpha,stencil:!1,depth:u.vm,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&
(g.antialias=!1);var h=f(g);h||!g.antialias||b()||(g.antialias=!1,h=f(g));h&&(c=p.getContext("webgl2",g));c?r=!0:((c=p.getContext("webgl",g))||(c=p.getContext("experimental-webgl",g)),r=!1)}if(!c)return a("WebGL1 and 2 are not enabled");u.ag&&p.addEventListener&&(m=c.getExtension("WEBGL_lose_context"))&&(G=u.ag,p.addEventListener("webglcontextlost",G,!1));if(!Ga.m())return a("Not enough GL capabilities");l(c);aa.m();X.m();Ib.lh(c,Ga.Fl());x.forEach(function(A){A(c)});x.splice(0);return!0},jp:function(){return new Promise(function(u){c?
u(c):x.push(u)})},v:function(){c&&(Ga.v(),aa.v(),Ib.v());m&&G&&(p.removeEventListener("webglcontextlost",G,!1),m=G=null);c=y=k=w=p=null;x.splice(0)}};return H}(),wb=function(){function a(){null===b&&("undefined"!==typeof aa?b=aa:"undefined"!==typeof E&&(b=E))}var b=null;return{reset:function(){b=null},sj:function(e){b!==e&&(b&&b.K(),b=e)},Xb:function(){return b.Xb()},dc:function(){return b.dc()},ec:function(e){return b.ec(e)},he:function(){return b.he()},K:function(){return b.K()},set:function(e){a();
return b.set(e)},Bb:function(e){a();return b.Bb(e)},fe:function(e){a();return b.fe(e)}}}(),ba=function(){function a(F){c.bindTexture(c.TEXTURE_2D,F)}function b(F){var L=new Uint16Array(F.length);F.forEach(function(q,t){v[0]=q;var R=I[0];var O=R>>16&32768;q=R>>12&2047;var ja=R>>23&255;R=103>ja?O:142<ja?O|31744|((255==ja?0:1)&&R&8388607):113>ja?(q|=2048,O|(q>>114-ja)+(q>>113-ja&1)):(O|ja-112<<10|q>>1)+(q&1);L[t]=R});return L}function e(){if(null!==N.zf)return N.zf;var F=f(b([.5,.5,.5,.5]),!0);return null===
F?!0:N.zf=F}function f(F,L){if(!wb.Xb()||!H)return null;var q=null,t=Math.sqrt(F.length/4);try{var R=c.getError();if("FUCKING_BIG_ERROR"===R)return!1;q=z.instance({isFloat:!1,T:L,array:F,width:t});R=c.getError();if(R!==c.NO_ERROR)return!1}catch(O){return!1}Ba.ba();c.viewport(0,0,t,t);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);wb.set("s0");q.Ka(0);X.l(!0,!0);F=4*t*t;L=new Uint8Array(F);c.readPixels(0,0,t,t,c.RGBA,c.UNSIGNED_BYTE,L);t=!0;for(R=0;R<F;++R)t=t&&3>Math.abs(L[R]-127);q.remove();Ba.$();
return t}var l=0,p=null,w=0,k=null,m=null,r=null,y=null,G=null,x=null,H=!1,u=[],g={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ka:null,$h:null,wm:!1,T:!1,B:null,J:4,Tf:0},h=!1,A=null,M=null,C=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],n=!1,d=!1,v=new Float32Array(1),I=new Int32Array(v.buffer),N={zf:null,Af:null},z={m:function(){H||(G=[c.RGBA,null,c.RGBA,c.RGBA],x=
[c.RGBA,null,c.RGBA,c.RGBA],p=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],n="undefined"!==typeof fa,d="undefined"!==typeof Ga,k=[-1,-1,-1,-1,-1,-1,-1,-1],y=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],H=!0)},nm:function(){if(!m){for(var F=new Float32Array(16384),L=0;16384>L;++L)F[L]=2*Math.random()-1;m={random:z.instance({isFloat:!0,isPot:!0,array:F,width:64}),Ij:z.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}z.Eo()},oj:function(F){c.framebufferTexture2D(Ba.pf(),
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,F,0)},Zh:function(){return m.Ij},Eo:function(){y[1]=Ga.mf(c)},bo:function(){x=G=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Xi:function(F){aa.set("s1");Ba.ba();var L=F.O(),q=F.Y();c.viewport(0,0,L,q);F.h(0);X.l(!1,!1)},iq:function(F,L){z.Xi(F);c.readPixels(0,0,F.O(),F.Y(),c.RGBA,c.UNSIGNED_BYTE,L)},jq:function(F,L){z.Xi(F);return Ga.lg(0,0,F.O(),F.Y(),L)},Mh:function(F,L,q,t,R,O,ja){F.activeTexture(F.TEXTURE0);var Z=F.createTexture();F.bindTexture(F.TEXTURE_2D,Z);R=R instanceof
Float32Array?R:new Float32Array(R);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST);F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,O);F.texImage2D(F.TEXTURE_2D,0,F.RGBA,q,t,0,F.RGBA,F.FLOAT,R);F.bindTexture(F.TEXTURE_2D,null);F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,!1);ja&&(Ba.$(),aa.Bb(F));F.viewport(0,0,q,t);F.framebufferTexture2D(F.FRAMEBUFFER,
F.COLOR_ATTACHMENT0,F.TEXTURE_2D,L,0);F.bindTexture(F.TEXTURE_2D,Z);ja?X.l(!0,!0):X.Ob(F);F.deleteTexture(Z);H&&(k[0]=-1,r=null,l=0)},Ge:function(F){F!==l&&(c.activeTexture(p[F]),l=F)},instance:function(F){function L(){ka=void 0!==Q.ka.videoWidth?Q.ka.videoWidth:Q.ka.width;ta=void 0!==Q.ka.videoHeight?Q.ka.videoHeight:Q.ka.height}function q(da){var va=c.getError();if("FUCKING_BIG_ERROR"===va)return!1;c.texImage2D(c.TEXTURE_2D,0,bb,Ea,Oa,da);va=c.getError();va!==c.NO_ERROR&&Ea!==c.RGBA&&(Ea=c.RGBA,
c.texImage2D(c.TEXTURE_2D,0,bb,Ea,Oa,da));return!0}function t(){if(!Y){a(na);sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,sb);Q.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,Q.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,Q.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));Q.isAnisotropicFiltering&&"undefined"!==typeof W&&c.texParameterf(c.TEXTURE_2D,
fa.Jl().TEXTURE_MAX_ANISOTROPY_EXT,W.hk);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,Q.isLinear?c.LINEAR:c.NEAREST);Q.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Q.isMipmap&&!Bb?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Q.isMipmap&&!Bb?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);Ea=G[Q.J-1];bb=x[Q.J-1];Oa=y[P];if(Ga.la()){var da=Ga.Ll();Ea===c.RGBA&&Oa===c.FLOAT?Q.isMipmap||Q.isLinear?bb=Ib.Nl(c):Ga.fa()?da&&(bb=da):bb=c.RGBA16F||c.RGBA:Ea===
c.RGB&&Oa===c.FLOAT&&da&&(bb=da,Ea=c.RGBA)}if(Q.T&&!Q.isFloat||Q.isFloat&&Q.isMipmap&&Ib.Em())bb=Ga.Ml(),Oa=Ga.mf(c);Q.Tf&&(Pb=Q.Tf);Q.isSrgb&&4===Q.J&&(Ea=fa.fm());if(Q.ka)q(Q.ka);else if(Q.url)q(za);else if(Da){da=Da;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,da),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,ka,ta,0,c.RGBA,c.UNSIGNED_BYTE,null)))}catch(qc){c.texImage2D(c.TEXTURE_2D,
0,bb,ka,ta,0,Ea,Oa,null)}Q.isKeepArray||(Da=null)}else da=c.getError(),"FUCKING_BIG_ERROR"!==da&&(c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,null),da=c.getError(),da!==c.NO_ERROR&&(Ea=c.RGBA,Q.T&&Oa!==c.FLOAT&&(Oa=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,null))));if(Q.isMipmap)if(!Bb&&Ua)Ua.zd(),Qb=!0;else if(Bb){da=Math.log2(Math.min(ka,ta));Hb=Array(1+da);Hb[0]=na;for(var va=1;va<=da;++va){var Za=Math.pow(2,va),Ja=ka/Za;Za=ta/Za;var Xa=c.createTexture();a(Xa);c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,bb,Ja,Za,0,Ea,Oa,null);a(null);Hb[va]=Xa}Qb=!0}a(null);k[l]=-1;sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);Ia=!0;Q.B&&Ua&&(Q.B(Ua),Q.B=null)}}function R(){for(var da=ka*ta,va=2*da,Za=3*da,Ja=0;Ja<da;++Ja)ha[0][Ja]=mb[Ja],ha[1][Ja]=mb[Ja+da],ha[2][Ja]=mb[Ja+va],ha[3][Ja]=mb[Ja+Za]}function O(){var da=ka*ta*4;la=[new Uint8Array(da),new Uint8Array(da),new Uint8Array(da),new Uint8Array(da)];
ha=[new Float32Array(la[0].buffer),new Float32Array(la[1].buffer),new Float32Array(la[2].buffer),new Float32Array(la[3].buffer)];Sa=new Uint8Array(4*da);mb=new Float32Array(Sa.buffer);pa=!0}function ja(){Z=new Uint8Array(ka*ta*4);lc=new Float32Array(Z.buffer);Vb=!0}var Z,Q=Object.assign({},g,F),ea=w++;null===Q.isFlipY&&(Q.isFlipY=Q.url?!0:!1);Q.data&&(Q.array="string"===typeof Q.data?Kb(Q.data):Q.isFloat?new Float32Array(Q.data):new Uint8Array(Q.data),Q.isFlipY=!1);var P=0,D=Q.ka?!0:!1,B=null,U=null,
ca=!1;Q.T=Q.T||Q.isFloat;Q.T&&(P=1);!Q.wm&&Q.isFloat&&d&&!Ga.fa()&&(Q.isFloat=!1);Q.isFloat&&(P=2);Q.isAnisotropicFiltering&&n&&!fa.Dm()&&(Q.isAnisotropicFiltering=!1);var na=Q.$h||c.createTexture(),za=null,Da=!1,ka=0,ta=0,Ia=!1,Y=!1,pa=!1,ha=null,la=null,Sa=null,mb=null,bb=null,Ea=null,Oa=null,sb=Q.isFlipY,rc=(F=Q.T&&Q.isMipmap)&&Ib.Qk(),Bb=F&&!rc?!0:!1,Hb=null,Pb=-1,kc=-1,Qb=!1,Vb=!1,lc=Z=null;Q.width&&(ka=Q.width,ta=Q.height?Q.height:ka);var Ua={get:function(){return na},O:function(){return ka},
Y:function(){return ta},gm:function(){return Q.url},si:function(){return Q.isFloat},ti:function(){return Q.T},wq:function(da){na=da},$p:function(){return Q.isLinear},zd:function(){c.generateMipmap(c.TEXTURE_2D)},Ik:function(da,va){Bb?(da||(da=Ua.Wh()),z.Ge(va),a(Hb[da]),k[va]=-1):Ua.h(va)},Wh:function(){-1===Pb&&(Pb=Math.log(ka)/Math.log(2));return Pb},Cl:function(da){da||(da=Ua.Wh());if(Bb){aa.set("s12");z.Ge(0);for(var va=ka,Za=ta,Ja=1;Ja<=da;++Ja)va/=2,Za/=2,aa.N("u14",.25/va,.25/Za),c.viewport(0,
0,va,Za),a(Hb[Ja-1]),c.framebufferTexture2D(Ba.pf(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Hb[Ja],0),X.l(!1,1===Ja);k[0]=-1}else da!==kc&&(kc=da,c.TEXTURE_MAX_LEVEL&&c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAX_LEVEL,da)),Ua.zd()},xq:function(da){(D=!(Array.isArray(da)||da.constructor===Float32Array||da.constructor===Uint8Array))?(Da=null,Q.ka=da,L()):Da=da},h:function(da){if(!Ia)return!1;z.Ge(da);if(k[da]===ea)return!1;a(na);k[da]=ea;return!0},Ka:function(da){c.activeTexture(p[da]);l=da;a(na);k[da]=ea},
o:function(){r=Ua;z.oj(na)},M:function(){c.viewport(0,0,ka,ta);r=Ua;z.oj(na)},qe:z.qe,Wn:function(da,va){ka=da;ta=va},resize:function(da,va){Ua.Wn(da,va);t()},clone:function(da){da=z.instance({width:ka,height:ta,T:Q.T,isFloat:Q.isFloat,isLinear:Q.isLinear,isMirrorY:Q.isMirrorY,isFlipY:da?!sb:sb,isPot:Q.isPot});wb.set("s0");Ba.$();da.M();Ua.h(0);X.l(!0,!0);return da},Uc:function(){c.viewport(0,0,ka,ta)},remove:function(){c.deleteTexture(na);Y=!0;u.splice(u.indexOf(Ua),1);Ua=null},refresh:function(){Ua.Ka(0);
sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);D?c.texImage2D(c.TEXTURE_2D,0,bb,Ea,Oa,Q.ka):c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,Da);sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Vi:function(){pa||O();c.readPixels(0,0,ka,4*ta,c.RGBA,c.UNSIGNED_BYTE,Sa);R();return ha},rn:function(){pa||O();return Ga.lg(0,0,ka,4*ta,Sa).then(function(){R();return ha})},tn:function(){Vb||ja();c.readPixels(0,0,ka,ta,c.RGBA,c.UNSIGNED_BYTE,Z);return lc},sn:function(){Vb||ja();return Ga.lg(0,0,ka,ta,Z)},yh:function(da){Ba.ba();
aa.set("s15");Ua.h(0);if(da)c.viewport(0,0,ka,ta),aa.io("u15",.25,.25,.25,.25),X.l(!1,!0);else for(da=0;4>da;++da)c.viewport(0,ta*da,ka,ta),aa.xa("u15",C[da]),X.l(!1,0===da)},Sg:function(da){var va;if(va=Oa===y[0])null!==N.Af?va=N.Af:(va=f(new Uint8Array([127,127,127,127]),!1),va=null===va?!0:N.Af=va),va=!va;a(na);sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);va?(ca||(B=document.createElement("canvas"),B.width=ka,B.height=ta,U=B.getContext("2d"),U.createImageData(ka,ta),ca=!0),null.data.set(da),U.putImageData(null,
0,0),c.texImage2D(c.TEXTURE_2D,0,bb,Ea,Oa,B)):c.texImage2D(c.TEXTURE_2D,0,bb,ka,ta,0,Ea,Oa,da);k[l]=ea;sb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Lq:function(da,va){a(na);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,bb,Ea,Oa,da);k[l]=ea;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},ac:function(da,va){var Za=ka*ta,Ja=4*Za;da=Q.T?da?"RGBE":"JSON":"RGBA";va&&(da=va);va=Ga.la()&&!1;var Xa=null;switch(da){case "RGBE":Xa="s13";break;case "JSON":Xa=va?"s0":"s15";break;case "RGBA":case "RGBAARRAY":Xa=
"s7"}pa||("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da?(la=new Uint8Array(Ja),pa=!0):"JSON"!==da||va||O());Ba.ba();aa.set(Xa);Ua.h(0);Ja=null;if("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da){c.viewport(0,0,ka,ta);X.l(!0,!0);c.readPixels(0,0,ka,ta,c.RGBA,c.UNSIGNED_BYTE,la);if("RGBAARRAY"===da)return{data:la};h||(A=document.createElement("canvas"),M=A.getContext("2d"),h=!0);A.width=ka;A.height=ta;Za=M.createImageData(ka,ta);Za.data.set(la);M.putImageData(Za,0,0);Ja=A.toDataURL("image/png")}else if("JSON"===
da)if(va)Ja=new Float32Array(Za),c.viewport(0,0,ka,ta),X.l(!0,!0),c.readPixels(0,0,ka,ta,c.RGBA,c.FLOAT,Ja);else{for(Ja=0;4>Ja;++Ja)c.viewport(0,ta*Ja,ka,ta),aa.xa("u15",C[Ja]),X.l(!Ja,!Ja);Ua.Vi();Ja=Array(Za);for(va=0;va<Za;++va)Ja[4*va]=ha[0][va],Ja[4*va+1]=ha[1][va],Ja[4*va+2]=ha[2][va],Ja[4*va+3]=ha[3][va]}return{format:da,data:Ja,width:ka,height:ta,isMirrorY:Q.isMirrorY,isFlipY:"RGBA"===da?Q.isFlipY:!Q.isFlipY}}};Q.isMipmap&&!Bb&&Ia&&!Qb&&(Ua.zd(),Qb=!0);if(Q.url)a(na),c.texImage2D(c.TEXTURE_2D,
0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),za=new Image,za.sp="Anonymous",za.crossOrigin="Anonymous",za.src=Q.url,za.onload=function(){ka=za.width;ta=za.height;t()};else if(Q.ka){var Mb=function(){L();ka?t():setTimeout(Mb,1)};Mb()}else Q.array?(Q.T&&!Q.isFloat?Q.array instanceof Uint16Array?(Da=Q.array,t()):e()?(Da=b(Q.array),t()):(t(),z.Mh(c,na,Ua.O(),Ua.Y(),Q.array,sb,!0)):(Da=Q.isFloat?Q.array instanceof Float32Array?Q.array:new Float32Array(Q.array):Q.array instanceof Uint8Array?Q.array:new Uint8Array(Q.array),
t()),Q.isKeepArray||(Da&&Da!==Q.array&&(Da=null),delete Q.array)):Q.$h?Ia=!0:t();Ua.Pp=Ua.O;Q.B&&Ia&&(Q.B(Ua),Q.B=null);u.push(Ua);return Ua},ba:function(F){F!==l&&(c.activeTexture(p[F]),l=F);k[F]=-1;a(null)},Kk:function(F){m.random.h(F)},qe:function(){r=null;c.framebufferTexture2D(Ba.pf(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==l&&c.activeTexture(p[0]);for(var F=0;F<p.length;++F)k[F]=-1;l=-1},mq:function(){l=-1},Kj:function(){for(var F=0;F<p.length;++F)z.ba(F)},H:function(){m&&
(m.random.remove(),m.Ij.remove())},Xc:function(F,L){if("RGBA"===F.format||"RGBE"===F.format){var q=new Image;q.src=F.data;q.onload=function(){z.instance({isMirrorY:F.isMirrorY,isFlipY:F.isFlipY,isFloat:!1,ka:q,B:function(t){if("RGBA"===F.format)L(t);else{var R=F.width,O=F.height,ja=z.instance({isMirrorY:F.isMirrorY,isFloat:!0,width:R,height:O,isFlipY:F.isFlipY});Ba.$();c.viewport(0,0,R,O);aa.set("s14");ja.o();t.h(0);X.l(!0,!0);z.ba(0);L(ja);Ga.flush();t.remove()}}})}}else"JSON"===F.format?L(z.instance({isFloat:!0,
isFlipY:F.isFlipY,width:F.width,height:F.height,array:new Float32Array(F.data)})):L(!1)},Wk:b,v:function(){r&&(Ba.$(),z.qe(),Ba.ba());z.Kj();u.slice(0).forEach(function(F){F.remove()});u.splice(0);H=!1;w=0;"undefined"!==typeof Ib&&Ib.v();m=null}};return z}(),Mc={instance:function(a){var b=[ba.instance(a),ba.instance(a)],e=[b[1],b[0]],f=e,l={jj:function(p){f[1].o();f[0].h(p);l.wj()},Qn:function(p){f[1].M();f[0].h(p);l.wj()},wj:function(){f=f===b?e:b},refresh:function(){f[0].refresh();f[1].refresh()},
h:function(p){f[0].h(p)},Ka:function(p){f[0].Ka(p)},Jk:function(p){f[1].h(p)},Kp:function(){return f[0]},Np:function(){return f[1]},Sg:function(p){f[0].Sg(p);f[1].Sg(p)},remove:function(){f[0].remove();f[1].remove();f=null},sync:function(){l.Qn(0);aa.set("s0");X.l(!1,!1)}};return l}},X=function(){function a(m){var r={ja:null,indices:null};r.ja=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,r.ja);m.bufferData(m.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),m.STATIC_DRAW);r.indices=m.createBuffer();
m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,r.indices);m.bufferData(m.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),m.STATIC_DRAW);return r}var b=null,e=0,f=!1,l=[],p=-2,w=-2,k={reset:function(){w=p=-2},m:function(){f||(b=a(c),k.kd(),f=!0)},instance:function(m){var r=e++,y=m.indices?m.indices.length:0,G="undefined"===typeof m.mode?c.STATIC_DRAW:m.mode,x=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,x);c.bufferData(c.ARRAY_BUFFER,m.ja instanceof Float32Array?m.ja:new Float32Array(m.ja),G);p=r;var H=null,u=
null,g=null;if(m.indices){H=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,H);var h=null;65536>m.indices.length?(h=Uint16Array,u=c.UNSIGNED_SHORT,g=2):(h=Uint32Array,u=c.UNSIGNED_INT,g=4);h=m.indices instanceof h?m.indices:new h(m.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,h,G);w=r}var A={wc:function(M){p!==r&&(c.bindBuffer(c.ARRAY_BUFFER,x),p=r);M&&wb.he()},Gk:function(){w!==r&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,H),w=r)},bind:function(M){A.wc(M);A.Gk()},U:function(){c.drawElements(c.TRIANGLES,
y,u,0)},La:function(M,C){c.drawElements(c.TRIANGLES,M,u,C*g)},remove:function(){c.deleteBuffer(x);m.indices&&c.deleteBuffer(H);A=null}};l.push(A);return A},kd:function(){-1!==p&&(c.bindBuffer(c.ARRAY_BUFFER,b.ja),p=-1);-1!==w&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.indices),w=-1)},l:function(m,r){m&&X.kd();r&&wb.dc();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Ob:function(m){m=m||c;var r=a(m);m.bindBuffer(m.ARRAY_BUFFER,r.ja);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,r.indices);wb.ec(m);m.clear(m.COLOR_BUFFER_BIT);
m.drawElements(m.TRIANGLES,3,m.UNSIGNED_SHORT,0);m.flush();m.bindBuffer(m.ARRAY_BUFFER,null);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null);m.deleteBuffer(r.ja);m.deleteBuffer(r.indices);k.reset();f&&(k.kd(),wb.dc())},H:function(){var m=c,r=b;m.deleteBuffer(r.ja);m.deleteBuffer(r.indices)},v:function(){k.H();l.forEach(function(m){m.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);k.reset();f=!1;l.splice(0);e=0}};return k}(),Ba=function(){var a=null,b=null,e=null,f=
!1,l=[],p={na:-2,Lh:1},w={Xb:function(){return f},m:function(){if(!f){a=c.createFramebuffer();var k=Ga.la();b=k&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;e=k&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;f=!0}},Kl:function(){return b},Sh:function(){return e},pf:function(){return c.FRAMEBUFFER},Op:function(){return p},Dp:function(){return a},instance:function(k){void 0===k.Ec&&(k.Ec=!1);var m=k.ha?k.ha:null,r=k.width,y=void 0!==k.height?k.height:k.width,G=a,x=null,H=!1,u=!1,g=0;m&&
(r=r?r:m.O(),y=y?y:m.Y());var h={dj:function(){H||(G=c.createFramebuffer(),H=!0,g=p.Lh++)},ed:function(){h.dj();h.o();x=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,x);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,r,y);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,x);c.clearDepth(1)},bind:function(A,M){g!==p.na&&(c.bindFramebuffer(b,G),p.na=g);m&&m.o();M&&c.viewport(0,0,r,y);A&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},gh:function(){g!==p.na&&(c.bindFramebuffer(b,
G),p.na=g)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Qe:function(){c.clear(c.COLOR_BUFFER_BIT)},nh:function(){c.clear(c.DEPTH_BUFFER_BIT)},Uc:function(){c.viewport(0,0,r,y)},o:function(){g!==p.na&&(c.bindFramebuffer(b,G),p.na=g)},rtt:function(A){m=A;p.na!==g&&(c.bindFramebuffer(c.FRAMEBUFFER,G),p.na=g);A.o()},ba:function(){c.bindFramebuffer(b,null);p.na=-1},resize:function(A,M){r=A;y=M;x&&(c.bindRenderbuffer(c.RENDERBUFFER,x),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,
r,y))},remove:function(){G===a||u||(c.bindFramebuffer(b,G),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),x&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(G),x&&c.deleteRenderbuffer(x));u=!0}};k.Ec&&h.ed();l.push(h);return h},ba:function(){c.bindFramebuffer(b,null);p.na=-1},Jq:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);Ga.tj();p.na=-1},reset:function(){p.na=-2},$:function(){0!==
p.na&&(c.bindFramebuffer(b,a),p.na=0)},clear:function(){Ga.tj();c.clear(c.COLOR_BUFFER_BIT)},v:function(){w.ba();l.forEach(function(k){k.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);w.reset();f=!1;l.splice(0);p.Lh=1}};return w}(),Ga=function(){function a(){k="undefined"===typeof jb?fa:jb;m=!0}function b(d,v,I){for(var N=0;N<v.length;++N){var z=I.getExtension(v[N]+"_"+d);if(z)return z}return null}function e(){null!==h.pe&&(clearTimeout(h.pe),h.pe=null);h.Sb=!1}function f(d){if(0===h.xb.length){h.za=
c.PIXEL_PACK_BUFFER;h.xb.splice(0);h.Fd.splice(0);for(var v=0;v<h.yc;++v)h.xb.push(c.createBuffer()),h.Fd.push(-1);h.Ta=0;h.$f=0}c.bindBuffer(h.za,h.xb[h.Ta]);d.byteLength!==h.Fd[h.Ta]&&(c.bufferData(h.za,d.byteLength,c.STREAM_READ),h.Fd[h.Ta]=d.byteLength);h.Up=!0}function l(){c.bindBuffer(h.za,null)}function p(){h.Rb.forEach(function(d){c.deleteSync(d)});h.Rb.splice(0)}function w(){h.Ta=(h.Ta+1)%h.yc;++h.$f}var k=null,m=!1,r={ii:!1,Kg:null,Lg:null,oi:!1,Bm:!1,Mg:null,pi:!1,Ng:null,ji:!1,Re:null,
tm:!1,Se:null,um:!1},y=null,G={Wa:!0,Ya:!0,gf:!0,Ui:!1},x=null,H=!0,u=null,g=null,h={Xk:1,yc:-1,Ta:0,$f:0,Sb:!1,xb:[],Rb:[],Fd:[],za:null,pe:null},A="EXT WEBGL OES MOZ_OES WEBKIT_OES KHR".split(" "),M=["OES","MOZ_OES","WEBKIT_OES"],C="undefined"===typeof window?{}:window,n={m:function(){if(m)return!0;n.reset();m||a();var d=c;if(!y.ii){y.Kg=n.Ih(d);C.GL_EXT_FLOAT=y.Kg;y.oi=y.Kg?!0:!1;if(y.oi||n.la())y.Lg=n.Jh(d),y.Bm=y.Lg?!0:!1,C.GL_EXT_FLOATLINEAR=y.Lg;y.ii=!0}if(!y.ji){y.Mg=n.wd(d);y.Mg&&(y.pi=!0,
C.GL_EXT_HALFFLOAT=y.Mg);if(y.pi||n.la())y.Ng=n.Kh(d),C.GL_EXT_HALFFLOATLINEAR=y.Ng;y.Xp=y.Ng?!0:!1;y.ji=!0}y.Re=n.Gh(d);y.tm=y.Re?!0:!1;C.GL_EXT_COLORBUFFERFLOAT=y.Re;y.Se=n.Hh(d);y.um=y.Se?!0:!1;C.GL_EXT_COLORBUFFERHALFFLOAT=y.Se;Ba.m();ba.m();if(!n.gl())return!1;X.m();ba.nm();return!0},reset:function(){y=Object.assign({},r);x=Object.assign({},G)},O:function(){m||a();return k.O()},Y:function(){m||a();return k.Y()},la:function(){m||a();return k.la()},Fh:function(d){n.Gh(d);n.Hh(d);n.Ih(d);n.Jh(d);
n.wd(d);n.Kh(d)},Gh:b.bind(null,"color_buffer_float",A),Hh:b.bind(null,"color_buffer_half_float",A),Ih:b.bind(null,"texture_float",M),Jh:b.bind(null,"texture_float_linear",M),wd:b.bind(null,"texture_half_float",M),Kh:b.bind(null,"texture_half_float_linear",M),mf:function(d){var v=n.wd(d);return v&&v.HALF_FLOAT_OES?v.HALF_FLOAT_OES:d.HALF_FLOAT||d.FLOAT},Ll:function(){return g||c.RGBA32F||c.RGBA},Ml:function(){return u||c.RGBA16F||c.RGBA},Fl:function(){return x},fa:function(){return x.Wa},np:function(){return x.Ya},
Pk:function(){return x.gf},Sk:function(){return x.Ui&&H},Hj:function(d){H=d;!d&&h.Sb&&(p(),c.bindBuffer(h.za,null),h.Sb=!1)},aq:function(){return h.Sb},me:function(d,v,I){function N(){d.bindTexture(d.TEXTURE_2D,null);d.bindFramebuffer(z,null);d.deleteTexture(q);d.deleteFramebuffer(L)}var z=d.FRAMEBUFFER,F=d.NEAREST,L=d.createFramebuffer();d.bindFramebuffer(z,L);var q=d.createTexture();d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,q);d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1);d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,F);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,F);d.texImage2D(d.TEXTURE_2D,0,v,3,3,0,d.RGBA,I,null);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,q,0);if(d.checkFramebufferStatus(d.READ_FRAMEBUFFER||d.FRAMEBUFFER)!==d.FRAMEBUFFER_COMPLETE)return N(),!1;wb.fe(d);d.clearColor(0,0,0,0);d.viewport(0,0,3,3);d.disable(d.DEPTH_TEST);
d.clear(d.COLOR_BUFFER_BIT);X.Ob(d);d.bindFramebuffer(z,null);wb.Bb(d);d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,q);X.Ob(d);v=new Uint8Array(36);d.readPixels(0,0,3,3,d.RGBA,d.UNSIGNED_BYTE,v);N();for(I=0;36>I;++I)if(3!==I%4&&3<Math.abs(v[I]-127))return!1;return!0},Ze:function(d){var v={Wa:!1,Ya:!1};d.disable(d.BLEND);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.RGBA32F&&n.me(d,d.RGBA32F,d.FLOAT)&&(v.Wa=!0,g=d.RGBA32F);!v.Wa&&n.me(d,d.RGBA,d.FLOAT)&&(v.Wa=!0,g=d.RGBA);var I=n.mf(d);
u=null;d.RGBA16F&&n.me(d,d.RGBA16F,I)&&(v.Ya=!0,u=d.RGBA16F);!v.Ya&&n.me(d,d.RGBA,I)&&(v.Ya=!0,u=d.RGBA);return v},il:function(){var d=Ba.instance({width:2});d.dj();var v=ba.instance({width:2,isFloat:!0,J:3});d.o();v.o();n.flush();c.checkFramebufferStatus(Ba.Sh())!==c.FRAMEBUFFER_COMPLETE?(ba.bo(),x.gf=!1):x.gf=!0;d.remove();v.remove()},jl:function(){var d=!1;n.la()&&(d="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(v){return"undefined"!==
typeof c[v]}));x.Ui=d},gl:function(){var d=n.Ze(c);Object.assign(x,d);if(!x.Wa&&!x.Ya)return!1;n.il();n.jl();return!0},un:function(d,v,I,N,z){c.readPixels(d,v,I,N,c.RGBA,c.UNSIGNED_BYTE,z);return Promise.resolve(z,!1)},lg:function(d,v,I,N,z,F,L){if(!n.Sk())return n.un(d,v,I,N,z);h.yc=L||h.Xk;f(z);c.readPixels(d,v,I,N,c.RGBA,c.UNSIGNED_BYTE,0);h.Rb[h.Ta]=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);n.flush();var q=!1;return new Promise(function(t,R){function O(){if(!h.Sb)return e(),l(),w(),R(),!1;var ja=
(h.Ta+1)%h.yc;switch(c.clientWaitSync(h.Rb[ja],0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:break;default:return e(),c.deleteSync(h.Rb[ja]),h.Rb[ja]=null,c.bindBuffer(h.za,h.xb[ja]),c.getBufferSubData(h.za,0,z),l(),w(),t(z,q),!0}h.pe=setTimeout(O,0);return!1}e();h.$f+1<h.yc?(l(),w(),t(z,!1)):(h.Sb=!0,O()||!F||q||(q=!0,F()))})},tj:function(){c.viewport(0,0,n.O(),n.Y())},flush:function(){c.flush()},v:function(){e();p();ba.v();Ba.v();X.v();h.xb.forEach(function(d){c.deleteBuffer(d)});h.xb.splice(0);
wb.reset();m=!1}};return n}(),Ib=function(){function a(d,v,I,N){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,N?h.NEAREST_MIPMAP_NEAREST:h.LINEAR);var z=null;if(null!==I)try{z=h.getError();if("FUCKING_BIG_ERROR"===z)return!1;h.texImage2D(h.TEXTURE_2D,0,d,4,4,0,h.RGBA,v,I);z=h.getError();if(z!==h.NO_ERROR)return!1}catch(F){return!1}N&&h.generateMipmap(h.TEXTURE_2D);h.clear(h.COLOR_BUFFER_BIT);X.Ob(h);z=h.getError();if("FUCKING_BIG_ERROR"===z)return!1;h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,
y);z=h.getError();z===h.INVALID_OPERATION&&"undefined"!==typeof h.PIXEL_PACK_BUFFER&&(h.bindBuffer(h.PIXEL_PACK_BUFFER,null),h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,y),z=h.getError());if(z!==h.NO_ERROR)return!1;I=!0;for(N=0;16>N;++N)I=I&&4>Math.abs(y[N]-127);I&&(m.Qi=v,m.hi=d);return I}function b(d,v){return A.Wa&&a(d,h.FLOAT,new Float32Array(G),v)?(k=w.dh,!0):!1}function e(d,v,I){if(!A.Ya)return!1;var N=ba.Wk(G),z=Ga.wd(h);if(z&&z.HALF_FLOAT_OES&&a(d,z.HALF_FLOAT_OES,N,v)||h.HALF_FLOAT&&a(d,
h.HALF_FLOAT,N,v))return k=w.qc,!0;N=new Float32Array(G);if(a(d,h.FLOAT,N,v))return k=w.qc,!0;h.bindTexture(h.TEXTURE_2D,I);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,2,2,0,h.RGBA,h.UNSIGNED_BYTE,null);h.bindFramebuffer(m.rd,n);ba.Mh(h,I,2,2,N,!1,!1);h.bindFramebuffer(m.rd,null);h.bindTexture(h.TEXTURE_2D,I);return a(d,null,null,v)?(k=w.qc,!0):!1}function f(d,v,I){r=!0;if(e(d,!0,I)||b(v,!0))return!0;r=!1;return e(d,!1,I)||b(v,!1)?!0:!1}function l(d){if(k===w.K){h=d||c;k=w.RGBA8;r=!0;Ga.Fh(h);A||(A=Ga.Ze(h));
Ba.reset();n=h.createFramebuffer();m.rd=h.DRAW_FRAMEBUFFER||h.FRAMEBUFFER;h.bindFramebuffer(m.rd,null);h.clearColor(0,0,0,0);h.viewport(0,0,2,2);aa.K();M=aa.Bb(h);d=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,d);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);C=d;var v=d=h.RGBA,I=h.RGBA16F,N=h.RGBA32F;N&&(d=N);I&&(v=I);if((I||N)&&f(v,d,C))return p(),
!0;d=v=h.RGBA;if(f(v,d,C))return p(),!0;k=w.RGBA8;p();return!1}}function p(){h.deleteProgram(M.oa);h.deleteTexture(C);C=M=null}for(var w={K:-1,dh:3,qc:2,RGBA8:0},k=w.K,m={Qi:null,hi:null,rd:null},r=!0,y=new Uint8Array(16),G=Array(64),x=0;4>x;++x)for(var H=0;4>H;++H){var u=0===(H+x)%2?1:0,g=4*x+H;G[4*g]=u;G[4*g+1]=u;G[4*g+2]=u;G[4*g+3]=u}var h=null,A=null,M=null,C=null,n=null;return{Qk:function(d){l(d);return r},lh:function(d,v){k===w.K&&(typeof("undefined"!==v)&&(A=v),l(d));return k!==w.RGBA8},Yp:function(d){l(d);
return k===w.dh},Em:function(d){l(d);return k===w.qc},Jp:function(d){l(d);return m.Qi},Nl:function(d){l(d);return m.hi},v:function(){h=null;r=!0;k=w.K;A=null}}}(),Zc={instance:function(a){function b(){x&&x.remove();x=ba.instance({isFloat:!1,isPot:!1,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}var e=null,f=!1,l=!1,p=null,w=!1,k=!1,m=null,r="undefined"===typeof a.preprocessing?!1:a.preprocessing,y="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(f=!0,J&&void 0!==J.ca&&(a.mask=
J.ca+a.mask),e=ba.instance({isFloat:!1,url:a.mask}));var G=!1;a.customInputShader&&(G="s50",aa.ma({name:"_",id:G,g:a.customInputShader,Kq:["uSource"],precision:"lowp"}),aa.j(G,[{type:"1i",name:"_",value:0}]));switch(r){case "sobel":m="s39";w=!0;break;case "meanNormalization":m="s40";w=!0;break;case "grayScale":m="s36";w=!1;break;case "grayScaleTilt":m="s37";k=!0;w=!1;break;case "rgbGrayTilt":m="s38";k=!0;w=!1;break;case "copy":m=G?G:"s0";break;case "inputLightRegulation":m=G?G:"s36";p=od.instance({gi:y,
Ki:a.size,Fi:a.nBlurPass,Ba:!1});l=!0;break;case "inputMix0":m="none";p=pd.instance({Z:y,jb:a.varianceMin,Sa:a.blurKernelSizePx,gain:a.gain||1,Ba:!1});l=!0;break;case "inputMix1":m="none";p=qd.instance({Z:y,jb:a.varianceMin,Sa:a.blurKernelSizePx,gain:a.gain||1,Ba:!1});l=!0;break;case "inputCut4":m="none";p=rd.instance({Z:y,jb:a.varianceMin,Sa:a.blurKernelSizePx,gain:a.gain||1,Gc:a.isNormalized||!1,fg:a.overlap||0,Ba:!1});y*=p.Ol();l=!0;break;case "direct":case "none":case "abort":m="abort";break;
default:m="s4"}y=Math.ceil(y);k&&aa.j(m,[{name:"u29",type:"1f",value:a.tilt}]);f&&(m+="Mask");var x=null;b();var H={O:function(){return a.size},Pl:function(){return y},qf:function(){return H.O()},Tl:function(){return l?p.Cc():x},re:function(u){a.Aa=u;b()},wa:function(u){Ba.$();if("abort"===m)return u.h(0),u;"none"!==m&&(aa.set(m),w&&aa.G("u30",1/a.size),x.M(),f&&e.h(1),X.l(!1,!1),x.h(0),u=x);l&&p.process(u)},v:function(){x.remove();f&&e.remove()}};return H}},$c={instance:function(a){function b(){if(n.jc){l.input&&
(l.input.remove(),l.Id.remove());var v=a.size*a.sparsity;C=Math.log(v/a.size)/Math.log(2);l.input=ba.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:v*a.Aa[0],height:v*a.Aa[1],Tf:C});l.Id=ba.instance({isFloat:!0,isPot:!0,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}}function e(){l.zb&&l.zb.remove();l.zb=ba.instance({isFloat:!0,isPot:!w,isLinear:!w&&k.isLinear,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}function f(v){k.buffer.forEach(function(I,N){k.results[N][0]=v[0][I];k.results[N][1]=v[1][I];k.results[N][2]=
v[2][I];k.results[N][3]=v[3][I]});return k.results}a.normalize=a.normalize||!1;var l={input:null,bias:null,Id:null,zb:null,eg:null,cg:null,dg:null},p=null,w=!0,k={type:"undef",B:null,isLinear:!1,buffer:[],results:[],Kd:!1},m=-1,r=a.isReorganize?a.isReorganize:!1,y=a.kernelsCount?!0:!1,G=[a.Fc?"s32":"s31",a.Fc?"s34":"s33","s35"][a.shiftRGBAMode||0],x={isEnabled:!1},H=1/a.size;a.ym?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.be.qf(),w=!1):"full"===a.connectivityUp&&(a.sparsity=a.be.qf());
var u={elu:"s19",elu01:"s20",relu:"s17",gelu:"s18",arctan:"s21",arctan2:"s22",sigmoid:"s16",copy:"s0"}[a.activation],g=a.sparsity*a.sparsity,h=!1,A=a.size,M="";if(a.maxPooling){switch(a.maxPooling.size){case 2:M="s41";break;case 4:M="s42"}h=!0;A/=a.maxPooling.size;l.cg=ba.instance({isFloat:!0,isPot:!1,width:A})}var C=-1,n=null;w&&e();l.bias=ba.instance(a.bias);var d={O:function(){return a.size},qf:function(){return A},Ph:function(){return a.classesCount},Hk:function(v){p.h(v)},ln:function(){a.remap&&
a.remap.isEnabled&&(x={isEnabled:!0,Rm:ba.instance(a.remap.maskTexture),Kc:a.remap.layers.map(function(v){return a.parent.Ql(v)}),depth:a.remap.depth})},co:function(){switch(a.connectivityUp){case "direct":n=sd.instance(a.connectivity);break;case "square":n=td.instance(a.connectivity);break;case "squareFast":n=ud.instance(a.connectivity,a.activation);break;case "full":n=vd.instance(Object.assign({Fc:a.Fc},a.connectivity));break;case "conv":m=a.kernelsCount,n=wd.instance(a.connectivity),r&&(l.eg=ba.instance({width:A,
isFloat:!0,isFlipY:!1,isPot:!1}))}b()},wa:function(v,I){p=v;n.jc?(l.input.M(),y&&l.bias.h(2),n.wa(x),l.input.h(0),l.input.Cl(C),l.Id.M(),y?aa.set("s0"):(aa.set(G),aa.G("u4",g),l.bias.h(1)),l.input.Ik(C,0),X.l(!1,!1),aa.set(u),l.zb.o(),l.Id.h(0),X.l(!1,!1)):(l.zb.M(),l.bias.h(1),n.wa());if(w)return I=l.zb,h&&(l.cg.M(),I.h(0),aa.set(M),aa.N("u14",H,H),X.l(!1,!1),I=l.cg),r&&(l.eg.o(),aa.set("s24"),aa.N("u18",m,A/m),I.h(0),X.l(!1,!1),I=l.eg),I.h(0),I;var N=l.zb;if(a.normalize||k.Kd)v=a.normalize,aa.set(k.Kd?
"s9":"s8"),aa.G("u10",v?H:1),l.dg.M(),N.h(0),X.l(!1,!1),N=l.dg;v=null;switch(k.type){case "cpuRGBA2Float":N.yh(!1);I?v=d.pn(N).then(k.B):(N=d.qn(N),k.B(N));break;case "cpuMeanFloat":N.yh(!0);if(I)v=N.sn().then(k.B);else{N=N.tn();for(var z=0;z<N.length;++z);k.B(N)}break;case "gpuRawAvg":case "gpuRaw":N.h(0);case "none":null!==k.B&&k.B(N)}I&&null===v&&(v=Promise.resolve());return v},re:function(v){a.Aa=v;b();e()},mo:function(v){v&&(k.type=v.Xd||"none",k.B=v.Wd||null,k.isLinear=v.bg?!0:!1);e();v="undefined"!==
typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var I=0,N=0,z=0;I<v;++I)k.buffer.push(N+(a.size-1-z)*a.size),k.results.push([-1,-1,-1,-1]),++N,N===a.size&&(N=0,++z);k.Kd="gpuRawAvg"===k.type||"cpuMeanFloat"===k.type;if(a.normalize||k.Kd)l.dg=ba.instance({isFloat:!0,isPot:!0,width:a.size})},pn:function(v){return v.rn().then(f)},qn:function(v){v=v.Vi();f(v);return k.results},v:function(){for(var v in l){var I=l[v];I&&I.remove()}n&&(n.v(),n=null)}};a.be&&d.co(a.be);return d}},
sd={instance:function(a){var b=ba.instance(a.weights);return{jc:!0,Cd:function(){return 1},v:function(){b.remove()},hm:function(){return b},wa:function(){aa.set("s30");b.h(1);X.l(!1,!1)}}}},vd={instance:function(a){var b=a.fromLayerSize,e=ba.instance(a.weights),f=a.Fc?"s27":"s26";return{jc:!0,Cd:function(){return b},v:function(){e.remove()},wa:function(l){if(l.isEnabled){aa.set("s28");l.Rm.h(3);for(var p=Math.min(l.Kc.length,l.depth),w=0;w<p;++w)l.Kc[w].Hk(4+w)}else aa.set(f);aa.G("u8",a.toLayerSize);
aa.G("u9",a.fromLayerSize);e.h(1);X.l(!1,!1)}}}},td={instance:function(a){for(var b=a.fromLayerSize,e=a.toLayerSize,f=a.toSparsity,l=f*e,p=l/b,w=b/e,k=0,m=0,r=0,y=Array(f*e*f*e*4),G=Array(f*e*f*e*4),x=Array(b*b),H=0;H<x.length;++H)x[H]=0;H=Math.floor(f/2);for(var u=.5/e,g=.5/b,h=.5/l,A=0;A<e;++A)for(var M=Math.round(A*w),C=0;C<e;++C){var n=Math.round(C*w),d=A/e,v=C/e;d+=u;v+=u;for(var I=0;I<f;++I){var N=M+I-H;0>N&&(N+=b);N>=b&&(N-=b);for(var z=0;z<f;++z){var F=k/l,L=m/l,q=n+z-H;0>q&&(q+=b);q>=b&&
(q-=b);var t=N/b,R=q/b;L=1-L-1/l;t+=g;R+=g;F+=h;L+=h;var O=A*f+I,ja=C*f+z;ja=e*f-ja-1;O=ja*e*f+O;y[4*O]=F;y[4*O+1]=L;y[4*O+2]=t;y[4*O+3]=R;R=x[q*b+N]++;O=R%p;t=N*p+O;q=q*p+(R-O)/p;q=b*p-1-q;q=q*b*p+t;G[4*q]=F;G[4*q+1]=L;G[4*q+2]=d;G[4*q+3]=v;++k>=l&&(k=0,++m);++r}}}x=null;var Z=ba.instance(a.weights);delete a.weights.data;var Q=ba.instance({width:l,isFloat:!0,array:new Float32Array(G),isPot:!0});G=null;var ea=ba.instance({width:l,isFloat:!0,array:new Float32Array(y),isPot:!0});y=null;return{jc:!0,
Cd:function(){return p},v:function(){Q.remove();ea.remove();Z.remove()},wa:function(){aa.set("s25");Z.h(1);ea.h(2);X.l(!1,!1)}}}},wd={instance:function(a){var b=a.kernelsCount,e=a.toSparsity,f=e*a.toLayerSize/a.fromLayerSize,l=a.inputScale||[1,1],p=ba.instance(a.weights);return{jc:!0,Cd:function(){return f},Rp:function(){return e},hm:function(){return p},v:function(){p.remove()},wa:function(){aa.set("s29");aa.xg("u28",l);aa.G("u26",b);aa.G("u27",e);aa.G("u8",a.toLayerSize);aa.G("u9",a.fromLayerSize);
p.h(1);X.l(!1,!1)}}}},ud={instance:function(a,b){var e=a.fromLayerSize,f=a.toLayerSize,l=a.toSparsity,p=a.stride?a.stride:1,w=l*f/e,k=f<e,m=e/f,r=ba.instance(a.weights),y="s51"+[e.toString(),f.toString(),l.toString(),p.toString(),b].join("_");aa.zl(y)||(a=Ya(b),f=[{type:"1f",name:"u8",value:f},{type:"1f",name:"u32",value:p}],k&&f.push({type:"1f",name:"u9",value:e}),e=[(k?w:l).toFixed(1),a],k&&e.push(m.toFixed(1)),aa.pm(k?"s47":"s46",y,e),aa.j(y,f.concat([{type:"1i",name:"u6",value:0},{type:"1i",name:"u3",
value:1},{type:"1i",name:"u7",value:3}])));return{jc:!1,Cd:function(){return w},v:function(){r.remove()},wa:function(){aa.set(y);r.h(3);X.l(!1,!1)}}}},od={instance:function(a){var b=a.Fi?a.Fi:3,e=a.gi?a.gi:64,f=a.Ki?a.Ki:64,l=a.Ba?!0:!1;a={isFloat:!1,width:e,isPot:!1,isFlipY:!1};var p=ba.instance(a),w=ba.instance(a),k=ba.instance(a),m=ba.instance(a),r=ba.instance({isFloat:!0,width:f,isPot:!1,isFlipY:!1}),y=1/e;return{process:function(G){aa.set("s43");m.o();X.l(l,!1);aa.set("s44");for(var x=0;x<b;++x)p.o(),
aa.N("u14",y,0),X.l(l,!1),k.o(),m.h(0),X.l(l,!1),w.o(),p.h(0),aa.N("u14",0,y),X.l(l,!1),m.o(),k.h(0),X.l(l,!1),x!==b-1&&w.h(0);aa.set("s45");r.o();G.h(0);w.h(1);m.h(2);X.l(l,!1);r.h(0)},Cc:function(){return r}}}},pd={instance:function(a){function b(y){return ba.instance({isFloat:y,width:e.Z,isPot:!1,isFlipY:!1})}var e=Object.assign({jb:.1,Sa:9,Z:128,gain:1,Ba:!1},a),f=b(!1),l=[b(!1),b(!1),b(!1)],p=[b(!1),b(!1),b(!1)],w=b(!0),k=[f,p[0],p[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((e.Sa-1)/2).toFixed(2)).replace("2.2222",(1/e.Z).toFixed(6));var m="uniform sampler2D u34,u35,u36,u37;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u34,vv0).rgb;float c=texture2D(u35,vv0).r,d=texture2D(u36,vv0).r,i=texture2D(u37,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(vec3(j)-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",e.jb.toFixed(4)).replace("2.2222",e.gain.toFixed(4)),r={u1:0};aa.sc([{id:"s53",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",s:r,i:["u1"],precision:"lowp"},{id:"s54",name:"_",g:a,s:r,i:["u1","u33"],precision:"lowp"},{id:"s55",name:"_",g:m,s:{u34:0,u35:1,u36:2,u37:3},i:["u34","u35","u36","u37"],precision:"highp"}]);return{process:function(){aa.set("s53");f.M();X.l(e.Ba,!1);aa.set("s54");for(var y=0;3>y;++y)aa.N("u33",1,0),l[y].o(),k[y].h(0),
X.l(!1,!1),aa.N("u33",0,1),p[y].o(),l[y].h(0),X.l(!1,!1);aa.set("s55");w.o();f.h(0);p[0].h(1);p[1].h(2);p[2].h(3);X.l(!1,!1);w.h(0)},Cc:function(){return w}}}},qd={instance:function(a){function b(r){return ba.instance({isFloat:r,width:e.Z,isPot:!1,isFlipY:!1})}var e=Object.assign({jb:.1,Sa:9,Z:128,gain:1,Ba:!1},a),f=b(!1),l=b(!1),p=b(!1),w=b(!0);a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec3 b=vec3(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).rgb,c+=f;}b/=c,gl_FragColor=vec4(b,1.);}".replace("1.1111",
Math.round((e.Sa-1)/2).toFixed(2)).replace("2.2222",(1/e.Z).toFixed(6));var k="uniform sampler2D u0,u38;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);vec3 c=texture2D(u38,vv0).rgb;float d=a.a*a.a;vec3 b=c.rgb,i=max(g*f,abs(vec3(d)-b*b)),j=sqrt(i);gl_FragColor=vec4(a.a,h*(a.rgb-b)/j);}".replace("1.1111",e.jb.toFixed(4)).replace("2.2222",e.gain.toFixed(4)),m={u1:0};aa.sc([{id:"s56",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 a=texture2D(u1,vv0).rgb;float b=dot(a,f);gl_FragColor=vec4(a.rgb,b);}",
s:m,i:["u1"],precision:"lowp"},{id:"s57",name:"_",g:a,s:m,i:["u1","u33"],precision:"lowp"},{id:"s58",name:"_",g:k,s:{u0:0,u38:1},i:["u0","u38"],precision:"highp"}]);return{process:function(){aa.set("s56");f.M();X.l(e.Ba,!1);aa.set("s57");aa.N("u33",1,0);l.o();f.h(0);X.l(!1,!1);aa.N("u33",0,1);p.o();l.h(0);X.l(!1,!1);aa.set("s58");w.o();f.h(0);p.h(1);X.l(!1,!1);w.h(0)},Cc:function(){return w}}}},rd={instance:function(a){function b(y){return ba.instance({isFloat:y,width:e.Z,isPot:!1,isFlipY:!1})}var e=
Object.assign({jb:.1,Sa:9,Z:128,gain:1,fg:0,Gc:!1,Ba:!1},a),f=b(!1),l=null,p=null,w=null;e.Gc&&(l=b(!1),p=b(!1),w=b(!0));a={u1:0};var k=[{id:"s59",name:"_",g:"uniform sampler2D u1;const float f=1.1111;varying vec2 vv0;const vec3 e=vec3(.2126,.7152,.0722);void main(){vec2 a=vv0*.5*(f+1.);float b=.5*(1.-f),c=dot(texture2D(u1,a).rgb,e),d=dot(texture2D(u1,a+vec2(0.,b)).rgb,e),h=dot(texture2D(u1,a+vec2(b,0.)).rgb,e),i=dot(texture2D(u1,a+vec2(b,b)).rgb,e);gl_FragColor=vec4(c,d,h,i);}".replace("1.1111",
e.fg.toFixed(4)),s:a,i:["u1"],precision:"lowp"}];if(e.Gc){var m="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec4 b=vec4(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j),c+=f;}gl_FragColor=b/c;}".replace("1.1111",Math.round((e.Sa-1)/2).toFixed(2)).replace("2.2222",(1/e.Z).toFixed(6)),r="uniform sampler2D u0,u38;const float f=1.1111;const vec4 g=vec4(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u38,vv0),d=a*a,b=c,i=max(g*f,abs(d-b*b)),j=sqrt(i);gl_FragColor=h*(a-b)/j;}".replace("1.1111",
e.jb.toFixed(4)).replace("2.2222",e.gain.toFixed(4));k.push({id:"s60",name:"_",g:m,s:a,i:["u1","u33"],precision:"lowp"},{id:"s61",name:"_",g:r,s:{u0:0,u38:1},i:["u0","u38"],precision:"highp"})}aa.sc(k);return{process:function(){aa.set("s59");f.M();X.l(e.Ba,!1);e.Gc?(aa.set("s60"),aa.N("u33",1,0),l.o(),f.h(0),X.l(!1,!1),aa.N("u33",0,1),p.o(),l.h(0),X.l(!1,!1),aa.set("s61"),w.o(),f.h(0),p.h(1),X.l(!1,!1),w.h(0)):f.h(0)},Ol:function(){return 2-e.fg},Cc:function(){return e.Gc?w:f}}}},Gb=function(){function a(g,
h,A,M,C,n,d){if(!H)if(d===n.length)C();else{switch(n[d]){case "A":A();break;case "D":g();break;case "S":h().then(function(v,I){u.Gj();a(g,h,A,I?null:M,C,n,++d)}).catch(function(v){console.log("An error occurred in the WebAR loop: ",v);C()});return;case "R":M&&M()}a(g,h,A,M,C,n,++d)}}var b={n:5,Zf:1,xi:0,yd:[35,49],vd:[2,200],k:.7,Bo:200,en:.05},e=-1,f=null,l=-1,p=-1,w=0,k=-1,m=-1,r=0,y=0,G=b.vd[1],x=Math.log(2),H=!0,u={V:function(){switch(e){case -1:return-1;case 0:return m+f.xi;case 1:return r}},
Qh:function(g){return Math.pow(Math.min(Math.max(k,0),f.n-1)/(f.n-1),g||1)},m:function(g){f=Object.assign({},b,g);k=m=f.Zf;e=0;u.reset()},Gj:function(g){g=("undefined"===typeof g?Date.now():g)||0;var h=Math.min(Math.max(g-y,f.vd[0]),f.vd[1]);G=h;y=g;var A=-1===l?0:f.k;l=Math.min(Math.max(1E3/h,5),120)*(1-A)+l*A;g-p>f.Bo&&5<++w&&(h=f.k,k=k*(1-h)+(l<f.yd[0]?m-1:l>f.yd[1]?m+1:m)*h,Math.abs(k-m)>1-f.en&&(h=Math.min(Math.max(Math.round(k),0),f.n-1),h!==m&&(k=m=h,l=(f.yd[1]-f.yd[0])/2)),p=g)},ng:function(g,
h,A,M,C,n){H=!1;a(g,h,A,M,C,n,0)},stop:function(){H=!0},Yn:function(g){r=g;e=1},Ao:function(){e=0;u.reset()},reset:function(){G=b.vd[1];p=l=-1;w=0},Dq:function(g,h,A){A=Math.exp(-x*G/A);return(1-A)*g+A*h},Ip:function(){return G}};return u}(),Nc=function(){function a(G,x){var H=G[0]-.5;G=G[1]-.5;var u=x[0]-.5;x=x[1]-.5;return H*H+G*G-(u*u+x*x)}var b={Gi:4,Yd:[1.5,1.5,2],ra:[.1,.1,.1],bj:1,Z:-1,yf:-1,vo:2,bn:1,og:!0,xl:.8},e=null,f=[],l=[],p=[],w=[0],k=[.5,.5,1],m=null,r=0,y=[0,0,0];return{m:function(G){e=
Object.assign({},b,G);f.splice(0);l.splice(0);p.splice(0);r=0;G=e.Yd[0]*e.ra[0];var x=e.Yd[1]*e.ra[1],H=1/(1+e.Yd[2]*e.ra[2]),u=e.bj*Math.min(e.Z,e.yf),g=u/e.Z;u/=e.yf;var h=.5*e.xl;h*=h;for(var A=0;A<e.Gi;++A){var M=[];l.push(M);var C=Math.pow(H,A),n=g*C,d=u*C;C=n*e.bn;p.push(C);var v=n*G,I=d*x;n/=2;d/=2;for(var N=1+(1-n-n)/v,z=1+(1-d-d)/I,F=0;F<z;++F)for(var L=d+F*I,q=L-.5,t=0;t<N;++t){var R=n+t*v,O=R-.5;O*O+q*q>h||(R=[R,L,C],f.push(R),M.push(R))}e.og&&M.sort(a);m=f}e.og&&f.sort(a)},get:function(G){var x=
m.length;if(0===x)return k;for(;G>=w.length;)w.push(0);w[G]>=x&&(w[G]=0);var H=m[Math.floor(w[G])%x];w[G]=(w[G]+1/e.vo)%x;if(0===r)return H;y[0]=H[0];y[1]=H[1];y[2]=r;return y},hq:function(G){G>=w.length||(w[G]=Math.floor(Math.random()*m.length))},vq:function(G){r=G;if(0===r)m=f;else{for(var x=p.length,H=x-1,u=0;u<x;++u)if(p[u]<=G){H=u;break}m=l[H]}},reset:function(){for(var G=f.length/w.length,x=0;x<w.length;++x)w[x]=Math.floor(x*G);r=0;m=f}}}(),Ab=function(){function a(){e(g+H.Uf);h.port.postMessage("DONE")}
function b(){n.fd=0===H.ya?M(e):M(f)}function e(z){C.Vb&&null!==u&&(z-=g,z=Math.min(Math.max(z,H.Ch[0]),H.Ch[1]),g+=z,p(),d.isEnabled&&d.Hc&&C.Na&&g-d.Hf>H.bh&&(r(),d.Hf=g),u(g))}function f(z){C.Vb&&(n.timeout=setTimeout(e.bind(null,z),H.ya))}function l(){u=null;C.Vb=!1;p()}function p(){n.fd&&(window.cancelAnimationFrame(n.fd),n.fd=null);n.timeout&&(window.clearTimeout(n.timeout),n.timeout=null)}function w(z){z&&!C.Na?(C.Na=!0,A&&Gb.Ao(),h.port.postMessage("STOP"),Ga.Hj(!0),b()):!z&&C.Na&&(C.Na=!1,
A&&Gb.Yn(1),Ga.Hj(!1),h.port.postMessage("START"))}function k(z){z.target.hidden?I():v()}function m(z,F,L){F=z.createShader(F);z.shaderSource(F,L);z.compileShader(F);return F}function r(){d.Hc=!1;var z=d.Xa,F=d.Gd,L=d.Hd,q=d.za;z.uniform1f(d.ai,Math.random());d.Wb?F.beginQueryEXT(q,L):z.beginQuery(q,L);z.drawElements(z.POINTS,1,z.UNSIGNED_SHORT,0);d.Wb?F.endQueryEXT(q):z.endQuery(q);Ga.flush();G().then(function(t){0===t||isNaN(t)?(d.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",
t)):(t=H.Wj*H.ah*1E3/t,d.ve=(d.ve+1)%H.pc,d.If[d.ve]=t,++d.vi>H.pc&&(d.Md.set(d.If),d.Md.sort(function(R,O){return R-O}),t=d.Md[Math.floor(H.pc/2)],d.xd=Math.max(d.xd,t),H.$g(t/d.xd)),d.Hc=!0)}).catch(function(){d.Hc=!0})}function y(z){var F=d.Xa,L=d.Gd,q=d.Hd;q=d.Wb?L.Cp(q,L.QUERY_RESULT_AVAILABLE_EXT):F.getQueryParameter(q,F.QUERY_RESULT_AVAILABLE);F=F.getParameter(L.GPU_DISJOINT_EXT);q?z(!F):setTimeout(y.bind(null,z),.1)}function G(){return new Promise(function(z,F){y(function(L){if(L){L=d.Xa;
var q=d.Gd,t=d.Hd;L=d.Wb?q.getQueryObjectEXT(t,q.QUERY_RESULT_EXT):L.getQueryParameter(t,L.QUERY_RESULT);z(L)}else F()})})}var x={ki:!0,Ch:[1,200],Uf:20,ya:0,ah:50,Wj:240,bh:3E3,pc:3,$g:null},H=null,u=null,g=0,h=null,A=!1,M=null,C={Ma:!1,Na:!0,Gf:!1,Ef:!1,Df:!1,Vb:!1},n={fd:null,timeout:null},d={isEnabled:!1,Hc:!1,Xa:null,Gd:null,Hd:null,za:null,ai:null,Wb:!0,Hf:0,vi:0,If:null,Md:null,ve:0,xd:0},v=w.bind(null,!0),I=w.bind(null,!1),N={m:function(z){H=Object.assign(x,z);Object.assign(C,{Na:!0,Ma:!0,
Vb:!1});M=window.requestPostAnimationFrame||window.requestAnimationFrame;if(null!==H.$g){z=document.createElement("canvas");z.setAttribute("width","1");z.setAttribute("height","1");var F={antialias:!1};z=z.getContext("webgl2",F)||z.getContext("webgl",F);if(F=z.getExtension("EXT_disjoint_timer_query")||z.getExtension("EXT_disjoint_timer_query_webgl2")){d.Xa=z;d.Gd=F;d.isEnabled=!0;d.Wb=F.beginQueryEXT?!0:!1;var L=m(z,z.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),q=m(z,z.FRAGMENT_SHADER,
"precision lowp float;uniform float u39;void main(){vec4 a=u39*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",H.ah.toString())),t=z.createProgram();z.attachShader(t,L);z.attachShader(t,q);z.linkProgram(t);L=z.getAttribLocation(t,"a0");d.ai=z.getUniformLocation(t,"u39");z.useProgram(t);z.enableVertexAttribArray(L);t=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,t);z.bufferData(z.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),z.STATIC_DRAW);z.vertexAttribPointer(L,4,z.FLOAT,
!1,16,0);t=z.createBuffer();z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,t);z.bufferData(z.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),z.STATIC_DRAW);z.disable(z.DEPTH_TEST);z.disable(z.DITHER);z.disable(z.STENCIL_TEST);z.viewport(0,0,1,1);t=d.Wb?F.createQueryEXT():z.createQuery();d.Hd=t;d.za=F.TIME_ELAPSED_EXT||z.TIME_ELAPSED;d.Hf=-H.bh;d.If=new Float32Array(H.pc);d.Md=new Float32Array(H.pc);d.xd=0;d.ve=0;d.vi=0;d.Hc=!0}}if(H.ki){z=!1;try{if("undefined"===typeof SharedWorker){var R=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
H.Uf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),O=new Worker(R);O.addEventListener("message",a);h={Ti:O,port:O};C.Gf=!0}else{var ja=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
H.Uf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),Z=new SharedWorker(ja);Z.port.start();Z.port.addEventListener("message",a);h={Ti:Z,port:Z.port};C.Ef=!0}z=!0}catch(Q){}z&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",k):(window.addEventListener("blur",I),window.addEventListener("focus",v)),window.addEventListener("pagehide",
I),window.addEventListener("pageshow",v),C.Df=!0)}A="undefined"!==typeof Gb},v:function(){l();C.Df&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",k):(window.removeEventListener("blur",I),window.removeEventListener("focus",v)),window.removeEventListener("pagehide",I),window.removeEventListener("pageshow",v),C.Df=!1);C.Ef?(h.port.close(),C.Ef=!1):C.Gf&&(h.Ti.terminate(),C.Gf=!1);Object.assign(C,{Na:!0,Ma:!1,Vb:!1});u=null},eq:function(){return C.Na},update:function(z){Object.assign(H,
z)},ng:function(z){C.Ma||N.m({});p();C.Vb=!0;u=z;C.Na&&b()},stop:l};return N}(),zc={lf:function(){return Date.now()},Fp:function(){return performance.now()}},yb=function(){function a(Y){switch(v){case d.movePinch:var pa=-Y.deltaY;0===I&&g("pinch",-1,.001*pa,null)}Y.deltaY;Y.preventDefault()}function b(Y){if(-1!==I)switch(v){case d.swipe:if(1!==I)break;m();y(Y,z);var pa=z[0]-N[0];l(pa);Y=pa/(20*M.offsetWidth/100);g("swipeMove",Math.min(Math.max(Y,-1),1),Y,null);break;case d.movePinch:if(2===I||3===
I){y(Y,z);pa=z[0]-N[0];var ha=z[1]-N[1];2===I?(U+=Math.sqrt(pa*pa+ha*ha),10>U?(N[0]=z[0],N[1]=z[1]):(za||(za=!0,g("moveStart",null,null,null)),ca[0]=pa,ca[1]=ha,L[0]=pa-F[0],L[1]=ha-F[1],g("move",ca,L,null),F[0]=ca[0],F[1]=ca[1])):3===I&&(Y=r(Y)/na,g("pinch",Y,Y-Da,null),Da=Y)}}}function e(Y){if(-1!==I)switch(v){case d.swipe:if(1!==I)break;m();y(Y,z);Y=z[0]-N[0];var pa=0>Y;(Y=20<100*Math.abs(Y)/M.offsetWidth)&&pa?g("swipeLeft",q,null,null):Y&&!pa&&g("swipeRight",q,null,null);var ha=function(){setTimeout(function(){k();
I=0;g("swipeEnd",null,null,null)},202)};Y?(Y=function(){var la=(pa?-1:1)*M.width,Sa=(pa?1:-1)*la/M.width;q.style.transitionDuration=(400).toString()+"ms";q.style.left=(Z[0]+la).toString()+"px";q.style.top=Z[1].toString()+"px";q.style.transform="rotate( "+Sa.toString()+"rad )";ha()},ja?Y():Q=Y):(q.style.transitionDuration=(200).toString()+"ms",q.style.opacity="0",q.style.left=Z[0].toString()+"px",q.style.top=Z[1].toString()+"px",q.style.transform="",ha());I=-1;break;case d.movePinch:if(2===I||3===
I)I===I.move?g("moveEnd",null,null,null):3===I&&g("pinchEnd",null,null,null),I=0}}function f(Y){Y.preventDefault();if(-1!==I)switch(v){case d.swipe:if(0!==I)break;m();I=1;ea=setTimeout(function(){k();ea=null;1===I&&(I=0,g("swipeEnd",null,null,null))},1E3);p();g("swipeStart",null,null,null);g("swipeGetCanvas",q,R,t);y(Y,N);break;case d.movePinch:0!==I?2!==I||za||void 0===Y.changedTouches&&void 0===Y.touches||(na=r(Y),20<na&&(I=3,Da=1,g("pinchStart",null,null,null))):3!==I&&(za=!1,y(Y,N),F[0]=0,F[1]=
0,I=2,U=0)}}function l(Y){var pa=0>Y;q.style.left=Z[0]+Y+"px";q.style.transformOrigin=pa?D:P;q.style.transform="rotate( "+((pa?1:-1)*Y/M.width).toString()+"rad )"}function p(){ja=!1;var Y=M.getBoundingClientRect();Z[0]=Y.left;Z[1]=Y.top;q.width=Math.round(M.width/4);q.height=Math.round(M.height/4);t.width=q.width;t.height=q.height;q.style.width=M.offsetWidth+"px";q.style.height=M.offsetHeight+"px";q.style.left=Z[0]+"px";q.style.top=Z[1]+"px";setTimeout(w,0)}function w(){R.drawImage(M,0,0,q.width,
q.height);O.drawImage(q,0,0);ja=!0;document.body.appendChild(q);Q&&(Q(),Q=!1)}function k(){q.style.transitionDuration="0ms";q.style.opacity="1";q.style.transform="";ja&&(document.body.removeChild(q),ja=!1)}function m(){ea&&(window.clearTimeout(ea),ea=null)}function r(Y){G(Y,ka,0);G(Y,ta,1);return Math.sqrt(ka[0]*ka[0]+ta[0]*ta[0])}function y(Y,pa){void 0!==Y.changedTouches||void 0!==Y.touches?G(Y,pa,0):(pa[0]=Y.pageX,pa[1]=Y.pageY)}function G(Y,pa,ha){Y.touches.length>ha?(pa[0]=Y.touches[ha].pageX,
pa[1]=Y.touches[ha].pageY):(pa[0]=Y.changedTouches[ha].pageX,pa[1]=Y.changedTouches[ha].pageY)}function x(){n.forEach(function(Y){M.removeEventListener(Y.type,Y.tb,!1)});return n.splice(0,n.length)}function H(Y){Y.forEach(function(pa){u(pa.type,pa.tb)})}function u(Y,pa){M.removeEventListener(Y,pa,!1);q.removeEventListener(Y,pa,!1);M.addEventListener(Y,pa,!1);q.addEventListener(Y,pa,!1);0===n.filter(function(ha){return ha.type===Y&&ha.tb===pa}).length&&n.push({type:Y,tb:pa})}function g(Y,pa,ha,la){C[Y].forEach(function(Sa){Sa.tb(pa,
ha,la)})}function h(Y){return Y[0]+"% "+(100-Y[1]).toString()+"%"}var A=!1,M=null,C={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},n=[],d={idle:0,swipe:1,movePinch:2},v=d.idle,I=0,N=[0,0],z=[0,0],F=[0,0],L=[0,0],q=document.createElement("canvas"),t=document.createElement("canvas"),R=q.getContext("2d"),O=t.getContext("2d");q.style.position="fixed";q.style.zIndex="800";q.style.cursor="move";q.style.pointerEvents=
"none";q.className="swipeImage";q.setAttribute("draggable",!1);var ja=!1,Z=[0,0],Q=null,ea=null,P=h([50,100]),D=h([50,0]),B=null,U=0,ca=[0,0],na=0,za=!1,Da=1,ka=[0,0],ta=[0,0],Ia={init:function(Y){if(A)Ia.switch_canvas(Y.qa);else return M=Y.qa,u("mousedown",f),u("mouseup",e),u("mouseout",e),u("mousemove",b),u("mousemove",b),u("wheel",a),u("touchstart",f),u("touchend",e),u("touchmove",b),A=!0,Ia},switch_canvas:function(Y){if(!A)Ia.init({qa:Y});else if(M!==Y){var pa=x();M=Y;H(pa);for(var ha in C)for(Y=
C[ha],pa=Y.length-1;0<=pa;--pa)Y[pa].wn&&Y.splice(pa,1)}},get_mode:function(){for(var Y in d)if(d[Y]===v)return Y;return!1},switch_mode:function(Y){A&&"undefined"!==typeof d[Y]&&(Y=d[Y],v!==Y&&(m(),v=Y,I=0))},add_listener:function(Y,pa,ha){C[Y].push({tb:pa,wn:"undefined"===typeof ha?!1:ha});return Ia},remove_listener:function(Y){C[Y].splice(0,C[Y].length);return Ia},animate_swipe:function(Y,pa){B&&(clearInterval(B),B=null);p();var ha=M.width/(pa/1E3)*("left"===Y?-1:1),la=0,Sa,mb=Date.now();B=setInterval(function(){B&&
(Sa=Date.now(),la+=(Sa-mb)/1E3*ha,l(la),mb=Sa,Math.abs(la)>.75*M.width&&B&&(clearInterval(B),B=null,k()))},16)}};return Ia}();window.CanvasListeners=yb;var T={VERSION:"4.0.3",cd:[],bd:[],Ee:!1,De:!1,Fe:!1,ready:!1,isBusy:!1},ab={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,FOVmobile:45,FOVforced:0,Ce:10,Be:8E3},Pc={Ic:!0,Ud:"models3D",Td:"materials",yo:"tweakers",neuralNetworkPath:"built/jeefitNNC_60_0.json",neuralNetworkVersion:"60_0",
ca:"",ua:"",Zc:"",ya:0,gk:20,width:1024,height:1024,mi:!0,dn:[2,3.5],$i:300,$c:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,ra:[.2,.2,.3],mc:[[.8,.5],[.8,.5],[1,1]],wo:30,el:1,on:[.3,.65],nn:1,xo:[.01,.035],Fn:[.003,.007],Ig:[0,.6],Bl:.2,ab:[.698111,1.047166,.122169],Fj:[-.1,0,0],ae:[0,-62,8],jn:1.03,Ea:[0,-60,0],Xf:50,Yf:20,zc:.4,hf:73,He:[.02,1],ek:[4,1],Lk:[0,.5],Hn:.15,En:1,An:[1,4.5],Mo:20,Ap:!1,Dc:145,xf:-18,vf:20,wf:3,Lc:[-110,0],hc:1,uj:.4,vj:3,je:[0,0,0],ic:[1.1,
1],od:0,Ye:.95,Xe:90,We:50,gd:30,Lb:.05,tf:!0,Qd:!0,Pf:"images/masks/target.jpg",Qf:!1,Pd:[1/255,175/255,236/255,0],Rd:-.001,Of:3.14,Le:0,Ke:"images/masks/burka.png",Ie:Math.PI-Math.PI/4,Ve:Math.PI/4,mg:[.3,.2,.1],Yb:!0,yi:[700,90],Lm:[.2,.04],No:"images/backgrounds/viewer3D.png",Zg:[0,0,0],Yg:[0,15,60],ze:.3,Vo:50,Ro:Wc?$a:!1,So:Wc?$a:!1,Uo:1E3,Xo:1E3,To:40,Qo:[0,0,-400],Bi:.1,Pm:.5,Ci:[.5,1.5],Sd:30,Om:!0},J=Object.assign({},Pc);W.th=!0;W.uh=!0;W.sh=!1;W.Pa=!0;var cb={ce:3.5,Ab:"images/debug/picsou.png",
Rc:45,Mf:.785,Nf:.3925,Od:5,Nd:2,Lf:0,Kf:0,Oo:"images/backgrounds/bg1.jpg",Po:"images/backgrounds/bg1_light.jpg",Sj:1,Tj:2};J.fx=[4,50];J.Lc=[-110,0];J.uj=.25;J.vj=3;J.je=[0,-2,20];J.ic=[.95,1];W.Pc=2.1289;W.gg=1;cb.ce=2.5858;cb.Mf=.4388;cb.Nf=.118;cb.Ab="images/debug/hdri2.png";cb.Rc=180;cb.pg=.8065;cb.Od=5.3887;cb.Nd=.5351;cb.Lf=-.3019;cb.Kf=0;cb.Sj=3.5288;cb.Tj=6.2168;var Oc={element:null,Eh:null,Ld:!1,qh:null,ha:null,Og:null,deviceId:-1,Pb:-1,ud:0,Ri:null,ye:-1},Ca=Object.assign({},Oc),gb=null,
Xc=J.dn,Ec=window.devicePixelRatio?window.devicePixelRatio:1;var pc={Al:Math.max(Xc[0],Ec)/Ec,ff:Math.min(Ec,Xc[1])};var eb=null;T.onLoad=function(a){T.ready?a():T.cd.push(a)};T.onHalfLoad=function(a){T.load_model?a():T.bd.push(a)};T.onWebcamAsk=function(a){T.Ee=a};T.onContextLost=function(a){T.De=a};T.onWebcamGet=function(a){T.Fe=a};T.get_onHalfLoadCallstack=function(){return T.bd};T.set_size=function(a,b,e){e=e?pc.ff:1;J.width=a*e;J.height=b*e};T.get_videoDevices=function(a){Jc(a)};T.set_videoDevice=
function(a){Ca.deviceId=a};T.set_videoSizes=function(a,b,e,f,l,p){ab.idealWidth=a;ab.idealHeight=b;ab.minWidth=e;ab.maxWidth=f;ab.minHeight=l;ab.maxHeight=p};T.set_loading=function(a,b,e){a&&(J.Qf=!0,J.Pf=a);"number"===typeof b&&(a=new Wb(b),J.Pd=[a.r,a.X,a.b,0]);"number"===typeof e&&(J.Rd=e)};T.set_settings=function(a,b,e){a&&Object.assign(J,a);b&&Object.assign(ab,b);e&&Object.assign(cb,e)};T.get_size=function(){return{width:J.width,height:J.height}};T.get_cv=function(){return jb.ub()};T.set_NNCPath=
function(a){J.Zc=a};T.set_materialsPath=function(a){J.Td=a};T.set_modelsPath=function(a){J.Ud=a};T.destroy=function(){return eb?eb.v():Promise.resolve()};T.update_lightSettings=function(a){a=Object.assign({screenTextureURL:null,screenLuminosity:-1,lightDirFactor:-1,lightAmbFactor:-1,screenWidthAngle:-1},a);0<=a.lightDirFactor&&(cb.Od=a.lightDirFactor);0<=a.lightAmbFactor&&(cb.Nd=a.lightAmbFactor);0<=a.screenLuminosity&&(cb.ce=a.screenLuminosity);0<=a.screenWidthAngle&&(cb.Rc=a.screenWidthAngle);a.screenTextureURL&&
(cb.Ab=a.screenTextureURL);T.ready&&(eb.Bj(),xa.Ia.ih(Ca.ha))};T.init2=function(a){var b=Object.assign({basePath:null,modelsPath:null,materialsPath:null,materialTextureBasePath:null,NNCPath:null,cv:null,isRequestCamera:!0,width:512,height:512,isMirror:!0,isApplyOverSampling:!1,scanOverlapFactors:null,scanNScaleLevels:null,scanScale0Factor:null},a);J.Ic=b.isRequestCamera;T.set_size(b.width,b.height,b.isApplyOverSampling);T.update_lightSettings(a);b.modelsPath&&(J.Ud=b.modelsPath);b.materialsPath&&
(J.Td=b.materialsPath);b.materialTextureBasePath&&(W.Ei=b.materialTextureBasePath);b.NNCPath&&(J.Zc=b.NNCPath);J.scanOverlapFactors=b.scanOverlapFactors||J.scanOverlapFactors;J.scanNScaleLevels=b.scanNScaleLevels||J.scanNScaleLevels;J.scanScale0Factor=b.scanScale0Factor||J.scanScale0Factor;J.mi=b.isMirror;return new Promise(function(e,f){T.onHalfLoad(e);T.init(b.basePath,function(){},f,b.cv)})};T.init=function(a,b,e,f){eb=bd();T.qb=e?function(l,p){e(l,p);T.qb=!1}:function(){};T.cp=eb;a&&(J.ca=a);
b&&T.cd.push(b);eb.Bj();a=eb.Vl();return jb.m({Ue:"jeefitCanvas",qa:f,width:a.width,height:a.height,debug:!1,ag:function(){T.De&&T.De()},premultipliedAlpha:!0})?J.Ic?ed():fd():(T.qb&&T.qb("GL_INCOMPATIBLE","Cannot init Context"),!1)};JEELIZVTO=T;var Lc=function(){function a(){Ba.ba();c.viewport(0,0,1,1);aa.set("s74");f.h(0);X.l(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,p);b(0<p[0])}var b=null,e=!1,f=null,l=!1,p=null,w={m:function(k){if(l)return!1;f=k;aa.sc([{id:"s74",name:"_",g:"uniform sampler2D u41;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u41,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",
i:["u41"],precision:"lowp"}]);aa.j("s74",[{type:"1i",name:"u41",value:0}]);p=new Uint8Array(4);return l=!0},start:function(k,m){w.stop();b=m;e=window.setInterval(a,k)},stop:function(){e&&(window.clearInterval(a),e=!1)}};return w}(),Fc={};Wb.prototype={constructor:Wb,r:1,X:1,b:1,set:function(a){a instanceof Wb?this.L(a):"number"===typeof a?Rc(this,a):"string"===typeof a&&gd(this,a);return this},Kn:function(){function a(b,e,f){0>f&&(f+=1);1<f&&--f;return f<1/6?b+6*(e-b)*f:.5>f?e:f<2/3?b+6*(e-b)*(2/
3-f):b}return function(b,e,f){b=Fc.Math.Bp(b,1);e=Fc.Math.Pe(e,0,1);f=Fc.Math.Pe(f,0,1);0===e?this.r=this.X=this.b=f:(e=.5>=f?f*(1+e):f+e-f*e,f=2*f-e,this.r=a(f,e,b+1/3),this.X=a(f,e,b),this.b=a(f,e,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.X,this.b)},L:function(a){this.r=a.r;this.X=a.X;this.b=a.b;return this},add:function(a){this.r+=a.r;this.X+=a.X;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.X*=a.X;this.b*=a.b;return this},Ca:function(a){this.r*=
a;this.X*=a;this.b*=a;return this},sb:function(a,b){void 0===b&&(b=0);this.r=a[b];this.X=a[b+1];this.b=a[b+2];return this}};var hd={};sc.prototype={constructor:sc,get x(){return this.C},set x(a){this.C=a},get y(){return this.D},set y(a){this.D=a},get z(){return this.F},set z(a){this.F=a},get w(){return this.S},set w(a){this.S=a},set:function(a,b,e,f){this.C=a;this.D=b;this.F=e;this.S=f;return this},clone:function(){return new this.constructor(this.C,this.D,this.F,this.S)},L:function(a){this.C=a.x;
this.D=a.y;this.F=a.z;this.S=a.w;return this},inverse:function(){this.C*=-1;this.D*=-1;this.F*=-1;this.normalize();return this},qd:function(a){return this.C*a.C+this.D*a.D+this.F*a.F+this.S*a.S},Jf:function(){return this.C*this.C+this.D*this.D+this.F*this.F+this.S*this.S},length:function(){return Math.sqrt(this.C*this.C+this.D*this.D+this.F*this.F+this.S*this.S)},normalize:function(){var a=this.length();0===a?(this.F=this.D=this.C=0,this.S=1):(a=1/a,this.C*=a,this.D*=a,this.F*=a,this.S*=a);return this},
multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),Sc(this,a,b)):Sc(this,this,a)},sb:function(a,b){void 0===b&&(b=0);this.C=a[b];this.D=a[b+1];this.F=a[b+2];this.S=a[b+3];return this}};Xb.prototype={constructor:Xb,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},ej:function(a){this.x=a;
return this},fj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},L:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.dd(a,b);this.x+=a.x;this.y+=a.y;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.gb(a,b);this.x-=a.x;this.y-=a.y;return this},gb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Ca:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},af:function(a){return this.Ca(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},qd:function(a){return this.x*a.x+this.y*a.y},Jf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.af(this.length())},
sb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Va.prototype={constructor:Va,set:function(a,b,e){this.x=a;this.y=b;this.z=e;return this},ej:function(a){this.x=a;return this},fj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},L:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.dd(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.gb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},gb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Ca:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},af:function(a){return this.Ca(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},qd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Jf:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.af(this.length())},sb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};Yb.Vj="XYZ";Yb.prototype={constructor:Yb,get x(){return this.C},set x(a){this.C=a},get y(){return this.D},set y(a){this.D=a},get z(){return this.F},set z(a){this.F=a},get order(){return this.Ra},set order(a){this.Ra=a},set:function(a,b,e,f){this.C=
a;this.D=b;this.F=e;this.Ra=f||this.Ra;return this},clone:function(){return new this.constructor(this.C,this.D,this.F,this.Ra)},L:function(a){this.C=a.C;this.D=a.D;this.F=a.F;this.Ra=a.Ra;return this},sb:function(a){this.C=a[0];this.D=a[1];this.F=a[2];void 0!==a[3]&&(this.Ra=a[3]);return this}};Bc.prototype={constructor:Bc,set:function(a,b){this.min.L(a);this.max.L(b);return this},clone:function(){return(new this.constructor).L(this)},L:function(a){this.min.L(a.min);this.max.L(a.max);return this},
empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Va).gb(this.max,this.min)},getParameter:function(a,b){return(b||new Va).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Zb.prototype={constructor:Zb,set:function(a,b,e,f,l,p,w,k,m,r,y,G,x,H,u,g){var h=this.elements;h[0]=a;h[4]=b;
h[8]=e;h[12]=f;h[1]=l;h[5]=p;h[9]=w;h[13]=k;h[2]=m;h[6]=r;h[10]=y;h[14]=G;h[3]=x;h[7]=H;h[11]=u;h[15]=g;return this},clone:function(){return(new Zb).sb(this.elements)},L:function(a){this.elements.set(a.elements);return this},multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Uc(this,a,b)):Uc(this,this,a)},Ca:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=
a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,e=a.x,f=a.y;a=a.z;b[0]*=e;b[4]*=f;b[8]*=a;b[1]*=e;b[5]*=f;b[9]*=a;b[2]*=e;b[6]*=f;b[10]*=a;b[3]*=e;b[7]*=f;b[11]*=a;return this},sb:function(a){this.elements.set(a);return this}};Cc.prototype={constructor:Cc,
clone:function(){return(new this.constructor).L(this)},L:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Da.L(a.Da);this.color.L(a.color);this.Zb=a.Zb;for(var b=0,e=a.xe.length;b<e;b++)this.xe[b]=a.xe[b].clone();b=0;for(e=a.Wg.length;b<e;b++)this.Wg[b]=a.Wg[b].clone();return this}};var E=function(){function a(n,d,v){d=n.createShader(d);n.shaderSource(d,v);n.compileShader(d);return n.getShaderParameter(d,n.COMPILE_STATUS)?d:!1}function b(n,d){fa.la()&&(d.g=d.g.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));
d.sf=a(n,n.VERTEX_SHADER,d.u,d.name+" VERTEX");d.rf=a(n,n.FRAGMENT_SHADER,d.g,d.name+" FRAGMENT");var v=n.createProgram();n.attachShader(v,d.sf);n.attachShader(v,d.rf);n.linkProgram(v);return v}function e(n){n.u="#version 300 es\n"+n.u.replace(/varying/g,"out");n.g="#version 300 es\n"+n.g.replace(/varying/g,"in");n.u=n.u.replace(/texture2D\(/g,"texture(");n.g=n.g.replace(/texture2D\(/g,"texture(");n.da||(n.g=n.g.replace(/void main/g,"out vec4 FragColor;\nvoid main"),n.g=n.g.replace(/gl_FragColor/g,
"FragColor"));var d=0,v=[];n.u=n.u.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(I,N,z){var F="";z.split(",").forEach(function(L){L=L.trim();F+="layout(location = "+d+") in "+N+" "+L+";\n";v.push(L);++d});return F});n.$j=v}function f(n){return["float","sampler2D","int"].map(function(d){return"precision "+n+" "+d+";\n"}).join("")}function l(n,d){if(d.fi)return!1;var v=fa.la();W.Wp||v||n.enableVertexAttribArray(0);void 0===d.da&&(d.da=!1);d.da&&(d.ad=v?3:2);d.id=M++;void 0===d.ad&&
(d.ad=2);void 0===d.precision&&(d.precision="highp");d.da&&(d.g=(fa.la()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":"#extension GL_EXT_draw_buffers : require\n")+d.g);void 0===d.u&&(d.u="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var I=f(d.precision);
d.g=I+d.g;d.u=I+d.u;v&&3<=d.ad&&e(d);d.Fa&&d.Fa.forEach(function(N){d.u=d.u.replace(N.search,N.replace);d.g=d.g.replace(N.search,N.replace)});d.oa=b(n,d);d.A={};d.i.forEach(function(N){d.A[N]=n.getUniformLocation(d.oa,N)});d.attributes={};d.va=[];d.Vg=0;void 0===d.I&&(d.I=["a0"]);void 0===d.R&&(d.R=[2]);d.I.forEach(function(N,z){var F=v&&3<=d.ad?d.$j.indexOf(N):n.getAttribLocation(d.oa,N);d.attributes[N]=F;d.va.push(F);d.Vg+=4*d.R[z]});d.set=function(){h!==d.id&&(-1!==h&&A.K(),h=d.id,A=d,n.useProgram(d.oa),
d.va.forEach(function(N){0!==N&&n.enableVertexAttribArray(N)}))};d.K=function(){h=-1;d.va.forEach(function(N){0!==N&&n.disableVertexAttribArray(N)})};d.fi=!0}function p(n,d){l(n,d);d.set();h=-1;return d}function w(){return{name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"}}function k(){C.j("s105",[{type:"1i",name:"u1",value:0}]);C.j("s106",[{type:"1i",name:"u154",value:0}]);C.j("s107",[{type:"1i",name:"u74",value:0}])}function m(){var n=
"u41 u144 u145 u146 u147 u42 u79".split(" ").concat(H,u);g.s108={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u86*e;vec3 c=u86*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u80,0.,0.),u83,c);float u=mix(texture2D(u41,r).r,0.,u86);a.z+=u;mat3 v=s(a);vec3 w=mix(u144,u84,c);float x=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u82,1.,u86);vec2 j=u81/t;vec3 k=a0;float A=max(0.,-a0.z-u146)*u147;k.x+=A*sign(a0.x)*(1.-u86);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u150,u151,a0.z);}",
i:["u150","u151"].concat(n),I:["a0"],precision:"highp"};g.s109={name:"_",g:"uniform sampler2D u1;uniform vec3 u148;uniform float u73;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u148,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u148,b,u73),a.a);gl_FragColor=c;}",u:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u86*e;vec3 c=u86*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u80,0.,0.),u83,c);float s=mix(texture2D(u41,p).r,0.,u86);a.z+=s;mat3 t=q(a);vec3 u=mix(u144,u84,c);float v=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u82,1.,u86);vec2 j=u81/r;vec3 k=a0;float y=max(0.,-a0.z-u146)*u147;k.x+=y*sign(a0.x)*(1.-u86);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u148"].concat(G,n),I:["a0","a1"],R:[3,2],precision:"lowp"};g.s110={name:"_",g:"uniform vec3 u148;void main(){gl_FragColor=vec4(u148,0.);}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u86*e;vec3 c=u86*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u80,0.,0.),u83,c);float r=mix(texture2D(u41,o).r,0.,u86);a.z+=r;mat3 s=p(a);vec3 t=mix(u144,u84,c);float u=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u82,1.,u86);vec2 j=u81/q;vec3 k=a0;float x=max(0.,-a0.z-u146)*u147;k.x+=x*sign(a0.x)*(1.-u86);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(A,1.));}",
i:["u148"].concat(n),R:[3],precision:"lowp"};g.s111={name:"_",g:"uniform vec4 u13;varying vec3 vv0;varying float vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",u:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u86*e;vec3 c=u86*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u80,0.,0.),u83,c);float u=mix(texture2D(u41,r).r,0.,u86);a.z+=u;mat3 h=s(a);vec3 v=mix(u144,u84,c);float w=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u82,1.,u86);vec2 k=u81/t;vec3 l=a0;float z=max(0.,-a0.z-u146)*u147;l.x+=z*sign(a0.x)*(1.-u86);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u13","u79"].concat(n),I:["a0","a2"],precision:"highp"};g.s112={name:"_",g:"uniform sampler2D u154;uniform vec4 u13;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u154,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3);gl_FragColor=vec4(a,m);}",u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 f=u86*e;vec3 c=u86*q;vec2 v=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u80,0.,0.),u83,c);float w=mix(texture2D(u41,t).r,0.,u86);a.z+=w;mat3 h=u(a);vec3 x=mix(u144,u84,c);float y=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u82,1.,u86);vec2 k=u81/v;vec3 l=a0;float B=max(0.,-a0.z-u146)*u147;l.x+=B*sign(a0.x)*(1.-u86);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u13","u79","u154"].concat(n),I:["a3","a0","a2","a1"],R:[4,3,3,2],precision:"highp"};g.s113={name:"_",g:"uniform vec4 u112;uniform float u149;void main(){float b=u149;vec4 a=u112;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u86*e;vec3 c=u86*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u80,0.,0.),u83,c);float r=mix(texture2D(u41,o).r,0.,u86);a.z+=r;mat3 s=p(a);vec3 t=mix(u144,u84,c);float u=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u82,1.,u86);vec2 j=u81/q;vec3 k=a0;float x=max(0.,-a0.z-u146)*u147;k.x+=x*sign(a0.x)*(1.-u86);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(A,1.));}",
i:["u112","u149"].concat(n),precision:"lowp"};g.s114={name:"_",g:"uniform sampler2D u74;uniform vec4 u112,u75;uniform float u149;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u149;vec4 a=u112,d=texture2D(u74,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u75*e),c=mix(c,l,u75.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
u:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u146,u147,u153;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u86*e;vec3 c=u86*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u80,0.,0.),u83,c);float s=mix(texture2D(u41,p).r,0.,u86);a.z+=s;mat3 t=q(a);vec3 u=mix(u144,u84,c);float v=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u82,1.,u86);vec2 j=u81/r;vec3 k=a0;float y=max(0.,-a0.z-u146)*u147;k.x+=y*sign(a0.x)*(1.-u86);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u112","u149"].concat(x,n),I:["a0","a1"],R:[3,2],precision:"lowp"};n=["u137","u125","u138"];g.s115={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",u:"attribute vec3 a0;uniform mat4 u137,u125,u138;varying vec3 vv0;varying float vv1;void main(){vec4 a=u138*vec4(a0,1.);gl_Position=u137*u125*a,vv0=a.xyz,vv1=1.;}",i:n,precision:"highp"};g.s116={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",u:"attribute vec3 a0,a2;uniform mat4 u137,u125,u138;varying vec3 vv0;varying float vv1;void main(){vec4 a=u138*vec4(a2,0.);gl_Position=u137*u125*u138*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:n,I:["a0","a2"],precision:"highp"};g.s106={name:"_",g:"uniform sampler2D u154;uniform vec3 u155;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u155),c=normalize(vv2),b=texture2D(u154,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u138*vec4(a2,0.),a=u138*vec4(a0,1.);gl_Position=u137*u125*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u154","u155"].concat(n),I:["a0","a2","a1","a3"],precision:"highp"};g.s105={name:"_",g:"uniform sampler2D u1;uniform vec3 u148;uniform float u73;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u148,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u148,b,u73),a.a);gl_FragColor=c;}",u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u137*u125*u138*vec4(a0,1.)+f,vv0=a1;}",i:["u148"].concat(G,n),I:["a0","a1"],
Fa:[{search:"0.0005",replace:Ga.fa()?"0.0005":"0.0"}],precision:"lowp"};g.s117={name:"_",g:"uniform vec4 u112;uniform float u149;void main(){float b=u149;vec4 a=u112;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",u:"attribute vec3 a0;uniform mat4 u137,u125,u138;void main(){gl_Position=u137*u125*u138*vec4(a0,1.);}",i:["u112"].concat(n),precision:"highp"};g.s107={name:"_",g:"uniform sampler2D u74;uniform vec4 u112,u75;uniform float u149;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u149;vec4 a=u112,d=texture2D(u74,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u75*e),c=mix(c,l,u75.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec2 vv0;void main(){gl_Position=u137*u125*u138*vec4(a0,1.),vv0=a1;}",i:["u112"].concat(x,n),I:["a0","a1"],R:[3,2],precision:"highp"}}function r(){for(var n in g)l(c,g[n])}var y=!1,G=["u1","u73"],x=["u74","u75"],H="u76 u77 u78 u79 u80 u81 u82".split(" "),u="u83 u84 u85 u86 u87 u88".split(" "),g={},h=-1,A=null,M=0,C={ma:function(n,d){g[n]=d;y&&l(c,g[n])},lq:function(n,d){g[n]=d;d.fi=!1;l(c,g[n])},Xb:function(){return y},m:function(){g.s0=
w();g.s1={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};g.s75={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(-1.,1.)*vv0+vec2(1.,0.));}",i:["u1"],precision:"lowp"};g.s76={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u12,vv0).rgb,texture2D(u1,vv0).rgb,u13*f),1.);}",i:["u1","u12",
"u13"],precision:"highp"};g.s77={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u12,vv0),texture2D(u1,vv0),u13*f);}",i:["u1","u12","u13"],precision:"highp"};g.s12={name:"_",g:"uniform sampler2D u1,u89;uniform vec2 u90;uniform float u91,u92;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u89,vv0*u90),c=texture2D(u1,vv0*u90);float a=smoothstep(u91,0.,vv0.y);a+=smoothstep(1.-u91,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u92*f);}",
i:["u1","u90","u89","u91","u92"]};g.s78={name:"_",g:"uniform sampler2D u1,u89;uniform vec2 u90;uniform float u91,u92;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u90;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u89,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u91,0.,vv0.y);b+=smoothstep(1.-u91,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u92*h));gl_FragColor=k;}",
i:["u1","u90","u89","u91","u92"],precision:"highp"};g.s79={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};g.s80={name:"_",g:"uniform sampler2D u1,u93;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u14"],precision:"lowp"};g.s81={name:"_",g:"uniform sampler2D u1,u93,u41;uniform vec2 u14,u94;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;float c=texture2D(u41,vec2(.5,.5)).a,d=u94.x+pow(c,2.)*(u94.y-u94.x);vec3 j=mix(b/5.,texture2D(u93,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u93","u14","u41","u94"],precision:"lowp"};g.s82={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u14).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u14).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u14).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u14).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u14;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u14"],precision:"lowp"};g.s83={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);gl_FragColor=b/5.;}",i:["u1","u14"],precision:"lowp"};g.RGBEtoRGB={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",
i:["u1"],precision:"highp"};g.s13={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};g.s84={name:"_",g:"uniform sampler2D u95,u96;uniform float u97,u98;varying vec2 vv0;void main(){vec3 a=texture2D(u96,vv0).rgb,b=texture2D(u95,vv0).rgb;gl_FragColor=vec4(b*u98+u97*a,1.);}",
i:["u95","u96","u97","u98"],precision:"highp"};g.s85={name:"_",g:"uniform sampler2D u99,u100;uniform float u92;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u100,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u99,g).rgb,u92*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u99","u100","u92"],precision:"lowp",Fa:[{search:"8888",replace:W.sm[fa.V()]}]};g.s86={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u14).a+.110236*texture2D(u1,vv0-2.*u14).a+.220472*texture2D(u1,vv0-u14).a+.275591*a.a+.220472*texture2D(u1,vv0+u14).a+.110236*texture2D(u1,vv0+2.*u14).a+.031496*texture2D(u1,vv0+3.*u14).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u14"],precision:"lowp"};g.s87={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};g.s88={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u14)+.110236*texture2D(u1,vv0-2.*u14)+.220472*texture2D(u1,vv0-u14)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u14)+.110236*texture2D(u1,vv0+2.*u14)+.031496*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u1","u14"],precision:"lowp"};g.s89={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u14)+texture2D(u1,vv0-2.*u14)+texture2D(u1,vv0-u14)+texture2D(u1,vv0)+texture2D(u1,vv0+u14)+texture2D(u1,vv0+2.*u14)+texture2D(u1,vv0+3.*u14);gl_FragColor=a/7.;}",
i:["u1","u14"],precision:"lowp"};g.s90={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};g.s91={name:"_",g:"uniform sampler2D u1,u89;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u89,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u89"],precision:"highp"};g.s92={name:"_",g:"uniform sampler2D u1,u89;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u89,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u89"],precision:"highp"};g.s93=
{name:"_",g:"uniform sampler2D u1,u101,u2,u102;uniform vec4 u103;uniform vec2 u104;uniform float u105,u106,u107,u108;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u101,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u102,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u104*.5+h).r,l=atan(a.x,a.y),m=-(mod(u105,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u106,b),c=.5+u108*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u103*k;gl_FragColor=mix(d,o,j*u107);}",
i:"u1 u2 u102 u101 u103 u105 u106 u107 u104 u108".split(" "),precision:"lowp"};var n="u109 u110 u111 u112 u99 u113 u3 u114 u101 u115 u116 u117 u118 u119 u14".split(" ");W.ea&&(g.s94={name:"_",g:"uniform sampler2D u109,u110,u111,u112,u99,u113,u120,u101;uniform vec3 u114,u117;uniform vec2 u14;uniform float u3,u121,u116,u118,u115;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u115;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u109,vv0);vec3 k=texture2D(u101,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u114;vec4 b=texture2D(u112,vv0),m=texture2D(u110,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u111,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u113,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u3));float I=acos(-s.z),J=smoothstep(u116-u118,u116+u118,I);h=mix(l(texture2D(u99,H)),u117,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u121*texture2D(u120,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:n.concat(["u120","u121"]),precision:"highp"});g.s95={name:"_",g:"uniform sampler2D u109,u110,u111,u112,u99,u113,u101;uniform vec3 u114,u117;uniform vec2 u14;uniform float u3,u116,u118,u119,u122,u123,u115,u124;varying vec2 vv0;const float g=3.141592;const vec3 G=vec3(0.),m=vec3(1.),H=vec3(.299,.587,.114);const float I=2.;vec3 r(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 J(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 K(vec3 a,float e){float b=pow(2.,e);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u115;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u109,a).a;return step(.01,b);}vec3 p(vec2 a){return texture2D(u101,vec2(1.-a.x,a.y)).rgb;}void main(){vec4 h=texture2D(u109,vv0);if(h.a<.01){gl_FragColor=vec4(p(vv0),0.);return;}float i=h.a;vec3 L=h.rgb,M=L+u114;vec4 c=texture2D(u112,vv0),s=texture2D(u110,vv0);vec3 a=s.rgb;float j=s.a;vec4 k=texture2D(u111,vv0);vec3 e=k.rgb;if(i>1.){gl_FragColor=vec4(mix(p(vv0),e,k.a),1.);return;}e=pow(e,u122*m);float t=c.r,N=c.g,O=c.a,u=floor(c.b*255.),l=floor(u/16.),P=(u-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 v=vv0+vec2(-1.,0.)*u14,w=vv0+vec2(1.,0.)*u14,x=vv0+vec2(0.,1.)*u14,y=vv0+vec2(0.,-1.)*u14;vec3 Q=texture2D(u110,v).rgb,R=texture2D(u110,w).rgb,S=texture2D(u110,x).rgb,T=texture2D(u110,y).rgb;float U=n(a,Q)*o(v),V=n(a,R)*o(w),W=n(a,S)*o(x),X=n(a,T)*o(y),Y=2.*max(max(U,V),max(W,X)),Z=1.2*clamp(Y/g,0.,1.),_=max(N,Z);vec2 aa=J(a);vec3 ba=r(texture2D(u113,aa)),ca=(1.-O)*ba,z=normalize(M),A=G,B=reflect(-z,a);float da=floor(_*u3);vec2 ea=K(B,da);float fa=acos(-B.z),ga_=smoothstep(u116-u118,u116+u118,fa);vec3 ha=r(texture2D(u99,ea));A=mix(ha,u117,ga_*u119);float b=t+(P-t)*pow(1.+dot(a,z),l*15.);b=clamp(b,0.,1.);vec2 C=vv0;vec3 D=refract(vec3(0.,0.,-1.),a,.666667);float ia=smoothstep(.1,.3,length(D.xy)),E=sqrt(u14.y/u14.x),ja=smoothstep(.3,.8,i);C+=ja*D.xy*vec2(1./E,E)*ia*.03;vec3 ka=e*mix(ca,A,b);float q=i*(j*(1.-b)+b);vec3 f=mix(p(C),pow(ka,m/u122),q);float F=dot(f,H),la=max(0.,(F-1.)/(I-1.));f=mix(F*m,f,mix(1.,u123,q)*m);float ma=mix(la,q,u124);gl_FragColor=vec4(f,ma);}",
i:n.concat(["u124","u122","u123"]),precision:"highp"};W.ea&&(g.s96={name:"_",g:"uniform sampler2D u109,u110;uniform mat4 u125;uniform vec2 u126,u14,u127;uniform float u128,u129,u130,u131,u132,u133,u134,u135,u121;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u127;vec4 pos=texture2D(u109,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u128),s=sin(u128);vec3 no0=texture2D(u110,uvt).rgb;float zv=(u125*vec4(co0,1.)).z;vec3 co;vec2 scale=u126/abs(zv),uv,duv=u14*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u109,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u134,u135,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u109,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u134,u135,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u14*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u109,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u134,u135,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u109,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u134,u135,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u131,u132,1.),ao=dzFactor*clamp(u130*omegaMin*u133,0.,u121);gl_FragColor=vec4(ao,ao,ao,u129);}",
i:"u109 u110 u130 u129 u128 u14 u136 u131 u132 u133 u134 u135 u125 u126 u121".split(" "),Fa:[{search:"8888.8",replace:W.vk[fa.V()].toFixed(1)}],precision:"lowp"},g.s97={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);b+=texture2D(u1,a+u14*j)+texture2D(u1,a+u14*k)+texture2D(u1,a+u14*l)+texture2D(u1,a+u14*m),gl_FragColor=b/9.;}",
i:["u1","u14"],precision:"lowp"});g.s98={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",u:"attribute vec3 a0;uniform mat4 u137,u125,u138;varying vec3 vv0;void main(){vec4 a=u137*u125*u138*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u137","u125","u138"],precision:"lowp"};g.s99={name:"_",g:"uniform sampler2D u139,u113,u100;uniform mat4 u137,u140;uniform vec2 u141;uniform float u142;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u141*(z-f),0.),B=vec3(u140*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u100,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u137*u,i=h.xyz/h.w;if(texture2D(u139,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u140*vec4(g,0.)),t+=texture2D(u113,y(s));}gl_FragColor=vec4(u142*t.rgb/n,1.);}",
i:"u139 u113 u100 u137 u140 u141 u142".split(" "),Fa:[{search:"8888.8",replace:W.qo[fa.V()].toFixed(1)},{search:"9999.9",replace:W.ro[fa.V()].toFixed(1)}],precision:"lowp"};g.s100={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u14)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u14);gl_FragColor=a;}",i:["u1","u14"],precision:"lowp"};g.s101={name:"_",g:"uniform sampler2D u1,u143;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u137,u125;varying vec2 vv0;void main(){vec4 a=u137*u125*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u137","u125","u1"],I:["a0","a1"],precision:"lowp"};if(fa.aa()){n="u41 u144 u145 u146 u147 u42 u112 u148 u149 u13 u150 u151 u79".split(" ").concat(H,u);fa.ri()||(g.s102={name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",da:!0});g.s103={name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],da:!0};g.s104NNGLcolor={name:"_",g:"uniform vec4 u112,u13;uniform vec3 u148;uniform float u149;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u149;vec4 a=u112;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u148,0.),gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.);const vec3 r=vec3(1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,s);vec2 f=u86*e;vec3 c=u86*r;vec2 w=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,t).rgb+vec3(u80,0.,0.),u83,c);float x=mix(texture2D(u41,u).r,0.,u86);a.z+=x;mat3 h=v(a);vec3 y=mix(u144,u84,c);float z=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u82,1.,u86);vec2 k=u81/w;vec3 l=a0;float C=max(0.,-a0.z-u146)*u147;l.x+=C*sign(a0.x)*(1.-u86);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u150,u151,a0.z),vv0=m,vv3=a0.y;}",
i:n,I:["a0","a2"],R:[3,3],da:!0};g.s104NNGLtexture={name:"_",g:"uniform sampler2D u1;uniform vec4 u112,u13;uniform vec3 u148;uniform float u149,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u149;vec4 b=u112;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u148,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u148,l,u73),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u86*e;vec3 c=u86*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u80,0.,0.),u83,c);float y=mix(texture2D(u41,v).r,0.,u86);a.z+=y;mat3 h=w(a);vec3 z=mix(u144,u84,c);float A=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u82,1.,u86);vec2 k=u81/x;vec3 l=a0;float D=max(0.,-a0.z-u146)*u147;l.x+=D*sign(a0.x)*(1.-u86);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u150,u151,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:n.concat(G),I:["a0","a2","a1"],R:[3,3,2],da:!0};g.s104NNGLtextureNormalMap={name:"_",g:"uniform vec4 u112,u13;uniform vec3 u148;uniform sampler2D u1,u154;uniform float u149,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u154,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u149;vec4 c=u112;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u148,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u148,t,u73),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u86*e;vec3 c=u86*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u80,0.,0.),u83,c);float z=mix(texture2D(u41,w).r,0.,u86);a.z+=z;mat3 h=x(a);vec3 A=mix(u144,u84,c);float B=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u82,1.,u86);vec2 k=u81/y;vec3 l=a0;float E=max(0.,-a0.z-u146)*u147;l.x+=E*sign(a0.x)*(1.-u86);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u150,u151,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:n.concat(G,["u154"]),I:["a3","a0","a2","a1"],R:[4,3,3,2],da:!0};g.s104NNGLtextureParamsMap={name:"_",g:"uniform sampler2D u1,u74;uniform vec4 u112,u13,u75;uniform vec3 u148;uniform float u149,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u149;vec4 a=u112,e=texture2D(u74,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u75*f),d=mix(d,r,u75.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u148,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u148,u,u73),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u86*e;vec3 c=u86*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u80,0.,0.),u83,c);float y=mix(texture2D(u41,v).r,0.,u86);a.z+=y;mat3 h=w(a);vec3 z=mix(u144,u84,c);float A=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u82,1.,u86);vec2 k=u81/x;vec3 l=a0;float D=max(0.,-a0.z-u146)*u147;l.x+=D*sign(a0.x)*(1.-u86);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u150,u151,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:n.concat(G,x),I:["a0","a2","a1"],R:[3,3,2],da:!0};g.s104NNGLtextureNormalParamsMap={name:"_",g:"uniform sampler2D u1,u154,u74;uniform vec4 u112,u13,u75;uniform vec3 u148;uniform float u149,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u154,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u149;vec4 a=u112,f=texture2D(u74,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u75*l),e=mix(e,z,u75.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u148,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u148,C,u73),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u152;uniform float u145,u150,u151,u146,u147,u153;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u86*e;vec3 c=u86*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u80,0.,0.),u83,c);float z=mix(texture2D(u41,w).r,0.,u86);a.z+=z;mat3 h=x(a);vec3 A=mix(u144,u84,c);float B=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u82,1.,u86);vec2 k=u81/y;vec3 l=a0;float E=max(0.,-a0.z-u146)*u147;l.x+=E*sign(a0.x)*(1.-u86);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u150,u151,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:n.concat(G,["u154"],x),I:["a3","a0","a2","a1"],R:[4,3,3,2],da:!0};n="u137 u125 u138 u112 u148 u149 u13".split(" ");g.s104color={name:"_",g:"uniform vec4 u112,u13;uniform vec3 u148;uniform float u149;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u149;vec4 a=u112;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u148,0.),gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;uniform mat4 u137,u125,u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u138*vec4(a0,1.),b=u138*vec4(a2,0.);gl_Position=u137*u125*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",i:n,I:["a0","a2"],da:!0};g.s104={name:"_",g:"uniform sampler2D u1;uniform vec4 u112,u13;uniform vec3 u148;uniform float u149,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u149;vec4 b=u112;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u148,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u148,l,u73),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u138*vec4(a0,1.),b=u138*vec4(a2,0.);gl_Position=u137*u125*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:n.concat(G),I:["a0","a2","a1"],da:!0};var d=["u154","u155"];g.s104NormalMap={name:"_",g:"uniform sampler2D u1,u154;uniform vec4 u112,u13;uniform vec3 u155,u148;uniform float u149,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u154,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u149;vec4 c=u112;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u148,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u148,t,u73),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u138*vec4(a0,1.),b=u138*vec4(a2,0.);gl_Position=u137*u125*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:n.concat(G,d),I:["a0","a2","a1","a3"],da:!0};g.s104ParamsMap={name:"_",g:"uniform sampler2D u1,u74;uniform vec4 u112,u13,u75;uniform vec3 u148;uniform float u149,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u149;vec4 a=u112,e=texture2D(u74,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u75*f),d=mix(d,r,u75.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u148,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u148,u,u73),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u138*vec4(a0,1.),b=u138*vec4(a2,0.);gl_Position=u137*u125*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:n.concat(G,x),I:["a0","a2","a1"],da:!0};g.s104NormalParamsMap={name:"_",g:"uniform sampler2D u1,u154,u74;uniform vec4 u112,u13,u75;uniform vec3 u155,u148;uniform float u149,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u154,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u149;vec4 a=u112,f=texture2D(u74,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u75*l),e=mix(e,z,u75.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u148,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u148,C,u73),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u137,u125,u138;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u138*vec4(a0,1.),b=u138*vec4(a2,0.);gl_Position=u137*u125*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:n.concat(G,d,x),I:["a0","a2","a1","a3"],da:!0}}else m();r();n=[{type:"1i",name:"u1",value:0}];C.j("s0",n);C.j("s1",n);C.j("s76",[{type:"1i",name:"u12",value:1}].concat(n));C.j("s77",[{type:"1i",name:"u12",
value:1}].concat(n));C.j("s12",[{type:"1i",name:"u89",value:1}].concat(n));C.j("s78",[{type:"1i",name:"u89",value:1}].concat(n));C.j("s79",n);C.j("s80",n);C.j("s81",[{type:"1i",name:"u93",value:1},{type:"1i",name:"u41",value:2}].concat(n));C.j("s82",n);C.j("s83",n);C.j("s13",n);C.j("s84",[{type:"1i",name:"u95",value:0},{type:"1i",name:"u96",value:1}]);C.j("s85",[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1}]);C.j("s86",n);C.j("s87",n);C.j("s88",n);C.j("s89",n);C.j("s90",n);C.j("s91",
[{type:"1i",name:"u89",value:1}].concat(n));C.j("s92",[{type:"1i",name:"u89",value:1}].concat(n));W.ea&&(C.j("s96",[{type:"1i",name:"u109",value:0},{type:"1i",name:"u110",value:1},{type:"1f",name:"u131",value:W.ik},{type:"1f",name:"u132",value:W.jk},{type:"1f",name:"u133",value:W.wk},{type:"1f",name:"u134",value:W.mk},{type:"1f",name:"u135",value:W.nk},{type:"1f",name:"u130",value:1},{type:"1f",name:"u121",value:1}]),C.j("s97",n));d=[{type:"1i",name:"u109",value:0},{type:"1i",name:"u110",value:1},
{type:"1i",name:"u111",value:2},{type:"1i",name:"u99",value:3},{type:"1i",name:"u113",value:4},{type:"1i",name:"u112",value:6},{type:"1i",name:"u101",value:7},{type:"1f",name:"u119",value:0},{type:"1f",name:"u116",value:0},{type:"1f",name:"u118",value:0}];W.ea&&C.j("s94",d.concat([{type:"1f",name:"u121",value:W.lk[fa.V()]},{type:"1i",name:"u120",value:5}]));C.j("s95",d.concat([{type:"1f",name:"u122",value:W.Pc},{type:"1f",name:"u123",value:W.gg},{type:"1f",name:"u124",value:0}]));C.j("s99",[{type:"1i",
name:"u139",value:0},{type:"1i",name:"u113",value:1},{type:"1i",name:"u100",value:2},{type:"1f",name:"u142",value:W.po}]);C.j("s100",n);C.j("s101",n);C.j("s93",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u102",value:2},{type:"1i",name:"u101",value:3},{type:"1f",name:"u107",value:1},{type:"2f",name:"u104",value:[0,0]}].concat(n));fa.aa()?(C.j("s104",n),C.j("s104NormalMap",[{type:"1i",name:"u154",value:1}].concat(n)),C.j("s104ParamsMap",[{type:"1i",name:"u74",value:1}].concat(n)),C.j("s104NormalParamsMap",
[{type:"1i",name:"u154",value:1},{type:"1i",name:"u74",value:2}].concat(n))):k();y=!0},ao:function(){m();r();k()},Bd:function(){return A.id},Dd:function(){return H},Ed:function(){return u},set:function(n){wb.sj(C);g[n].set()},Bb:function(n){return p(n,w())},fe:function(n){return p(n,{name:"_",g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},eo:function(n){return p(n,{name:"_",g:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",
i:[],precision:"highp",da:!0})},K:function(){-1!==h&&A.K()},he:function(){var n=0;A.va.forEach(function(d,v){v=A.R[v];c.vertexAttribPointer(d,v,c.FLOAT,!1,A.Vg,n);n+=4*v})},dc:function(){C.ec(c)},ec:function(n){n.vertexAttribPointer(A.va[0],2,n.FLOAT,!1,8,0)},qq:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,12,0)},Qa:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,32,0)},bb:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,24,0)},kj:function(){c.vertexAttribPointer(A.attributes.a2,
3,c.FLOAT,!1,32,12)},lj:function(){c.vertexAttribPointer(A.attributes.a2,3,c.FLOAT,!1,24,12)},Sc:function(){c.vertexAttribPointer(A.attributes.a1,2,c.FLOAT,!1,32,24)},rq:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(A.attributes.a1,2,c.FLOAT,!1,20,12)},Rn:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(A.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(A.attributes.a1,2,c.FLOAT,!1,32,24)},Sn:function(){c.vertexAttribPointer(A.attributes.a0,
3,c.FLOAT,!1,32,0);c.vertexAttribPointer(A.attributes.a2,3,c.FLOAT,!1,32,12)},Tn:function(){c.vertexAttribPointer(A.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(A.attributes.a2,3,c.FLOAT,!1,24,12)},de:function(){c.vertexAttribPointer(A.attributes.a3,4,c.FLOAT,!1,16,0)},ge:function(n,d){c.uniform1i(A.A[n],d)},G:function(n,d){c.uniform1f(A.A[n],d)},N:function(n,d,v){c.uniform2f(A.A[n],d,v)},xg:function(n,d){c.uniform2fv(A.A[n],d)},yg:function(n,d,v,I){c.uniform3f(A.A[n],d,v,I)},zg:function(n,
d){c.uniform3fv(A.A[n],d)},xa:function(n,d){c.uniform4fv(A.A[n],d)},jo:function(n,d){c.uniformMatrix2fv(A.A[n],!1,d)},ko:function(n,d){c.uniformMatrix3fv(A.A[n],!1,d)},Tc:function(n,d){c.uniformMatrix4fv(A.A[n],!1,d)},j:function(n,d){C.set(n);d.forEach(function(v){switch(v.type){case "4f":c.uniform4fv(A.A[v.name],v.value);break;case "3f":c.uniform3fv(A.A[v.name],v.value);break;case "2f":c.uniform2fv(A.A[v.name],v.value);break;case "1f":c.uniform1f(A.A[v.name],v.value);break;case "1i":c.uniform1i(A.A[v.name],
v.value);break;case "mat2":c.uniformMatrix2fv(A.A[v.name],!1,v.value);break;case "mat4":c.uniformMatrix4fv(A.A[v.name],!1,v.value)}})},H:function(){for(var n in g){var d=g[n];c.detachShader(d.oa,d.sf);c.detachShader(d.oa,d.rf);c.deleteShader(d.sf);c.deleteShader(d.rf);c.deleteProgram(d.oa)}},v:function(){c.disableVertexAttribArray(0);C.K();C.H();M=0;y=!1;A=null;h=-1}};return C}(),Wa=function(){var a={},b=[],e=!1,f=0,l=0,p=-1,w=-1,k=1,m=null,r=!1,y=null,G=!1,x=!1,H=!1,u=!1,g=!1,h=!1,A=-1,M=-1,C=!1,
n=!1,d=null,v=null,I=-1,N=-1,z=null,F=-1,L,q=null,t=null,R=null,O=null,ja=null,Z=null,Q=null,ea=[{type:"1f",name:"u86",value:0},{type:"1f",name:"u150",value:0},{type:"1f",name:"u151",value:0},{type:"1f",name:"u81",value:1},{type:"1f",name:"u77",value:0},{type:"1f",name:"u78",value:0},{type:"1f",name:"u88",value:1}],P={m:function(D,B){a.Bg=D;fa.Rg();Gc.ef();Rb.ef(D.ze);p=D.hf;w=D.Wo;k=D.ye;A=D.Xf;M=D.Yf;var U=[{type:"1f",name:"u81",value:p},{type:"1f",name:"u77",value:A},{type:"1f",name:"u78",value:M},
{type:"1f",name:"u82",value:D.In},{type:"mat4",name:"u76",value:D.mn},{type:"2f",name:"u42",value:D.Uj}];D.Pg=U;var ca=[{type:"3f",name:"u83",value:[0,0,0]},{type:"3f",name:"u84",value:D.Zg},{type:"3f",name:"u85",value:D.Yg},{type:"1f",name:"u86",value:0},{type:"1f",name:"u87",value:D.ze},{type:"1f",name:"u88",value:1}];D.Lj=ca;P.om(D,B);e||void 0!==D.Ea||(D.Ea=[0,0,120]);n=C=J.tf;if(!e&&C){B=1*fa.wb();var na=1*fa.vb(),za={isLinear:!0,isPot:!1,width:B,height:na};d=ba.instance(za);v=ba.instance(za);
I=1/B;N=1/na}U=[{type:"1i",name:"u41",value:1},{type:"3f",name:"u79",value:D.Ea},{type:"1f",name:"u146",value:D.gd},{type:"1f",name:"u147",value:D.Lb}].concat(U,ca);m=D.Lc;ca=[{type:"1f",name:"u150",value:m[0]},{type:"1f",name:"u151",value:m[1]}];fa.aa()?(B=[{type:"1i",name:"u1",value:0}],na=[{type:"1i",name:"u154",value:2}],E.j("s104NNGLcolor",U.concat(ca)),E.j("s104NNGLtexture",[].concat(B,U,ca)),E.j("s104NNGLtextureNormalMap",[].concat(B,na,U,ca)),E.j("s104NNGLtextureParamsMap",[{type:"1i",name:"u74",
value:2}].concat(B,U,ca)),E.j("s104NNGLtextureNormalParamsMap",[{type:"1i",name:"u74",value:3}].concat(B,na,U,ca))):(E.j("s108",U.concat(ca)),E.j("s109",[{type:"1i",name:"u1",value:0}].concat(U)),E.j("s110",U),E.j("s111",U),E.j("s112",U.concat([{type:"1i",name:"u154",value:0}])),E.j("s113",U),E.j("s114",U.concat([{type:"1i",name:"u74",value:0}])));E.j("s81",[{type:"2f",name:"u94",value:D.Ig}]);E.j(W.ea?"s94":"s95",[{type:"1f",name:"u116",value:D.Ie},{type:"3f",name:"u117",value:D.mg},{type:"1f",name:"u118",
value:D.Ve},{type:"1f",name:"u119",value:1},{type:"3f",name:"u114",value:D.Yj}]);if(L=D.Qd)z=D.Nm,F=D.Rd,E.j("s93",[{type:"4f",name:"u103",value:D.Pd},{type:"1f",name:"u106",value:D.Of},{type:"2f",name:"u104",value:D.Mm},{type:"1f",name:"u108",value:Math.sign(F)}]);b.forEach(function(Da){Da.gj(D)});e=!0},bc:function(D){x&&xa.ia.bc(D);u&&xa.sa.bc(D)},om:function(D,B){void 0!==xa.ia&&D.hc&&fa.aa()&&(xa.ia.m(D),G=!0,B.push(function(U){xa.ia.bc(U);x=!H}));void 0!==xa.sa&&D.od&&(xa.sa.m(D),B.push(function(U){xa.sa.bc(U);
u=!0}));void 0!==xa.oc&&D.Le&&(xa.oc.m(D),h=g=!0);void 0!==xa.pb&&(xa.pb.m(D),y=xa.pb.qm({width:D.Dc,height:2*D.Dc,depth:1.5*D.Dc,wl:-D.xf,Ua:D.vf,al:D.wf}),r=!0)},ho:function(D,B,U,ca){D&&(Q=D,G&&xa.ia.cc(D),u&&xa.sa.cc(D),g&&xa.oc.cc(D),b.forEach(function(na){na.cc(D)}));U&&(O=U);ca&&(ja=ca)},Cb:function(D){fa.aa()?(E.j("s104NNGLcolor",D),E.j("s104NNGLtexture",D),E.j("s104NNGLtextureNormalMap",D),E.j("s104NNGLtextureParamsMap",D),E.j("s104NNGLtextureNormalParamsMap",D)):(E.j("s108",D),E.j("s109",
D),E.j("s110",D),E.j("s111",D),E.j("s112",D),E.j("s113",D),E.j("s114",D))},eb:function(D,B,U){var ca=[D[0]+B[0],D[1]+B[1],D[2]+B[2]];ca=[ca[0]+U[0],ca[1]+U[1],ca[2]+U[2]];a.ae=ca;a.Vm=B;a.Ko=U;P.Cb([{type:"3f",name:"u144",value:ca}]);fa.aa()&&(G&&xa.ia.eb(D,B,U),u&&xa.sa.eb(ca));r&&xa.pb.eb(D,U)},fb:function(D,B,U){var ca=D*B*U;a.Wm=B;a.Lo=U;a.im=D;P.Cb([{type:"1f",name:"u145",value:ca}]);fa.aa()&&(G&&xa.ia.fb(D*B,U),u&&xa.sa.fb(ca));r&&xa.pb.fb(D,U)},aj:function(){P.eb(a.ae,a.Vm,a.Ko);P.fb(a.im,
a.Wm,a.Lo);P.qj(a.rx);P.m(a.Bg);P.mj(a.Ek,a.Lb)},qj:function(D){a.rx=D;P.Cb([{type:"1f",name:"u80",value:D}]);fa.aa()&&(G&&xa.ia.vg(D),u&&xa.sa.vg(D))},mj:function(D,B){a.Ek=D;a.Lb=B;P.Cb([{type:"1f",name:"u146",value:D},{type:"1f",name:"u147",value:B}])},Zn:function(D){m=D;0===f&&P.Cb([{type:"1f",name:"u150",value:m[0]},{type:"1f",name:"u151",value:m[1]}])},cb:function(D){function B(){r&&xa.pb.toggle(!1);L&&E.j("s93",[{type:"1f",name:"u107",value:0}])}0>=D?(l=0,0!==f&&(f=0,Rb.Cn(),r&&xa.pb.toggle(!0),
L&&E.j("s93",[{type:"1f",name:"u107",value:1}]))):1<=D?(l=1,1!==f&&(f=1,Rb.yj(!0)),B()):(l=D,2!==f&&(Rb.yj(!1),f=2,B()));E.j("s95",[{type:"1f",name:"u119",value:1-D}]);var U=1-D;ea[0].value=l;ea[1].value=m[0]*U+-300*D;ea[2].value=m[1]*U+-300*D;ea[3].value=p*U+D*w;ea[4].value=A*U;ea[5].value=M*U;ea[6].value=U+D*k;x&&xa.ia.wg(l,ea);u&&xa.sa.wg(l,ea);P.Cb(ea)},tl:function(D){Q.h(1);D.forEach(function(B){B.ol()});r&&y.U()},Gm:function(){return 1===f},Je:function(D){Q.Ka(D)},ck:function(D){b.push(D)},
Gg:function(D){H=!D;x=D&&G},Fg:function(D){h=D&&g},sg:function(D){u&&fa.aa()&&xa.sa.lo(D)},Db:function(D){fa.aa()&&(G&&xa.ia.Db(D),u&&xa.sa.Db(D))},ql:function(D,B){if(!n)return!1;d.M();D.h(0);E.set("s86");E.N("u14",0,N);X.l(!1,!1);v.o();d.h(0);E.N("u14",I,0);X.l(!1,!1);E.set("s87");B.M();v.h(0);X.l(!1,!1);return!0},xj:function(D){n=D&&C},resize:function(D,B,U){C&&(D*=U,B*=U,d.resize(D,B),v.resize(D,B),I=1/D,N=1/B)},qg:function(D,B){var U=D.O(),ca=D.Y(),na={width:U,height:ca,isPot:!1};G&&(R&&R.remove(),
R=ba.instance(na));q&&q.remove();q=Ba.instance({width:U,height:ca});g||u?(xa.oc.rg(U,ca),t&&t.remove(),t=ba.instance(na)):t=D;G&&xa.ia.rg(U,ca);B&&(Z&&Z.remove(),Z=ba.instance(na))},ml:function(D){var B=null;switch(f){case 0:B=D;break;case 2:q.bind(!1,!0);Z.o();E.set("s76");E.G("u13",l);D.h(1);ja.h(0);X.l(!0,!0);B=Z;break;case 1:B=ja}if(!x||1===f||!fa.aa())return B;B.Ka(0);h&&xa.oc.U(B,t);q.bind(!1,!h);u&&(h?B.h(0):(t.o(),E.set("s1"),X.l(!0,!0)),xa.sa.U());t.h(0);O.Ka(2);xa.ia.U();R.o();E.set("s1");
h||u?t.h(0):B.h(0);X.l(!0,!W.ea);xa.ia.add();return R},dk:function(D,B){if(!x)return D;O.Ka(2);xa.ia.U();Ba.$();E.set("s75");B.M();xa.ia.cm().h(0);X.l(!0,!0);E.set("s1");c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);D.h(0);X.l(!1,!1);c.disable(c.BLEND);return B},rl:function(D,B){if(!L)return!1;E.set("s93");E.G("u105",D*F);z.h(1);Wa.Je(2);t?t.h(3):B.h(3);return!0},v:function(){e=!1;l=f=0;w=p=-1;k=1;m=null;M=A=-1;r=!1;y=null;h=g=u=H=x=G=!1;xa.ia.v();xa.Ia.v()}};return P}(),ya=function(){function a(){k.forEach(function(B){B.ul(t)})}
function b(){k.forEach(function(B){B.sd(t)})}function e(){k.forEach(function(B){B.sl(t)})}function f(){k.forEach(function(B){B.td(t)})}function l(){t?Wa.tl(k):k.forEach(function(B){B.pl()})}function p(){F&&clearTimeout(F);F=setTimeout(function(){d=!1;F=null},16)}function w(B){B()}var k=[],m=[],r={ga_:!1,position:!1,yb:!1},y=[],G=[],x=null,H=0,u=null,g=null,h=null,A=null,M=!1,C=!1,n=!1,d=!1,v=!1,I=!1,N=null,z=null,F=null,L=null,q=!1,t=!1,R=!1,O=!1,ja=!0,Z=!1,Q=!1,ea=null,P=null,D={m:function(){c.enable(c.DEPTH_TEST);
c.depthFunc(c.LEQUAL);c.clearDepth(1);W.Zk?(c.enable(c.CULL_FACE),c.frontFace("CCW"===W.$k?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);D.rh();var B={isPot:!1,isLinear:!1,width:fa.wb(),height:fa.vb(),J:4,isFloat:!1};u=ba.instance(B);B=Object.assign({},B,{isLinear:!0,width:fa.O(),height:fa.Y()});g=ba.instance(B);h=ba.instance(B);W.Pa&&(B=Object.assign({},B,{isLinear:!1}),A=ba.instance(B));I=Ga.fa();W.Pa||(x=jc.instance({Kb:W.Kb,uc:W.uc,vc:W.vc,tc:W.tc}));M=!0},rh:function(){fa.aa()?r=uc.instance({}):
(r.ga_=Jb.instance({fc:W.Pa?!1:"s105",isFloat:!1,Tb:!0,clearColor:[0,0,0,0],J:4}),r.position=Jb.instance({fc:W.Pa?!1:"s115",isFloat:!0,Tb:!0,clearColor:[0,0,0,0],J:4}),r.yb=Jb.instance({fc:!1,isFloat:!0,Tb:!0,clearColor:[0,0,0,0],J:4}),r.Mc=Jb.instance({fc:!1,isFloat:!1,Tb:!0,clearColor:[0,0,0,0],J:4}))},Rl:function(){return x},pa:function(B){x=B},Iq:function(){},Db:function(B){Wa.Db(B)},gj:function(B){Wa.m(B,y);fa.aa()||(r.ga_.rj(!1),r.position.rj("s108"));t=O=!0},nq:function(){Wa.aj()},ep:function(B){Wa.ck(B)},
Nn:function(B,U,ca){Wa.eb(B,U,ca)},On:function(B,U,ca){Wa.fb(B,U,ca)},Ln:function(B,U){Wa.mj(B,U)},Mn:function(B){Wa.Zn(B)},Pn:function(B){Wa.qj(B)},cb:function(B){Wa.cb(B)},hj:function(B,U,ca,na){Wa.ho(B,U,ca,na);U&&D.qg(U,na?!0:!1);R=!0},Gg:function(B){Wa.Gg(B)},sg:function(B){Wa.sg(B)},Fg:function(B){Wa.Fg(B)},xj:function(B){Wa.xj(B)},fp:function(B){q&&(Q=!0,ea&&ea.remove(),ea=ba.instance({width:L.O(),height:L.Y(),isPot:!1}),P=B)},qg:function(B,U){L="string"===typeof B?ba.instance({url:B,isFloat:!1}):
B;t&&Wa.qg(L,U);q=!0},bk:function(B){k.push(B);0!==y.length&&(y.forEach(function(U){U(B)}),y.splice(0,y.length))},xn:function(B){B=k.indexOf(B);-1!==B&&k.splice(B,1)},gp:function(B){m.push(B)},kq:function(B){B=m.indexOf(B);-1!==B&&m.splice(B,1)},le:function(B){t&&(C=B)},animate:function(B){!W.Pa||t&&R?C&&(d||H>W.Xm&&v?(N&&clearTimeout(N),++H,window.cancelAnimationFrame(D.animate),N=setTimeout(function(){window.requestAnimationFrame(D.animate)},16)):(D.Wi(B),++H,t||C&&window.requestAnimationFrame(D.animate))):
setTimeout(D.animate,100)},ip:function(B){G.push(B)},Wi:function(B){if((!W.Pa||t&&R)&&M){G.forEach(w);fa.aa()?r.set()||fa.la()?(t||Ac.zn(),l(),r.K(),I&&c.depthMask(!1)):(fa.zo(),D.rh(),Jb.ed(),E.ao(),W.Pa&&Wa.aj(),c.flush(),window.requestAnimationFrame(D.animate)):(t&&Wa.Je(1),r.ga_.set(!0,!0,!0),b(),r.ga_.K(),I&&c.depthMask(!1),r.Mc.set(!1,!I,!1),e(),r.Mc.K(),r.position.set(!0,!I,!1),tb.U(),a(),r.position.K(),r.yb.set(!1,!I,!1),f(),r.yb.K());c.disable(c.DEPTH_TEST);I||c.depthMask(!1);W.ea&&Cb.U();
var U=D.Nh();if(null!==U){U.h(7);E.set(W.ea?"s94":"s95");E.N("u14",1/fa.wb(),1/fa.vb());Jb.Fk();u.M();Z?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),E.G("u124",1)):c.disable(c.BLEND);t||tb.df();r.position.h(0);r.yb.h(1);r.ga_.h(2);x.hd(3);r.Mc.h(6);x.jd(4);x.vh();W.ea&&Cb.h(5);X.l(!0,!0);Z&&E.G("u124",0);Ba.$();if(Z){c.disable(c.BLEND);var ca=Wa.dk(u,g);E.set("s83");h.M();ca.h(0);X.l(!1,!1);g.o();h.h(0);X.l(!1,!1);g.h(0)}else Wa.ql(u,
g)||(E.set("s1"),g.M(),u.h(0),X.l(!1,!1)),ja?(E.set("s82"),h.M(),g.h(0),X.l(!1,!1),g.o(),h.h(0),O&&t?(E.set("s81"),A.h(1),Wa.Je(2),X.l(!1,!1),E.set("s1"),A.M(),g.h(0),X.l(!1,!1)):(E.set("s80"),X.l(!1,!1),g.h(0))):g.h(0);Ba.ba();c.viewport(0,0,fa.O(),fa.Y());!Z&&t&&Wa.rl(B,U)||E.set("s1");X.l(!1,!1);c.enable(c.DEPTH_TEST);c.depthMask(!0);c.flush()}}},Nh:function(){if(!q||Z)return ba.Zh();if(!t)return L;if(Q&&!Wa.Gm()){E.set(P);Ba.$();ea.Uc();ea.o();L.h(0);var B=ea;X.l(!0,!0)}else B=L;return Wa.ml(B)},
Eq:function(){W.dl||C||(C=!0,D.animate(Date.now()),n||vc.uo(),n||Rb.ib(!1),z&&clearTimeout(z),W.ea&&Cb.ee(),z=setTimeout(D.ta,W.Bk),n||fa.km(),n=!0)},Fq:function(){C&&(v=C=!1,cancelAnimationFrame(D.animate))},ta:function(){v||!n||d||W.th||(v=d=!0,z&&clearTimeout(z),F&&clearTimeout(F),tb.kf().Yi(),z=setTimeout(function(){fa.Tg(W.cn);W.ea&&Cb.Mj();H=0;p()},24))},wake:function(){v&&n&&!d&&(d=!0,v=!1,H=0,tb.kf().Yi(),z&&clearTimeout(z),F&&clearTimeout(F),z=setTimeout(function(){fa.Tg(1);W.ea&&Cb.ee();
p()},16))},Sp:function(){},yp:function(){},ke:function(B){O=B},Hq:function(B){ja=B},zj:function(B){Z=B},Mq:function(){E.j("s95",[{type:"1f",name:"u122",value:W.Pc},{type:"1f",name:"u123",value:W.gg}])},resize:function(B,U,ca){u.resize(B*ca,U*ca);g.resize(B,U);h.resize(B,U);W.Pa&&A.resize(B,U);Wa.resize(B,U,ca);B=[{type:"2f",name:"u14",value:[1/B,1/U]}];E.j("s82",B);E.j("s80",B);E.j("s83",B)},H:function(){N&&clearTimeout(N);z&&clearTimeout(z);F&&clearTimeout(F);k.concat(m).forEach(function(B){B.H()});
k.splice(0,k.length);m.splice(0,m.length);r.ga_.remove();r.yb.remove();r.Mc.remove();r.position.remove();u.remove();g.remove();h.remove();A&&A.remove();d=!0},v:function(){D.H();I=v=d=n=C=t=R=d=!1}};return D}(),xa={},fa=function(){function a(){Jb.resize(e*m,f*m);u.aa()&&uc.resize(e*m,f*m);ya.resize(e,f,m);W.ea&&Cb.resize(e*m,f*m,m);u.Rg()}var b=null,e=0,f=0,l=-1,p=!1,w={oe:!1,Jg:!1,Jj:!1,Cg:!1,drawBuffers:!1,Am:!1,ni:!1,Cm:!1,Ff:!1,Za:!1},k=Object.assign({},w),m=1,r=!1,y=!1,G=!1,x=!1,H=!1,u={m:function(g){void 0!==
g.onload&&g.onload&&(y=g.onload);void 0===g.expand&&(g.expand=!1);void 0===g.Jd&&(g.Jd=!1);void 0===g.qa&&(g.qa=!1);void 0===g.Qb&&(g.Qb=!1);void 0===g.alpha&&(g.alpha=!1);void 0===g.preserveDrawingBuffer&&(g.preserveDrawingBuffer=!1);g.Jd&&(p=!0);b=g.qa?g.qa:document.getElementById(g.Tk);g.expand&&u.expand();try{window.ap=g.Qb?g.Qb.Dl():b.getContext("webgl",{antialias:!1,alpha:g.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:g.preserveDrawingBuffer});x=g.Qb?g.Qb.la():!1;G=
!x;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&u.pd("too few texture image units");if(!Ga.m())return u.pd("invalid config");W.Ho&&(k.Jg=c.getExtension("EXT_texture_filter_anisotropic"),k.Jg&&(k.ni=!0));W.Io&&(k.oe=c.getExtension("WEBGL_compressed_texture_s3tc"),k.oe&&void 0!==k.oe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&k.oe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(k.Am=!0));G&&(k.Jj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),
k.Jj&&(k.Cm=!0));!x&&W.Jo&&(k.Cg=c.getExtension("EXT_sRGB"),k.Cg&&(k.Ff=!0));G?(k.drawBuffers=c.getExtension("WEBGL_draw_buffers"),k.drawBuffers&&!W.sh&&(k.Za=!0)):k.Za=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(k.Za){var h=u.fl();k.Za=k.Za&&h}}catch(A){return u.pd(A)}if(null===c||!c)return u.pd("NO_GL");g.expand&&window.addEventListener("resize",u.expand,!1);b.addEventListener("contextmenu",function(A){A.preventDefault();return!1},!1);e=b.width;f=b.height;u.Bf();return!0},Bf:function(){l=p?3:2;Ga.fa()||
(l=Math.min(l,1));Ga.Pk()||(l=Math.min(l,0));Gc.m();Jb.m();for(var g in xa)xa[g].Qc();E.m();tb.m();Rb.m();ya.m();vc.m();W.ea&&Cb.m();"undefined"!==typeof FPSCounter&&FPSCounter.m();u.Rg();u.hl();r=!0;y&&y();return!0},hl:function(){if(k.Za){var g=uc.instance({width:256,height:1});g.bind();c.viewport(0,0,256,1);E.set("s103");E.xa("color",[1,0,0,1]);X.l(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);Ba.ba();E.set("s1");g.yb.h(0);X.l(!1,!1);g=new Uint8Array(1024);c.readPixels(0,
0,256,1,c.RGBA,c.UNSIGNED_BYTE,g);H=1>=g[1020]}},fl:function(){var g=uc.instance({width:1,height:1});if(!g.set())return g.remove(),!1;E.eo(c);X.Ob(c);c.bindFramebuffer(c.FRAMEBUFFER,null);E.Bb(c);g.ga_.Ka(0);X.Ob(c);var h=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,h);g.remove();return 3<Math.abs(h[0]-127)?!1:!0},la:function(){return x},O:function(){return e},Y:function(){return f},wb:function(){return m*u.O()},vb:function(){return m*u.Y()},El:function(){return e/f},V:function(){return l},
Zp:function(){return 3===l},ri:function(){return H},aa:function(){return k.Za},zo:function(){k.Za=!1},bq:function(){return!1},Rk:function(){return 0<u.V()},op:function(){return u.aa()&&0<u.V()},jf:function(g){var h=c,A="";x||(h=k.drawBuffers,A="_WEBGL");return[h["COLOR_ATTACHMENT0"+A],h["COLOR_ATTACHMENT1"+A],h["COLOR_ATTACHMENT2"+A],h["COLOR_ATTACHMENT3"+A]].splice(0,g)},Ad:function(g){return u.jf(4)[g]},fm:function(){return x?c.SRGB?c.SRGB:c.RGBA:k.Ff?k.Cg.SRGB_ALPHA_EXT:c.RGBA},Dm:function(){return k.ni},
Jl:function(){return k.Jg},Qm:function(g){u.la()?c.drawBuffers(u.jf(g)):k.drawBuffers.drawBuffersWEBGL(u.jf(g))},expand:function(){ya.wake();u.resize(window.innerWidth,window.innerHeight);ya.ta()},resize:function(g,h){!b||g===e&&h===f||(e=g,f=h,b.width=e,b.height=f,r&&(tb.resize(),a()))},Rg:function(){var g=[{type:"2f",name:"u14",value:[1/fa.wb(),1/fa.vb()]}];E.j("s82",g);E.j("s80",g)},Tg:function(g){m=g;a()},Ja:function(g,h){b.addEventListener(g,h,!1)},pd:function(){l=-1;return!1},mh:function(){return 0<=
l},fq:function(){},oq:function(){},Cq:function(){var g=document.getElementById("loading");g&&(g.style.display="block")},km:function(){var g=document.getElementById("loading");g&&(g.style.display="none")},H:function(){u.mh()&&(ba.Kj(),ya.H(),X.H(),Jb.H(),W.ea&&Cb.H(),jc.H(),vc.H(),E.H(),ba.H(),c.flush(),c=null)},v:function(){ya.v();Wa.v();E.v();Object.assign(k,w);r=!1}};return u}(),tb=function(){var a=!1,b=!1,e=[];return{m:function(){},instance:function(f){void 0===f.Zi&&(f.Zi=!0);void 0===f.Ce&&(f.Ce=
.1);void 0===f.Be&&(f.Be=100);void 0===f.direction&&(f.direction=[0,0,-1]);void 0===f.Pb&&(f.Pb=45);var l=new Zb,p=new Va(50,-50,-400),w=null;l.setPosition(p);var k=new Int8Array(20),m=new Int8Array(20),r=0,y=0,G=0,x=0,H={U:function(){m[E.Bd()]||(E.Tc("u125",l.elements),m[E.Bd()]=1);k[E.Bd()]||(E.Tc("u137",w),k[E.Bd()]=1)},cf:function(){y||(E.Tc("u125",l.elements),y=1);r||(E.N("u126",w[0],w[5]),r=1)},df:function(){G||(E.yg("u114",p.x,p.y,p.z),G=1)},Mb:function(){x||(E.yg("u155",p.x,p.y,p.z),x=1)},
oh:function(){var u=f.Ce,g=f.Be,h=Math.tan(.5*f.Pb*Math.PI/180);w=[.5/h,0,0,0,0,.5*fa.El()/h,0,0,0,0,-(g+u)/(g-u),-1,0,0,-2*g*u/(g-u),0];for(u=0;20>u;++u)k[u]=0;r=0},$n:function(u,g){p.ej(g[0]).fj(g[1]).z=g[2];l.elements.set(u);for(u=0;20>u;++u)m[u]=0;x=G=y=0},Yi:function(){for(var u=x=G=0;20>u;++u)m[u]=0}};H.oh();a=H;b=!0;f.Zi&&e.push(H);return H},U:function(){b&&a.U()},cf:function(){b&&a.cf()},df:function(){b&&a.df()},Mb:function(){b&&a.Mb()},resize:function(){e.forEach(function(f){f.oh()})},kf:function(){return a}}}(),
Jb=function(){var a=[],b=null;return{m:function(){b=Ba.instance({width:fa.wb(),height:fa.vb(),Ec:!fa.aa()})},instance:function(e){void 0===e.width&&(e.width=fa.wb());void 0===e.height&&(e.height=fa.vb());void 0===e.isFloat&&(e.isFloat=!1);void 0===e.Tb&&(e.Tb=!1);void 0===e.clearColor&&(e.clearColor=[0,0,0,0]);void 0===e.J&&(e.J=4);var f=ba.instance({isFloat:e.isFloat&&Ga.fa(),T:e.isFloat,width:e.width,height:e.height,isPot:!1,isLinear:!1,J:e.J}),l=void 0!==e.fc&&e.fc?!0:!1,p=e.fc,w={set:function(k,
m,r){r&&b.bind(!1,r);f.o();k&&(c.clearColor(e.clearColor[0],e.clearColor[1],e.clearColor[2],e.clearColor[3]),b.Qe());m&&b.nh();l&&E.set(p)},rj:function(k){l=(p=k)?!0:!1},K:function(){f.qe()},h:function(k){f.h(k)},resize:function(k,m){f.resize(k,m)},debug:function(){f.debug()},remove:function(){f.remove()}};e.Tb&&a.push(w);return w},resize:function(e,f){b.resize(e,f);a.forEach(function(l){l.resize(e,f)})},Fk:function(){b.gh()},ed:function(){b.ed()},Uc:function(){b.Uc()},rp:function(){b.nh()},qp:function(){b.Qe()},
pp:function(){b.clear()},H:function(){b.remove()}}}(),uc=function(){var a=[];return{instance:function(b){void 0===b.width&&(b.width=fa.wb());void 0===b.height&&(b.height=fa.vb());var e=c.createFramebuffer(),f=b.width,l=b.height,p=!0;b={isFloat:Ga.fa(),T:!0,width:f,height:l,isPot:!1,isLinear:!1,J:4};var w=ba.instance(b),k=ba.instance(b),m=ba.instance(b),r=ba.instance(b),y=Ba.Kl(),G=Ba.Sh();c.bindFramebuffer(y,e);var x=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,x);c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_COMPONENT16,f,l);c.framebufferRenderbuffer(y,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,x);c.clearDepth(1);c.framebufferTexture2D(y,fa.Ad(0),c.TEXTURE_2D,w.get(),0);c.framebufferTexture2D(y,fa.Ad(1),c.TEXTURE_2D,k.get(),0);c.framebufferTexture2D(y,fa.Ad(2),c.TEXTURE_2D,r.get(),0);c.framebufferTexture2D(y,fa.Ad(3),c.TEXTURE_2D,m.get(),0);fa.Qm(4);c.bindFramebuffer(y,null);Ba.reset();var H={position:w,yb:k,Mc:m,ga_:r,bind:function(){c.bindFramebuffer(y,e);Ba.reset()},set:function(){p&&c.checkFramebufferStatus(G);
c.bindFramebuffer(y,e);Ba.reset();if(p){if(c.checkFramebufferStatus(G)!==c.FRAMEBUFFER_COMPLETE)return!1;p=!1}c.viewport(0,0,f,l);c.clearColor(0,0,0,0);E.Xb()&&!fa.ri()&&(E.set("s102"),X.l(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},K:function(){},resize:function(u,g){f=u;l=g;w.resize(u,g);k.resize(u,g);r.resize(u,g);m.resize(u,g);c.bindRenderbuffer(c.RENDERBUFFER,x);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,f,l);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){w.remove();
k.remove();r.remove();m.remove();c.deleteRenderbuffer(x);c.deleteFramebuffer(e);var u=a.indexOf(H);-1!==u&&a.splice(u,1)}};a.push(H);return H},resize:function(b,e){a.forEach(function(f){f.resize(b,e)})}}}(),jc=function(){var a=[],b=W.fh;return{instance:function(e){function f(){m?l():(h=xd.instance({ha:G,zm:b}),k=W.Ck[fa.V()],x=ba.instance({isFloat:Ga.fa(),T:!0,isPot:!0,isLinear:!1,isMirrorY:!0,width:k,height:k/2,J:3}),H=ba.instance({isFloat:Ga.fa(),T:!0,isPot:!0,isLinear:!1,isMirrorY:!0,width:k,height:k/
2,J:3}),u=ba.instance({isFloat:Ga.fa(),T:!0,isPot:!0,width:1,height:k/2,J:3}),g=ba.instance({isFloat:Ga.fa()&&!b,T:!b,isPot:!1,isLinear:!0,isMirrorY:!0,isMipmap:!1,width:k,height:k/2,J:b?4:3}),m=!0,l(),M.forEach(function(C){C()}),M.splice(0,M.length))}function l(){if(m){Ba.$();h.Un(G);h.vn();x.M();E.set("s85");G.h(0);E.G("u92",W.Pc);ba.Kk(1);X.l(!0,!0);for(var C=W.rm[fa.V()],n=0;n<C;++n)H.o(),E.set("s88"),E.N("u14",1/k,0),x.h(0),X.l(!1,!1),x.o(),E.N("u14",0,2/k),H.h(0),X.l(!1,!1);u.M();E.set("s90");
x.h(0);X.l(!1,!1);E.set(b?"s92":"s91");g.M();x.h(0);u.h(1);X.l(!1,!1);ba.ba(0);ba.ba(1)}}var p=Object.assign({Kb:null,uc:null,tc:0,vc:0},e),w=0,k=0,m=!1,r=null,y=null,G=null,x=null,H=null,u=null,g=null,h=null,A=0,M=[];e={m:function(){function C(){2===++n&&(G=ba.instance({isFloat:Ga.fa(),T:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:w,height:w/2,J:3}),Ba.$(),G.M(),E.set("s84"),E.G("u97",p.vc),E.G("u98",p.tc),r.h(0),y.h(1),X.l(!0,!0),f())}var n=0;w=W.Dk[fa.V()];A=Math.log2(w)-1;p.Kb&&(r=
ba.instance({isPot:!1,url:p.Kb,B:C,J:3,isFlipY:!1}),y=ba.instance({isPot:!1,url:p.uc,B:C,J:3,isFlipY:!1}))},nj:function(C){G=C;f()},hd:function(C){m&&(h.h(C),E.G("u115",h.O()))},jd:function(C){m&&g.h(C)},vh:function(){E.G("u3",A)},Oh:function(){return A},O:function(){return w},ld:function(C){m?C():M.push(C)},H:function(){r&&r.remove();y&&y.remove();x.remove();u.remove();H.remove();h.remove();g.remove();G.remove()}};a.push(e);e.m();return e},H:function(){a.forEach(function(e){e.H()})}}}(),dd={instance:function(a){var b=
a.Km,e=a.Im,f=0,l=b.O();a=W.fh;var p=ba.instance({isFloat:Ga.fa()&&!a,T:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:l,J:a?4:3,isFlipY:!1}),w=ba.instance({isFloat:Ga.fa()&&!a,T:!a,isPot:!1,isLinear:!0,Vp:!0,isMipmap:!1,width:l,height:l/2,J:a?4:3}),k=Ba.instance({width:l,height:l}),m=a?"s77":"s76";return{fo:function(r){f=r;E.set(m);c.viewport(0,0,l,l);k.o();p.o();E.G("u13",f);b.hd(1);e.hd(0);X.l(!0,!0);c.viewport(0,0,l,l/2);w.o();b.jd(1);e.jd(0);X.l(!1,!1);c.flush()},hd:function(r){p.h(r)},jd:function(r){w.h(r)},
vh:function(){E.G("u3",b.Oh()*(1-f)+e.Oh()*f)}}}},Rb=function(){function a(L){var q=(d-W.Oe)/(W.jh-W.Oe);q=1-Math.pow(1-q,W.Zo);d+=L*(1+q*W.$o);d=Math.min(Math.max(d,W.Oe),W.jh);F.ib()}function b(L){-1!==k&&(A=h=0,w(),a(W.Yo*L.deltaY/window.innerHeight),L.preventDefault())}function e(){C+=h;n+=A;n=Math.min(Math.max(n,W.gn),W.fn);F.ib()}function f(L){if(0===k||-1===k)return!1;var q=void 0!==L.touches&&L.touches.length;L.preventDefault();if(2===k){var t=Vc(L.touches[0].pageX,L.touches[0].pageY,L.touches[1].pageX,
L.touches[1].pageY);a(-(u-t)*W.hn);u=t}else t=q?L.touches[0].clientX:L.clientX,L=q?L.touches[0].clientY:L.clientY,h=2*(t-x)*Math.PI/fa.O(),A=2*(L-H)*Math.PI/fa.Y(),4===k?(z[0]+=h*W.Li,z[1]-=A*W.Li,z[0]=Math.min(Math.max(z[0],-W.Oi),W.Oi),z[1]=Math.min(Math.max(z[1],-W.Pi),W.Pi),F.ib()):e(),x=t,H=L}function l(){0!==k&&-1!==k&&(0===h&&0===A||1!==k||!I?ya.ta():(w(),g=Date.now(),v=setInterval(F.Hm,M)),k=0)}function p(L){if(2!==k&&-1!==k){A=h=0;w();ya.wake();var q=void 0!==L.changedTouches&&L.touches.length;
L.preventDefault();q&&2===L.touches.length?(k=2,u=Vc(L.touches[0].pageX,L.touches[0].pageY,L.touches[1].pageX,L.touches[1].pageY)):(k=q||2!==L.button?1:4,x=q?L.touches[0].clientX:L.clientX,H=q?L.touches[0].clientY:L.clientY);return!1}}function w(){v&&(clearInterval(v),v=!1)}var k=0,m=!1,r=!1,y=!1,G=1,x=0,H=0,u=0,g=0,h=0,A=0,M=16,C=W.Ej,n=W.Ni,d=W.Ne,v=!1,I=0,N=new Float32Array([0,0,0,0,0]),z=[W.Nk,W.Ok],F={m:function(){I=W.fk[fa.V()];M=W.ud[fa.V()];fa.Ja("mousedown",p);fa.Ja("mouseup",l);fa.Ja("mouseout",
l);fa.Ja("mousemove",f);fa.Ja("mousemove",f);fa.Ja("wheel",b);fa.Ja("touchstart",p);fa.Ja("touchend",l);fa.Ja("touchmove",f)},ib:function(L){m?(r[0]=-n,r[1]=C,y[1].value=G/W.Ne*d,Wa.Cb(y)):(N[0]=C,N[1]=n,N[2]=d,N[3]=z[0],N[4]=z[1],vc.Jn(N,L))},Hm:function(){if(1E-4>h&&1E-4>A||-1===k)w(),A=h=0,0===k&&ya.ta();var L=Date.now(),q=L-g;g=L;L=Math.pow(I,q/M);h*=L;A*=L;e()},ef:function(L){m||(m=!0,k=-1,r=[0,0,0],y=[{name:"u83",type:"3f",value:r},{name:"u87",type:"1f",value:1}],G=L)},yj:function(L){-1===k&&
L&&(k=0);L||(k=-1)},Cn:function(){A=h=0;C=W.Ej;n=W.Ni;d=W.Ne;F.ib()},tq:function(L){d=L},uq:function(L){z[0]=L[0];z[1]=L[1];W.kh=L[2]},sq:function(L,q){C=L;n=q}};return F}(),Ac=function(){var a={s104:!1,s104color:!1,s104NormalMap:!1,s104ParamsMap:!1,s104NormalParamsMap:!1};return{instance:function(b){function e(P){if(ea){P.tweaker&&JEELIZVTO&&"undefined"!==typeof T&&T.eh(P.tweaker);F=P.partsNames||[];z.splice(0);z.push({n:0,offset:0});v.min.set(Infinity,Infinity,Infinity);v.max.set(-Infinity,
-Infinity,-Infinity);var D=P.uvs;D&&(D=D.filter(function(la){return la}));Z=D&&0<D.length&&0<D[0].length?!0:!1;"undefined"!==typeof zb&&"string"===typeof P.faces&&(P.faces=zb(P.faces));"undefined"!==typeof Ob&&("string"===typeof P.vertices&&(P.vertices=Ob(P.vertices)),D&&D.length&&D.forEach(function(la,Sa){"string"===typeof la&&(D[Sa]=Ob(la))}));var B=P.metadata.faces,U=1+(Z?1:0);B=(P.faces.length-B)/(P.metadata.faces*U);6!==B&&8!==B||Z||(++U,B/=2);if(4===B){B=6*U+2;for(var ca=4*U+1,na=Array(P.metadata.faces*
B),za=0;za<P.metadata.faces;++za)for(var Da=0;Da<U;++Da)na[za*B+4*Da]=P.faces[za*ca+5*Da],na[za*B+4*Da+1]=P.faces[za*ca+5*Da+1],na[za*B+4*Da+2]=P.faces[za*ca+5*Da+2],0===Da&&(na[za*B+3]=P.faces[za*ca+4]),na[za*B+4*Da+3*U+1]=P.faces[za*ca+5*Da],na[za*B+4*Da+3*U+2]=P.faces[za*ca+5*Da+2],na[za*B+4*Da+3*U+3]=P.faces[za*ca+5*Da+3],0===Da&&(na[za*B+3*U+4]=P.faces[za*ca+4]);P.faces=na;P.metadata.faces*=2}H=Array(P.metadata.vertices);for(B=0;B<P.metadata.vertices;++B)H[B]=new Va(P.vertices[3*B],P.vertices[3*
B+1],P.vertices[3*B+2]),id(v,H[B]);u=Array(P.metadata.faces);U=3*U+1;for(B=0;B<P.metadata.faces;++B)u[B]=new Cc(P.faces[U*B],P.faces[U*B+1],P.faces[U*B+2]),u[B].Zb=P.faces[U*B+3];q=3<H.length;ea&&(ea.visible=q);ld(H,u);g=md(H,u);if(Z){U=Array(H.length);B=["a","b","c"];for(ca=0;ca<P.metadata.faces;++ca)for(na=0;3>na;++na)if(za=P.faces[7*ca+na],Da=P.faces[7*ca+1+na+3],"undefined"===typeof U[za])U[za]=[[za,Da]];else if(U[za][0][1]!==Da){for(var ka=-1,ta=1;ta<U[za].length;++ta)if(U[za][ta][1]===Da){ka=
U[za][ta][0];break}ta=-1;-1===ka?(ta=H.length,H.push(H[za].clone()),g.push(g[za].clone()),U[za].push([ta,Da]),U[ta]=[[ta,Da]]):ta=ka;P.faces[7*ca+na]=ta;u[ca][B[na]]=ta}h=Array(H.length);for(P=0;P<H.length;++P)B="undefined"===typeof U[P]?P:U[P][0][1],h[P]=new Xb(D[0][2*B],D[0][2*B+1])}var Ia=tc(v);b.Ib&&(H.forEach(function(la){la.x-=Ia.x;la.z-=Ia.z;la.y-=v.min.y}),v.min.x-=Ia.x,v.max.x-=Ia.x,v.min.z-=Ia.z,v.max.z-=Ia.z,v.max.y-=v.min.y,v.min.y=0);if(b.Jb){var Y=W.Ak/Math.max(v.max.x-v.min.x,v.max.y-
v.min.y,v.max.z-v.min.z);H.forEach(function(la){la.Ca(Y)});v.min.Ca(Y);v.max.Ca(Y)}P=Z?8:6;U=new Float32Array(H.length*P);for(B=0;B<H.length;++B)U[P*B]=H[B].x,U[P*B+1]=H[B].y,U[P*B+2]=H[B].z,U[P*B+3]=g[B].x,U[P*B+4]=g[B].y,U[P*B+5]=g[B].z,Z&&(U[P*B+6]=h[B].x,U[P*B+7]=h[B].y);u.sort(function(la,Sa){return la.Zb-Sa.Zb});var pa=new (65536>3*u.length?Uint16Array:Uint32Array)(3*u.length),ha=0;u.forEach(function(la,Sa){la.Zb===ha?z[ha].n+=3:(z.push({n:3,offset:3*Sa}),++ha);pa[3*Sa]=la.a;pa[3*Sa+1]=la.b;
pa[3*Sa+2]=la.c});A&&A.remove();A=X.instance({ja:U,indices:pa});n=C=!1;ja&&ea.ph();t=!0;ea.bf();b.B&&(b.B(ea),b.B=null)}}function f(P){A.La(P.n,P.offset)}function l(P,D){O[D]&&(E.set(O[D].am()),A.bind(!1),Z?(E.Qa(),E.kj()):(E.bb(),E.lj()),O[D].Jc()&&(E.Sc(),C.wc(!1),E.de(),tb.Mb()),O[D].kl(),O[D].td(),A.La(P.n,P.offset))}function p(P,D){O[D]&&(E.set(O[D].bm()),A.bind(!1),Z?(E.Qa(),E.kj()):(E.bb(),E.lj()),O[D].Jc()&&(E.Sc(),C.wc(!1),E.de(),tb.Mb()),ea.Ac(),O[D].td(),A.La(P.n,P.offset))}function w(P,
D){Q&&O[D]&&(O[D].ll(),A.La(P.n,P.offset))}function k(P,D){Q&&O[D]&&(O[D].nl(Z),A.La(P.n,P.offset))}function m(P,D){O[D]&&(E.set(O[D].Xl()),O[D].Ah(),A.La(P.n,P.offset))}function r(P,D){O[D]&&(E.set(O[D].Yl()),ea.Ac(),O[D].Ah(),A.La(P.n,P.offset))}function y(P,D){O[D]&&(E.set(O[D].Zl()),O[D].Jc()&&(C.wc(!1),E.de(),tb.Mb()),A.bind(!1),O[D].xh(Z),A.La(P.n,P.offset))}function G(P,D){if(O[D]){var B=O[D].$l();E.set(B);O[D].Jc()&&(C.wc(!1),E.de(),tb.Mb(),A.bind(!1));a[B]||(ea.Ac(),A.bind(!1),a[B]=!0);O[D].xh(Z);
A.La(P.n,P.offset)}}function x(P,D){return new Promise(function(B,U){P?(P.B=function(ca){O[D]&&O[D].H();O[D]=ca;ja=ja||ca.Jc();B()},Gc.instance(P)):U()})}if(!fa.mh())return!1;void 0===b.Ib&&(b.Ib=!1);void 0===b.Jb&&(b.Jb=!1);void 0===b.Me&&(b.Me=!1);var H=null,u=null,g=null,h=null,A=null,M=null,C=null,n=!1,d=new Zb,v=new Bc,I=[],N=null,z=[{n:0,offset:0}],F=[],L=[],q=!1,t=!1,R=[],O=[],ja=!1,Z=!1,Q=!1,ea={visible:q,Yk:function(){return z.length},Ul:function(){return F},ph:function(){!n&&Z&&(u=u.filter(function(P){return null!==
P}),M=nd(H,g,h,u),C=X.instance({ja:M,indices:!1}),h=g=u=H=M=null,n=!0)},Ac:function(){tb.U();ea.zh()},zh:function(){E.Tc("u138",d.elements)},zp:function(){q&&(ea.zh(),A.bind(!1),Z?E.Qa():E.bb(),A.U())},ul:function(P){q&&(P||ea.Ac(),A.bind(!1),Z?E.Qa():E.bb(),A.U())},vl:function(){q&&(A.bind(!1),Z?E.Qa():E.bb(),z.forEach(w))},wh:function(){q&&(A.bind(!1),Z?E.Qa():E.bb(),L.forEach(f))},sl:function(P){Q&&q&&(A.bind(!1),Z?E.Qa():E.bb(),P?z.forEach(m):z.forEach(r))},sd:function(P){q&&(P||ea.Ac(),A.bind(!1),
P||(E.Qa(),E.Sc()),Q&&z.forEach(k))},td:function(P){Q&&q&&(P?z.forEach(l):z.forEach(p))},pl:function(){Q&&q&&z.forEach(G)},ol:function(){Q&&q&&z.forEach(y)},Xh:function(){return N},Vh:function(){return R},Go:function(P,D){O[P].update(D);ea.Oj()},tg:function(P,D){R=P;Q=!1;O.forEach(function(B){B.H()});O=Array(P.length);ja=!1;P=P.map(function(B,U){return"string"===typeof B?kd(-1===B.indexOf(".json")?B+".json":B).then(function(ca){ca.name=B;return x(ca,U,B)}):x(B,U,!1)});Promise.all(P).then(function(){Q=
!0;ea.ld(function(){ja&&ea.ph();ea.Oj();ya.Db(ea);ya.le(!0);D&&D(ea)},4);ea.bf()})},Oj:function(){L.splice(0);z.forEach(function(P,D){O[D]&&O[D].Fm()&&L.push(P)})},ld:function(P,D){t&&Q?P(ea):I.push({tb:P,order:D?D:0})},bf:function(){t&&Q&&(I.sort(function(P,D){return 0>P.order-D.order?1:-1}),I.forEach(function(P){P.tb(ea)}),I.splice(0))},remove:function(){ea.H();ea=null},H:function(){q=t=!1;A&&A.remove();O.forEach(function(P){P.H()});n&&C.remove();z.splice(0)},dm:function(){return v.size().x},em:function(){return v.size().y},
Qp:function(){return v.size().z},Gl:function(){return tc(v).x},Hl:function(){return tc(v).y},Ep:function(){return tc(v).z},Mp:function(){return v.min.y},replace:function(P,D,B){if(P===N)return D&&ea&&(ea.bf(),D(ea)),!1;N=P;ya.le(!1);Dc(P,function(U){e(U);D&&D(ea)},B);return!0}};b.Nc&&ea.tg(b.Nc,b.Me);N=b.url;Dc(b.url,e);return ea},zn:function(){a.s104=!1;a.s104color=!1;a.s104NormalMap=!1;a.s104ParamsMap=!1;a.s104NormalParamsMap=!1}}}(),vc=function(){var a=null,b=!1,e=!1,f=null,l=new Float32Array(16),
p=new Float32Array(3),w={data:0},k={m:function(){a=W.Nb?new Worker("js/worker.php"):{postMessage:function(m){w.data=m;Hc.an(w)},terminate:function(){}};a.onmessage=function(m){switch(m.data[0]){case 3:for(var r=0;16>r;++r)l[r]=m.data[r+1];for(r=0;3>r;++r)p[r]=m.data[r+17];tb.kf().$n(l,p);break;case 6:k.Vn(),b=!0,Rb.ib(!1),W.ea&&(Cb.enable(),Cb.ee())}};f=new Float32Array(6);f[0]=2;W.Nb||Hc.Xn(a)},uo:function(){W.uh||(e=!0)},Gq:function(){e=!1},Jn:function(m,r){if(r||b&&e)f[1]=m[0],f[2]=m[1],f[3]=m[2],
f[4]=m[3],f[5]=m[4],a.postMessage(f)},Vn:function(){a.postMessage([5,W.kh])},H:function(){W.Nb&&a.terminate()}};return k}(),Hc=function(){var a=0,b=0,e=0,f=[0,0],l=new Zb,p=new sc,w=new sc,k=new Va,m=new Va,r=new Yb,y=0,G=new Float32Array(20);G[0]=3;var x=null,H={data:!1},u={m:function(){"undefined"===typeof W&&(self.bp={Nb:!0});W.Nb&&u.hg([6])},an:function(g){switch(g.data[0]){case 2:u.ug(g.data);break;case 5:y=g.data[1]}},hg:function(g){W.Nb?postMessage(g):(H.data=g,x.onmessage(H))},ug:function(g){a=
g[1];b=g[2];e=g[3];f[0]=g[4];f[1]=g[5];k.set(f[0],f[1],-e);r.set(b,a,0,"XYZ");if(!1===r instanceof Yb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");g=Math.cos(r.C/2);var h=Math.cos(r.D/2),A=Math.cos(r.F/2),M=Math.sin(r.C/2),C=Math.sin(r.D/2),n=Math.sin(r.F/2),d=r.order;"XYZ"===d?(p.C=M*h*A+g*C*n,p.D=g*C*A-M*h*n,p.F=g*h*n+M*C*A,p.S=g*h*A-M*C*n):"YXZ"===d?(p.C=M*h*A+g*C*n,p.D=g*C*A-M*h*n,p.F=g*h*n-M*C*A,p.S=g*h*A+M*C*n):"ZXY"===d?(p.C=
M*h*A-g*C*n,p.D=g*C*A+M*h*n,p.F=g*h*n+M*C*A,p.S=g*h*A-M*C*n):"ZYX"===d?(p.C=M*h*A-g*C*n,p.D=g*C*A+M*h*n,p.F=g*h*n-M*C*A,p.S=g*h*A+M*C*n):"YZX"===d?(p.C=M*h*A+g*C*n,p.D=g*C*A+M*h*n,p.F=g*h*n-M*C*A,p.S=g*h*A-M*C*n):"XZY"===d&&(p.C=M*h*A-g*C*n,p.D=g*C*A-M*h*n,p.F=g*h*n+M*C*A,p.S=g*h*A+M*C*n);k.y-=y;g=l.elements;n=p.x;var v=p.y,I=p.z;M=p.w;var N=n+n,z=v+v;C=I+I;h=n*N;A=n*z;n*=C;d=v*z;v*=C;I*=C;N*=M;z*=M;M*=C;g[0]=1-(d+I);g[4]=A-M;g[8]=n+z;g[1]=A+M;g[5]=1-(h+I);g[9]=v-N;g[2]=n-z;g[6]=v+N;g[10]=1-(h+d);
g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;l.setPosition(k);w.L(p).inverse();g=m.L(k);v=g.x;N=g.y;I=g.z;h=w.x;A=w.y;M=w.z;C=w.w;n=C*v+A*I-M*N;d=C*N+M*v-h*I;z=C*I+h*N-A*v;v=-h*v-A*N-M*I;g.x=n*C+v*-h+d*-M-z*-A;g.y=d*C+v*-A+z*-h-n*-M;g.z=z*C+v*-M+n*-A-d*-h;for(g=1;17>g;++g)G[g]=l.elements[g-1];G[17]=m.x;G[18]=m.y;G[19]=m.z;u.hg(G)},Xn:function(g){x=g;u.hg([6])}};return u}();Hc.m();var Gc=function(){function a(w){var k=w.split(":").shift();return"data"===k||"blob"===k?w:("undefined"!==typeof J&&
J.ca?J:W).ca+W.Ei+w}function b(w,k){return Math.min(k+w+k*w,1)}var e=!1,f=null,l=1,p={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],B:null};return{m:function(){f=ba.instance({width:1,height:1,isMipmap:!1,J:4,array:new Uint8Array([255,255,255,255]),Ff:!1})},ef:function(){e=!0;l=2},instance:function(w){function k(){"number"===typeof h.alpha?(u[0]=
h.alpha,u[1]=0,u[2]=0,u[3]=0):(u[0]=h.alpha[0],u[1]=h.alpha[1]-h.alpha[0],u[2]=h.alpha[2],u[3]=h.alpha[3]);var t=1<=h.fresnelPow?h.fresnelMin:h.fresnelMax;g[0]=b(u[0],t);g[1]=b(u[1],t);g[2]=u[2];g[3]=u[3];d={Mi:h.fresnelMax,Ai:[h.fresnelMin,h.roughness,h.fresnelPow/15,h.metalness],Di:h.paramsMapMask}}function m(){return new Promise(function(t){(x=h.normalTexture&&fa.Rk()?!0:!1)&&!C.Da?C.Da=ba.instance({url:a(h.normalTexture),isLinear:!0,isMipmap:!0,isAnisotropicFiltering:!1,isPot:!0,J:3,B:t}):t()})}
function r(){return new Promise(function(t){(H=h.diffuseTexture&&""!==h.diffuseTexture?!0:!1)&&!C.ga_?(C.ga_=ba.instance({url:a(h.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,isAnisotropicFiltering:!0,isSrgb:!1,isMirrorY:!1,isMirrorX:!1,J:4,B:t}),M="s109"):(C.ga_||(M="s110",C.ga_=f),t());A=[h.diffuseColor[0]/255,h.diffuseColor[1]/255,h.diffuseColor[2]/255]})}function y(){return new Promise(function(t){(n=h.paramsTexture?!0:!1)&&!C.$a?h.paramsTexture===h.diffuseTexture?(C.$a=C.ga_,t()):C.$a=ba.instance({url:a(h.paramsTexture),
isMipmap:!0,isLinear:!0,isPot:!0,isAnisotropicFiltering:!1,isSrgb:!1,isMirrorY:!1,isMirrorX:!1,J:4,B:t}):t()})}function G(t){k();Promise.all([m(),r(),y()]).then(function(){x||n||H?x||n?x&&!n?(v="s104NormalMap",I="s104NNGLtextureNormalMap"):!x&&n?(v="s104ParamsMap",I="s104NNGLtextureParamsMap"):(v="s104NormalParamsMap",I="s104NNGLtextureNormalParamsMap"):(v="s104",I="s104NNGLtexture"):(v="s104color",I="s104NNGLcolor");N=x?"s112":"s111";z=x?"s106":"s116";F=n?"s114":"s113";L=n?"s107":"s117";h.B&&setTimeout(h.B.bind(null,
t),1)})}var x,H,u=[1,0,0,0],g=[0,0,0,0],h=Object.assign({},p,w),A=null,M=null,C={ga_:null,Da:null,$a:null},n=x=H=!1,d=null,v=null,I=null,N=null,z=null,F=null,L=null,q={update:function(t){q.H();Object.assign(h,t);G()},Jc:function(){return x},Fm:function(){return.99>u[0]},bm:function(){return z},am:function(){return N},Yl:function(){return L},Xl:function(){return F},$l:function(){return v},Zl:function(){return I},td:function(){x&&C.Da.h(0)},nl:function(t){e&&E.set(M);t?E.Qa():E.bb();H&&E.Sc();q.sd()},
sd:function(){H&&(E.G("u73",h.colorTextureUsage),C.ga_.h(0));E.zg("u148",A)},Ah:function(){n&&(C.$a.h(0),E.xa("u75",d.Di),E.Sc());E.xa("u112",d.Ai);E.G("u149",d.Mi)},xh:function(t){n&&!x?C.$a.h(l):x&&(H||f.h(0),C.Da.h(l),n&&C.$a.h(l+1));n&&E.xa("u75",d.Di);H||x?E.Rn():t?E.Sn():E.Tn();q.sd();E.xa("u13",u);E.xa("u112",d.Ai);E.G("u149",d.Mi)},kl:function(){E.xa("u13",u)},ll:function(){E.xa("u13",g)},H:function(){H&&C.ga_.remove();x&&C.Da.remove();n&&h.paramsTexture!==h.diffuseTexture&&C.$a.remove();
Object.assign(C,{ga_:null,Da:null,$a:null})}};G(q);return q}}}(),Cb=function(){var a=0,b=0,e=0,f=0,l=0,p=0,w=W.yk,k=W.xk,m=W.zk,r=0,y=0,G=null,x=null,H=0,u=0,g=0,h=0,A=0,M=null,C=0,n=0,d=0,v=Date.now(),I=null,N=!1,z=!1,F=!1,L=1,q=!1,t={m:function(){a=W.tk[fa.V()];b=W.sk[fa.V()];e=W.rk[fa.V()];n=W.uk[fa.V()];f=W.kk[fa.V()];l=W.pk[fa.V()];g=W.qk[fa.V()];h=fa.O();A=fa.Y();r=Math.round(h*a);y=Math.round(A*a);x=Ba.instance({width:r,height:y,Ec:!1});G=ba.instance({width:r,height:y,isPot:!1,isLinear:!0});
M=ba.instance({width:r,height:y,isPot:!1,isLinear:!0,J:1});N=!0},resize:function(R,O,ja){L=ja;h=R;A=O;r=Math.round(R*a);y=Math.round(O*a);x.resize(r,y);z=!0},U:function(){var R=Math.exp(-(Date.now()-v)/n);C=F?d+(1-R)*(1-d):d*R;H=b+C*(e-b);u=f+(1-C)*(1-f);p=l+(1-C)*(1-l);ba.ba(5);if(z&&N)ba.ba(6),M.resize(r,y),E.set("s0"),E.ge("u1",6),x.bind(!1,!0),M.o(),x.Qe(),G.h(6),X.l(!0,!0),G.resize(r,y),G.o(),M.h(6),X.l(!1,!1),E.ge("u1",0),z=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,c.ONE_MINUS_SRC_ALPHA);
R=H/g;c.blendColor(R,R,R,R);c.colorMask(!0,!1,!1,!0);E.set("s96");tb.cf();E.G("u129",H);n&&(E.G("u130",u),E.G("u121",p));var O=L*(w+Math.pow(Math.random(),m)*(k-w));E.N("u14",O/h,O/A);x.gh();x.Uc();G.o();O=2*Math.PI*Math.random();for(var ja=!0,Z=0;Z<g;++Z)1===Z&&(c.blendFunc(c.SRC_ALPHA,c.ONE),E.G("u129",R)),E.G("u128",O+Z/g*(Math.PI/2)),E.N("u127",(Math.random()-.5)/h,(Math.random()-.5)/A),X.l(ja,ja),ja=!1;c.disable(c.BLEND);E.set("s97");E.N("u14",1/r,1/y);M.o();G.h(7);X.l(!1,!1);c.colorMask(!0,
!0,!0,!0)}},h:function(R){M.h(R)},enable:function(){q=!0},kn:function(){if(F||!q)return!1;I&&clearTimeout(I);t.ee();I=setTimeout(t.Mj,400)},ee:function(){I&&(clearTimeout(I),I=!1);!F&&q&&(window.Xj.disable(),F=!0,v=Date.now(),d=C)},Mj:function(){F&&q&&(I&&(clearTimeout(I),I=null),window.Xj.enable(),F=!1,v=Date.now(),d=C)},H:function(){G.remove();M.remove();x.remove()}};t.kn();return t}(),xd={instance:function(a){var b=a.ha.O(),e=a.zm?!0:!1,f=e?"s78":"s12",l=ba.instance({isFloat:a.ha.si()&&Ga.fa()&&
!e,T:a.ha.ti()&&!e,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,J:e?4:3}),p=ba.instance({isFloat:a.ha.si()&&Ga.fa(),T:a.ha.ti(),isPot:!0,width:1,height:b/2,J:3});p.o();E.set("s90");a.ha.h(0);X.l(!0,!0);var w=Math.round(Math.log(b)/Math.log(2));l.Un=function(k){a.ha=k};l.vn=function(){l.o();E.set(f);E.G("u92",W.Pc);a.ha.h(0);p.h(1);for(var k=0,m=0;m<=w;++m){var r=Math.pow(2,w-m),y=r/2;c.viewport(0,k,b,y);E.N("u90",b/r,1);E.G("u91",Math.min(6/y,.6));k+=r/2;X.l(0===m,0===m)}};l.yn=l.remove;l.remove=
function(){l.yn();p.remove()};return l}};xa.Ia=function(){var a={Rc:45,pg:1,Ab:"../../images/debug/picsou.png",ce:.8,Mf:3.14/6,Nf:.314,Od:4,Nd:.5,Lf:-.25,Jm:1,Z:256,Kf:.15},b={Va:null,Bc:null,screen:null},e=!1,f=!1,l=-1,p=null,w=null,k=null,m=Math.PI/180,r=[1,1],y=!1,G={m:function(x){l=x.width;x={isFloat:Ga.fa(),T:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:l,height:l/2,J:3};b.Va&&(b.Va.remove(),b.Bc.remove());b.Va=ba.instance(x);b.Bc=ba.instance(x);E.j("s118",[{type:"1i",name:"u156",value:0}]);
E.j("s119",[{type:"1i",name:"u161",value:0}]);G.Pj();y=!0},Pj:function(){E.j("s119",[{type:"1f",name:"u162",value:a.Mf},{type:"1f",name:"u163",value:a.Nf},{type:"1f",name:"u164",value:a.Od},{type:"1f",name:"u165",value:a.Nd},{type:"1f",name:"u166",value:a.Lf}])},cq:function(){return f},pa:function(x){p=x},Qc:function(){w="uniform sampler2D u156;uniform vec2 u157,u158,u10;uniform int u159;uniform float u160,u142;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u10*(c-u157)/u158;float b=1.;if(u159==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u160*g,texture2D(u156,a).rgb*u142,b*g);gl_FragColor=vec4(d,1.);}";
k="uniform sampler2D u161;uniform float u162,u163,u164,u165,u166;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u161,vec2(.5,.5));float d=a.r,j=u164*a.g,k=u165*(a.b+u166),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u162-u163,u162+u163,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.ma("s118",{name:"_",
g:w,i:"u156 u157 u159 u158 u160 u142 u10".split(" "),precision:"highp"});E.ma("s119",{name:"_",g:k,i:"u161 u162 u163 u164 u165 u166".split(" "),precision:"highp"})},Eg:function(x,H,u,g,h,A,M){E.N("u157",H,u);E.ge("u159",g?1:0);E.N("u158",h,h/A);E.xg("u10",M);x.h(0);X.l(!1,!1)},ak:function(x){c.viewport(0,0,a.Z,a.Z/2);E.set("s119");x.h(0);X.l(!1,!1)},Yh:function(){return b.Va},ih:function(x){G.m({width:a.Z});G.Qj(x,!1,1);f=!0},hh:function(){e&&b.screen.gm()===a.Ab||(e=!1,b.screen&&b.screen.remove(),
b.screen=ba.instance({url:a.Ab,isFloat:!1,B:function(){e=!0}}))},ug:function(x){Object.assign(a,x)},ib:function(x){G.ug(x);y&&(G.Pj(),G.hh())},Qj:function(x,H,u){var g=a.Z;Ba.$();b.Bc.M();E.set("s0");b.Va.h(0);X.l(!0,!0);b.Va.o();E.set("s118");E.G("u160",a.Kf);E.G("u142",a.Jm);G.Eg(x,Math.PI,0,!0,90*m,x.O()/x.Y(),r);e&&(E.G("u142",a.ce),c.viewport(0,0,g/2,g/2),G.Eg(b.screen,0,0,!1,2*a.Rc*m,2*a.pg,r),c.viewport(g/2,0,g/2,g/2),G.Eg(b.screen,2*Math.PI,0,!1,2*a.Rc*m,2*a.pg,r));c.enable(c.BLEND);c.blendFunc(c.ONE,
c.ONE);H&&G.ak(H);E.set("s0");c.blendColor(0,0,0,1-u);c.blendFunc(c.CONSTANT_ALPHA,c.ONE_MINUS_CONSTANT_ALPHA);b.Bc.h(0);X.l(!1,!1);c.disable(c.BLEND);p.nj(b.Va)},v:function(){Object.assign(b,{Va:null,Bc:null,screen:null});f=e=!1;l=-1;p=null}};return G}();xa.pb=function(){var a=!1,b=!0,e=null,f=null,l=1,p=null,w={Qc:function(){fa.aa()&&(E.ma("s120",{name:"_",u:"attribute vec3 a0;uniform sampler2D u41;uniform float u145;uniform vec2 u42;uniform vec3 u144;const float l=0.,m=0.,D=1.;const vec2 e=vec2(1.);const vec3 n=vec3(1.);const vec2 E=vec2(-1.,1.),o=vec2(.16,.5),p=vec2(.5,.5),q=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 r(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,o);vec2 f=u86*e;vec3 c=u86*n;vec2 s=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,p).rgb+vec3(u80,0.,0.),u83,c);float t=mix(texture2D(u41,q).r,0.,u86);a.z+=t;mat3 u=r(a);vec3 v=mix(u144,u84,c);float w=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 x=mat2(h,i,-i,h);b.xy=x*b.xy;float y=mix(u82,1.,u86);vec2 j=u81/s;vec3 k=a0;float z=max(0.,-a0.z-l)*m;k.x+=z*sign(a0.x)*(1.-u86);vec3 A=u*(k+v)*w+b;vec2 B=j*y;vec3 C=vec3(g*B,-j)+A*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(C,1.));}",
g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u41","u42","u79","u144","u145"].concat(E.Dd(),E.Ed()),I:["a0"],R:[3],da:!0}),a=!0)},m:function(k){a&&E.j("s120",[{type:"1i",name:"u41",value:1},{type:"3f",name:"u79",value:k.Ea},{type:"1f",name:"u145",value:1},{type:"1f",name:"u80",value:0},{type:"1f",name:"u88",value:1}].concat(k.Pg))},fb:function(k,m){f=k;l=m;w.di()},eb:function(k,m){e=k;p=m;w.di()},
di:function(){if(fa.aa()&&f&&e){var k=[e[0]*f,e[1]*f,e[2]*f],m=p;k[0]+=m[0];k[1]+=m[1];k[2]+=m[2];E.j("s120",[{type:"1f",name:"u145",value:l},{type:"3f",name:"u144",value:k}]);E.K()}},qm:function(k){for(var m=k.width/2,r=k.height/2,y=k.depth,G=k.wl,x=k.height/4,H=k.al,u=2*H+4,g=[],h=[],A=-m+k.Ua,M=-G-k.Ua,C=m-k.Ua,n=-G-k.Ua,d=0;d<u;++d){var v=0,I=0;0===d?(v=-m,I=-G-y):1<=d&&d<=1+H?(I=(d-1)/H*Math.PI/2,v=A-Math.cos(I)*k.Ua,I=M+Math.sin(I)*k.Ua):d>=2+H&&d<=2+2*H?(I=(d-2-H)/H*Math.PI/2,v=C+Math.sin(I)*
k.Ua,I=n+Math.cos(I)*k.Ua):d===u-1&&(v=m,I=-G-y);g.push(v,r+x,I,v,-r+x,I);0!==d&&h.push(2*d,2*d-2,2*d-1,2*d,2*d-1,2*d+1)}return w.instance({ja:g,indices:h})},toggle:function(k){b=k},instance:function(k){var m=X.instance({ja:k.ja,indices:k.indices});return{U:function(){a&&b&&(E.set("s120"),m.bind(!0),m.U())}}}};return w}();xa.ia=function(){function a(q){E.j("s123",q);E.j("s124",q)}var b={uf:-87,jm:[85,95],ci:[90,90],bi:[85,70],md:24,tp:12,bl:2,ig:[-80,40],Ii:[0,-10],Ym:40,$m:20,Ji:[70,50],Zm:90,Co:2,
ie:[0,-15],Ae:1024,lb:512,Vd:4,so:[6,30],Hi:1.2};b.Si=b.ig;var e=!1,f=!1,l=!1,p=null,w=null,k=null,m=null,r=null,y=null,G=!1,x=!1,H=null,u=null,g=null,h=null,A=.5,M=[{type:"1f",name:"u168",value:1}],C=null,n=null,d=0,v=["u41","u42","u145","u144"],I=null,N=null,z=null,F=null,L={Qc:function(){E.ma("s121",{name:"_",u:"attribute vec3 a0;uniform vec3 u144;uniform vec2 u169,u170;uniform float u145,u171,u172,u173;varying float vv0,vv1;void main(){vec3 a=(a0+u144)*u145;float b=atan(a.x,a.z-u171),d=2.*(a.y-u172)/(u173-u172)-1.;vv0=a0.y;float g=1.-u169.x*u169.x/(u169.y*u169.y),c=u169.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u171);vv1=smoothstep(u170.x,u170.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
g:"uniform float u174;uniform vec4 u13;varying float vv0,vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv0),b=min(a,1.)*u174;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u145 u144 u169 u170 u171 u172 u173 u13 u174".split(" "),I:["a0"],R:[3],precision:"highp"});E.ma("s122",{name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u14),c=texture2D(u1,vv0-2.*u14),d=texture2D(u1,vv0-u14),f=texture2D(u1,vv0+u14),g=texture2D(u1,vv0+2.*u14),h=texture2D(u1,vv0+3.*u14);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u14"],precision:"lowp"});E.ma("s123",{name:"_",u:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u41;uniform vec2 u42;uniform float u145;uniform vec3 u144;const float o=0.,p=0.;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 g=u86*e;vec3 c=u86*q;vec2 v=mix(d.a*u42,e,g),h=(2.*d.gb-e)*(1.-g);h.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u80,0.,0.),u83,c);float w=mix(texture2D(u41,t).r,0.,u86);a.z+=w;mat3 i=u(a);vec3 x=mix(u144,u84,c);float y=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float j=cos(a.z),k=sin(a.z);mat2 z=mat2(j,k,-k,j);b.xy=z*b.xy;float A=mix(u82,1.,u86);vec2 l=u81/v;vec3 m=a0;float B=max(0.,-a0.z-o)*p;m.x+=B*sign(a0.x)*(1.-u86);vec3 C=i*(m+x)*y+b;vec2 D=l*A;vec3 E=vec3(h*D,-l)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=i*a2;vv1=-F.z,vv1*=vv1*1e-5+smoothstep(5.,50.,abs(a0.x));}",
g:"uniform sampler2D u175,u161;uniform vec2 u90,u176;uniform float u177,u168;varying vec2 vv0;varying float vv1;void main(){vec2 b=u176*u177+u90*vv0;vec4 a=u168*texture2D(u175,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u175 u161 u79 u177 u176 u90 u168".split(" ").concat(E.Dd(),E.Ed(),v),I:["a0","a2","a1"],R:[3,3,2],precision:"lowp"});E.ma("s124",{name:"_",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec2 u42;uniform float u145;uniform vec3 u144;const float l=0.,m=0.;const vec2 e=vec2(1.);const vec3 n=vec3(1.);const vec2 D=vec2(-1.,1.),o=vec2(.16,.5),p=vec2(.5,.5),q=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 r(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,o);vec2 f=u86*e;vec3 c=u86*n;vec2 s=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,p).rgb+vec3(u80,0.,0.),u83,c);float t=mix(texture2D(u41,q).r,0.,u86);a.z+=t;mat3 u=r(a);vec3 v=mix(u144,u84,c);float w=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 x=mat2(h,i,-i,h);b.xy=x*b.xy;float y=mix(u82,1.,u86);vec2 j=u81/s;vec3 k=a0;float z=max(0.,-a0.z-l)*m;k.x+=z*sign(a0.x)*(1.-u86);vec3 A=u*(k+v)*w+b;vec2 B=j*y;vec3 C=vec3(g*B,-j)+A*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(C,1.)),gl_Position*=vec4(-1.,1.,1.,1.);}",
g:"void main(){gl_FragColor=vec4(0.);}",i:["u79"].concat(E.Dd(),E.Ed(),v),I:["a0"],R:[3],precision:"lowp"});e=!0},m:function(q){if(e){if(void 0===q.hc||!q.hc)return!1;if(f)L.ij(q);else{m=ba.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:b.Ae,height:b.Ae/4});var t=b.lb/4,R={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:b.lb,height:t};k=ba.instance(R);y=ba.instance(R);r=ba.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:b.lb,height:t*b.Vd});t=[];R=[];var O=b.Ii[0],ja=b.Ii[1],
Z=b.Ym,Q=b.$m,ea=-b.Ji[0]+O,P=b.Ji[1]+ja,D=b.Zm;t.push(0,O,ja,.5*-Q,ea,P,.5*Q,ea,P,.5*-Z,O-D,ja,.5*Z,O-D,ja);R.push(0,2,1,0,1,3,1,4,3,1,2,4,0,4,2);z=X.instance({ja:new Float32Array(t),indices:new Uint16Array(R)});t=.5-.5/q.ic[1];R=.5+.5/q.ic[1];O=new Float32Array(16*b.md);ja=new Uint16Array(6*(b.md-1));for(Z=0;Z<b.md;++Z){Q=2*Z/(b.md-1)-1;Q=Math.sign(Q)*Math.pow(Math.abs(Q),b.bl);D=Math.PI*(Q+1)/2-Math.PI/2;Q=Math.sin(D);var B=Math.cos(D);ea=Math.sin(D*b.Hi);P=Math.cos(D*b.Hi);var U=D/(Math.PI*q.ic[0])+
.5;D=b.bi[0]*Q;var ca=b.Si[0],na=b.bi[1]*B+b.uf,za=U,Da=t,ka=b.Si[1];B=b.ci[1]*B+b.uf;var ta=R,Ia=16*Z;O[Ia]=b.ci[0]*Q;O[Ia+1]=ka;O[Ia+2]=B;O[Ia+3]=ea;O[Ia+4]=0;O[Ia+5]=P;O[Ia+6]=U;O[Ia+7]=ta;O[Ia+8]=D;O[Ia+9]=ca;O[Ia+10]=na;O[Ia+11]=ea;O[Ia+12]=0;O[Ia+13]=P;O[Ia+14]=za;O[Ia+15]=Da;0!==Z&&(Q=2*Z,ea=6*(Z-1),ja[ea]=Q,ja[ea+1]=Q-1,ja[ea+2]=Q-2,ja[ea+3]=Q,ja[ea+4]=Q+1,ja[ea+5]=Q-1)}F=X.instance({ja:O,indices:ja});L.ij(q);E.j("s122",[{type:"1i",name:"u1",value:0}]);f=!0}}},ij:function(q){A=q.no;h=q.je;
var t=[{type:"1i",name:"u41",value:1},{type:"3f",name:"u79",value:[q.Ea[0],q.Ea[1]-b.ie[0],q.Ea[2]+b.ie[1]]}].concat(q.Pg,q.Lj);C=[{type:"1i",name:"u175",value:0},{type:"1i",name:"u161",value:2},{type:"1f",name:"u177",value:q.oo},{type:"2f",name:"u90",value:[1,1/b.Vd]},{type:"2f",name:"u176",value:[0,1/b.Vd]},{type:"1f",name:"u168",value:1}].concat(t);n=t;E.j("s123",C);E.j("s124",n)},cc:function(q){p=q},bc:function(q){I=q;I.ld(L.xc)},ui:function(){return l&&null!==I&&null!==N},xc:function(){if(!(l||
x&&G)||null===I||null===N)return!1;d=0;c.viewport(0,0,b.Ae,b.Ae/4);Ba.$();m.o();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);E.j("s121",[{type:"1f",name:"u171",value:b.uf},{type:"1f",name:"u172",value:b.ig[0]},{type:"1f",name:"u173",value:b.ig[1]},{type:"3f",name:"u144",value:[H[0]+u[0],H[1]+u[1],H[2]+u[2]]},{type:"1f",name:"u174",value:A},{type:"2f",name:"u169",value:b.jm},{type:"2f",name:"u170",value:b.so}]);I.vl();E.set("s1");var q=b.lb/4;c.viewport(0,0,b.lb,q);k.o();m.h(0);m.zd();X.l(!0,
!0);for(var t=0;t<b.Vd;++t)E.set("s122"),0!==t&&c.viewport(0,0,b.lb,q),y.o(),k.h(0),E.N("u14",1/b.lb,0),X.l(!1,!1),k.o(),y.h(0),E.N("u14",0,1/q),X.l(!1,!1),b.cl&&c.colorMask(0===t,1===t,2===t,!0),E.set("s1"),r.o(),k.h(0),c.viewport(0,t*q,b.lb,q),X.l(!1,!1),b.cl&&c.colorMask(!0,!0,!0,!0);return l=!0},U:function(){L.ui()&&0===d++%b.Co&&(N.bind(!1,!1),w.M(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.set("s124"),p.h(1),z.bind(!0),z.U(),
E.set("s123"),r.h(0),F.bind(!0),F.U(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},cm:function(){return w},add:function(){L.ui()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),w.h(0),X.l(!1,!1),c.disable(c.BLEND))},rg:function(q,t){N&&N.remove();N=Ba.instance({width:q,height:t,Ec:!0});w&&w.remove();w=ba.instance({width:q,height:t,isFloat:!1,isPot:!1});L.xc()},eb:function(q,t,R){q||(q=H,t=u,R=g);a([{type:"3f",name:"u144",value:[R[0]+h[0],R[1]+h[1]-b.ie[0],R[2]+h[2]+b.ie[1]]}]);H=q;u=t;g=
R;x=!0;!l&&G&&L.xc();E.K()},fb:function(q,t){E.j("s121",[{type:"1f",name:"u145",value:q}]);a([{type:"1f",name:"u145",value:t}]);G=!0;!l&&x&&L.xc();E.K()},vg:function(q){a([{type:"1f",name:"u80",value:q}]);E.K()},Db:function(q){q&&(I=q);L.xc()},wg:function(q,t){M[0].value=1-q;a(M);a(t)},H:function(){},v:function(){l=f=e=!1;y=r=m=k=w=p=null}};return L}();xa.sa=function(){var a=!1,b=null,e=0,f=0,l=0,p=[{type:"1f",name:"u168",value:1}],w=null,k=null,m=null,r={Qc:function(){E.ma("s125",{name:"_",u:"attribute vec3 a0;uniform vec2 u178,u179;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u179)/u178;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",
g:"uniform vec2 u180;uniform float u181,u182,u183;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u181,u182),a=vv0-b,c=u183*a,d=(c-a)*u180;gl_FragColor=vec4(d,0.,1.);}",i:"u178 u179 u181 u182 u183 u180".split(" "),I:["a0"],R:[3],precision:"highp"});E.ma("s126",{name:"_",u:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u41;uniform vec3 u144;uniform vec2 u42,u178,u179;uniform float u145;const float n=0.,o=0.;const vec2 e=vec2(1.);const vec3 p=vec3(1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u76;uniform vec3 u79,u83,u84,u85;uniform float u77,u78,u86,u87,u80,u81,u82,u88;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,q);vec2 f=u86*e;vec3 c=u86*p;vec2 u=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,r).rgb+vec3(u80,0.,0.),u83,c);float v=mix(texture2D(u41,s).r,0.,u86);a.z+=v;mat3 w=t(a);vec3 x=mix(u144,u84,c);float y=mix(u145,u87,u86);vec3 b=mix(u79,u85,c);b.x+=u77*sin(a.y),b.y+=u78*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u82,1.,u86);vec2 j=u81/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u86);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u88*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u179)/u178,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
g:"uniform sampler2D u184,u185;uniform float u168;varying vec2 vv0,vv1;void main(){vec2 a=u168*texture2D(u184,vv0).rg;gl_FragColor=texture2D(u185,a+vv1);}",i:"u168 u41 u184 u185 u178 u179 u42 u79 u145 u144".split(" ").concat(E.Dd(),E.Ed()),I:["a0"],R:[3],precision:"lowp"});a=!0},m:function(y){if(a){if(void 0===y.hc||!y.od)return!1;k=ba.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,J:4});m=Ba.instance({width:256,height:128});E.j("s126",[{type:"1i",name:"u41",value:1},{type:"1i",
name:"u184",value:2},{type:"1i",name:"u185",value:0},{type:"3f",name:"u79",value:y.Ea},{type:"1f",name:"u168",value:1}].concat(y.Lj,y.Pg));f=y.Xe;l=y.We;e=y.Ye}},cc:function(y){b=y},bc:function(y){w=y;w.ld(r.Te)},Te:function(){c.viewport(0,0,256,128);m.o();k.o();var y=w.dm(),G=w.em(),x=[{type:"2f",name:"u178",value:[y,G]},{type:"2f",name:"u179",value:[w.Gl(),w.Hl()]}];E.j("s125",x.concat([{type:"1f",name:"u181",value:f},{type:"1f",name:"u182",value:l},{type:"1f",name:"u183",value:e},{type:"2f",name:"u180",
value:[1/y,-1/G]}]));w.wh();E.j("s126",x)},U:function(){E.set("s126");b.h(1);k.h(2);w.wh()},eb:function(y){E.j("s126",[{type:"3f",name:"u144",value:y}]);E.K()},fb:function(y){E.j("s126",[{type:"1f",name:"u145",value:y}]);E.K()},vg:function(y){E.j("s126",[{type:"1f",name:"u80",value:y}]);E.K()},lo:function(y){e=y;r.Te();E.K();ya.animate(Date.now())},Db:function(y){y&&(w=y);r.Te()},wg:function(y,G){p.u168=1-y;E.j("s126",p);E.j("s126",G)},H:function(){}};return r}();xa.oc=function(){var a=[0,-.5],b=
!1,e=!1,f=null,l=null,p=null,w=null,k=null,m=-1,r=-1;return{Qc:function(){E.ma("s127",{name:"_",u:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42,u11;uniform float u10;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u41,vec2(.25,.5));vec2 b=a.a*u42,c=2.*a.gb-f,d=u11+a0*u10;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",g:"uniform sampler2D u186;varying vec2 vv0;void main(){gl_FragColor=texture2D(u186,vv0);}",i:["u41","u186","u42","u11","u10"],precision:"lowp"});
E.ma("s128",{name:"_",g:"uniform sampler2D u2,u187,u188;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u188,vv0).rgb,c=texture2D(u187,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u188","u187"],precision:"lowp"});b=!0},m:function(y){b&&(k=ba.instance({isFloat:!1,isPot:!0,url:y.Ke,B:function(){e=!0}}),E.j("s127",[{type:"1i",name:"u41",value:1},{type:"1i",name:"u186",value:0},{type:"2f",name:"u42",value:y.Uj},{type:"2f",name:"u11",value:a},
{type:"1f",name:"u10",value:3.8}]),E.j("s128",[{type:"1i",name:"u187",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u188",value:2}]))},cc:function(y){l=y},rg:function(y,G){var x={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:y,height:G,J:4};m=2/y;r=2/G;p=ba.instance(x);w=ba.instance(x);f=Ba.instance({width:y,height:G})},U:function(y,G){if(e){f.bind(!1,!0);E.set("s89");for(var x=0;2>x;++x){E.N("u14",m,0);p.o();0!==x&&w.h(0);var H=0===x&&!W.ea;X.l(H,H);E.N("u14",0,r);w.o();p.h(0);X.l(!1,
!1)}E.set("s127");l.h(1);k.h(0);p.o();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);X.l(!1,!1);E.set("s128");G.o();w.h(0);p.h(1);y.h(2);X.l(!1,!1)}},H:function(){}}}();var Kc=function(){var a={instance:function(b){var e=b.Wf,f=b.Sf,l=b.nd,p=b.background?b.background:ba.Zh(),w=b.Oa,k={scale:1,offsetX:0,offsetY:0},m=null;b.Rf&&(k.scale=b.Rf.scale,k.offsetY=b.Rf.offsetY);return{Uh:function(){return w},Nh:function(){return p},set:function(){m=eb.Sl();eb.pj(k);eb.se();eb.te();ya.hj(l,p,!1,!1)},K:function(){eb.pj(m)},
ac:function(){return{modelURL:e,materialsURLs:f,background:p.ac(!1),nd:l.ac(!1),Oa:w.ac(!0)}},Wl:function(){return l.ac(!1)},hp:function(r){p.h(r)},H:function(){l.remove();w.remove();b.background&&p.remove()}}},Xc:function(b,e,f){function l(){if(3===++m&&e){var r=a.instance({Wf:b.modelURL,Sf:b.materialsURLs,background:p,nd:w,Oa:k});e(r)}}var p=null,w=null,k=null,m=0;ba.Xc(b.background,function(r){!r&&f?f():(p=r,l())});ba.Xc(b.dataState,function(r){!r&&f?f():(w=r,l())});ba.Xc(b.light,function(r){!r&&
f?f():(k=r,l())})}};return a}();return Ta||JEELIZVTO}();(function(V,ua){"function"===typeof define&&define.amd?define(ua):"object"===typeof exports?module.exports=ua():V.ResizeSensor=ua()})("undefined"!==typeof window?window:this,function(){function V(Ka,$a){var Ya=Object.prototype.toString.call(Ka),Eb=0,La=Ka.length;if("[object Array]"===Ya||"[object NodeList]"===Ya||"[object HTMLCollection]"===Ya||"[object Object]"===Ya||"undefined"!==typeof jQuery&&Ka instanceof jQuery||"undefined"!==typeof Elements&&
Ka instanceof Elements)for(;Eb<La;Eb++)$a(Ka[Eb]);else $a(Ka)}if("undefined"===typeof window)return null;var ua=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ka){return window.setTimeout(Ka,20)},Na=function(Ka,$a){function Ya(){var La=[];this.add=function(Kb){La.push(Kb)};var ib,rb;this.call=function(){ib=0;for(rb=La.length;ib<rb;ib++)La[ib].call()};this.remove=function(Kb){var zb=[];ib=0;for(rb=La.length;ib<rb;ib++)La[ib]!==Kb&&zb.push(La[ib]);
La=zb};this.length=function(){return La.length}}function Eb(La,ib){if(La)if(La.resizedAttached)La.resizedAttached.add(ib);else{La.resizedAttached=new Ya;La.resizedAttached.add(ib);La.resizeSensor=document.createElement("div");La.resizeSensor.className="resize-sensor";La.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";La.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
La.appendChild(La.resizeSensor);La.resizeSensor.offsetParent!==La&&(La.style.position="relative");var rb=La.resizeSensor.childNodes[0],Kb=rb.childNodes[0],zb=La.resizeSensor.childNodes[1],Ob,ac,Fb,bc,cc=La.offsetWidth,dc=La.offsetHeight,ec=function(){Kb.style.width="100000px";Kb.style.height="100000px";rb.scrollLeft=1E5;rb.scrollTop=1E5;zb.scrollLeft=1E5;zb.scrollTop=1E5};ec();var yc=function(){ac=0;Ob&&(cc=Fb,dc=bc,La.resizedAttached&&La.resizedAttached.call())};ib=function(){Fb=La.offsetWidth;bc=
La.offsetHeight;(Ob=Fb!=cc||bc!=dc)&&!ac&&(ac=ua(yc));ec()};var fc=function(gc,ic,hc){gc.attachEvent?gc.attachEvent("on"+ic,hc):gc.addEventListener(ic,hc)};fc(rb,"scroll",ib);fc(zb,"scroll",ib)}}V(Ka,function(La){Eb(La,$a)});this.detach=function(La){Na.detach(Ka,La)}};Na.detach=function(Ka,$a){V(Ka,function(Ya){if(Ya){if(Ya.resizedAttached&&"function"==typeof $a&&(Ya.resizedAttached.remove($a),Ya.resizedAttached.length()))return;Ya.resizeSensor&&(Ya.contains(Ya.resizeSensor)&&Ya.removeChild(Ya.resizeSensor),
delete Ya.resizeSensor,delete Ya.resizedAttached)}})};return Na});var oc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},lb={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Qa={isRT:!0,sku:void 0,materialsReplacements:"",mode:lb.notLoaded},hb={displayWidth:-1,displayHeight:-1,cvWidth:-1,cvHeight:-1},Yc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},Aa=Object.assign({},Yc),yd={ADJUST_START:null,
ADJUST_END:null,LOADING_START:null,LOADING_END:null},Ic=null,Ub={enabled:!1,callback:null,interval:1E3},wc={error:!1},mc=null,$b=null,xc="undef",xb={start:function(V){console.log("INFO in JeelizVTOWidget.js: start()");if(Qa.mode!==lb.notLoaded)xb.resume();else{oa();if(V.settings)for(var ua in V.settings)oc[ua]=V.settings[ua];V.NNCPath&&Ta.set_NNCPath(V.NNCPath);V.faceDetectionCallback&&(Ub.enabled=!0,Ub.callback=V.faceDetectionCallback,Ub.interval="undefined"===typeof V.faceDetectionInterval?1E3:
V.faceDetectionInterval);Ic=Object.assign({},yd,V.callbacks||{});Aa.container=V.placeHolder||document.getElementById("JeelizVTOWidget");if(!Aa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");Aa.cv=V.canvas||document.getElementById("JeelizVTOWidgetCanvas");Aa.cv||(Aa.cv=document.createElement("canvas"),Aa.container.appendChild(Aa.cv));Aa.cv.style.position="absolute";Aa.loading=document.getElementById("JeelizVTOWidgetLoading");V.onError&&(wc.error=
V.onError);Db();ua=nb(Aa.container);if(!ua.width)return Promise.reject("PLACEHOLDER_NULL_WIDTH");if(!ua.height)return Promise.reject("PLACEHOLDER_NULL_HEIGHT");ob();new ResizeSensor(Aa.container,function(Na){ob()});(V.searchImageMask||V.searchImageColor||V.searchImageRotationSpeed)&&Ta.set_loading(V.searchImageMask,V.searchImageColor,V.searchImageRotationSpeed);V.callbackReady&&($b=V.callbackReady);Qa.mode=lb.init;xc="undefined"===typeof V.assetsPath?oc.appstaticURL+"jeefit/":V.assetsPath;"undefined"!==
typeof V.catalog&&(mc=V.catalog);if(V.onWebcamGet)Ta.onWebcamGet(V.onWebcamGet);return new Promise(function(Na,Ka){Ta.init(xc,ma,function(Ya){Qa.isRT=!1;db(Ya||"NO_ERROR_LABEL");Ka()},Aa.cv);var $a=V.sku?V.sku:null;Ta.onHalfLoad(function(){!1===V.isShadow&&Ta.switch_shadow(!1);xb.load($a,Na,V.materialsReplacements)})})}},destroy:function(){return Ta.destroy().then(function(){Qa.mode=lb.notLoaded;Qa.sku=void 0;Qa.materialsReplacements="";$b=mc=null;Object.assign(Aa,Yc)})},pause:function(V){if(!Qa.isRT)return Promise.reject();
Qa.mode=lb.paused;var ua=Ta.switch_sleep(!0,V);return V?ua:Promise.resolve(ua)},resume:function(V){if(!Qa.isRT)return Promise.reject();Qa.mode=lb.realtime;var ua=Ta.switch_sleep(!1,V);return V?ua:Promise.resolve(ua)},set_videoRotation:function(V){Qa.isRT&&Ta.set_videoRotation(V)},set_videoSizes:function(V,ua,Na,Ka,$a,Ya){Qa.isRT&&Ta.set_videoSizes(V,ua,Na,Ka,$a,Ya)},resize:function(){ob()},set_scale:function(V){Ta.set_scale(V)},capture_image:function(V,ua,Na){Ta&&Ta.ready?Ta.capture_image(V,ua,Na,
!1):ua(!1)},toggle_loading:function(V){V?(qa(Aa.loading),nc("LOADING_START")):(Ma(Aa.loading),nc("LOADING_END"))},load_modelStandalone:function(V,ua){if(!Qa.isRT)throw Error("Loading standalone models is only available in RT mode");Qa.mode===lb.paused&&xb.resume();Qa.mode=lb.loadingModel;if("string"===typeof V){var Na=V;Ha(V,Na).then(ua).catch(Ra)}else{var Ka=Na="RANDOM_SKU_"+Date.now().toString();Ta.set_modelStandalone(V,Nb.bind(null,Ka,ua),Ka)}Qa.sku=Na;Qa.materialsReplacements=""},load:function(V,
ua,Na){xb.toggle_loading(!0);Qa.isRT&&xb.load_RT(V,ua,Na)},load_RT:function(V,ua,Na){var Ka=Na?JSON.stringify(Na):"";V===Qa.sku&&Ka===Qa.materialsReplacements?xb.toggle_loading(!1):(Qa.sku=V,Qa.materialsReplacements=Ka,Qa.mode=lb.loadingModel,Qa.mode===lb.paused&&xb.resume(),V?mc&&mc[V]?Sb(V,mc[V],ua,Na):sa(oc.glassesDBURL+V).then(function($a){if($a.error)return Ra();Sb(V,$a.intrinsic,ua,Na)}).catch(Ra):(Qa.mode=lb.realtime,xb.toggle_loading(!1),Ta.start_rendering(),ua&&ua()))},enter_adjustMode:Tb,
exit_adjustMode:ub,set_LUT:function(V){return Ta&&Ta.ready?Ta.set_LUT(V||null):Promise.reject("NOT_READY")}};return xb}();JEELIZVTO=JEELIZVTO;
JEELIZVTOWIDGET={VERSION:JEELIZVTO.VERSION,start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,
exit_adjustMode:JeelizVTOWidget.exit_adjustMode,set_LUT:JeelizVTOWidget.set_LUT};

export {JEELIZVTO, JEELIZVTOWIDGET};
/* eslint-enable */
