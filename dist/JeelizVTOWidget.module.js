/**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( JeelizÂ® - https://jeeliz.com )
 *
 * This software library is the proprietary and confidential information of
 * Jeeliz ("Licensor"). You may only use this software library if
 * you have obtained a valid commercial license from Licensor. If you have not
 * obtained a valid commercial license from Licensor, please check out
 * https://jeeliz.com/#pricing for licensing options and pricing.
 *
 * Unauthorized use, reproduction, or distribution of this software library or
 * any portion thereof may result in severe civil and criminal penalties, and
 * will be prosecuted to the maximum extent possible under the law.
 *
 * THIS SOFTWARE LIBRARY IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL LICENSOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE LIBRARY, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

 

/* eslint-disable */
let JEELIZVTO=null;let JEELIZVTOWIDGET=null;var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(ka,ma){return Object.prototype.hasOwnProperty.call(ka,ma)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ka,ma,ra){if(ka==Array.prototype||ka==Object.prototype)return ka;ka[ma]=ra.value;return ka};
$jscomp.getGlobal=function(ka){ka=["object"==typeof globalThis&&globalThis,ka,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var ma=0;ma<ka.length;++ma){var ra=ka[ma];if(ra&&ra.Math==Math)return ra}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ka,ma){var ra=$jscomp.propertyToPolyfillSymbol[ma];if(null==ra)return ka[ma];ra=ka[ra];return void 0!==ra?ra:ka[ma]};$jscomp.polyfill=function(ka,ma,ra,Qa){ma&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ka,ma,ra,Qa):$jscomp.polyfillUnisolated(ka,ma,ra,Qa))};
$jscomp.polyfillUnisolated=function(ka,ma,ra,Qa){ra=$jscomp.global;ka=ka.split(".");for(Qa=0;Qa<ka.length-1;Qa++){var wa=ka[Qa];if(!(wa in ra))return;ra=ra[wa]}ka=ka[ka.length-1];Qa=ra[ka];ma=ma(Qa);ma!=Qa&&null!=ma&&$jscomp.defineProperty(ra,ka,{configurable:!0,writable:!0,value:ma})};
$jscomp.polyfillIsolated=function(ka,ma,ra,Qa){var wa=ka.split(".");ka=1===wa.length;Qa=wa[0];Qa=!ka&&Qa in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var sb=0;sb<wa.length-1;sb++){var ta=wa[sb];if(!(ta in Qa))return;Qa=Qa[ta]}wa=wa[wa.length-1];ra=$jscomp.IS_SYMBOL_NATIVE&&"es6"===ra?Qa[wa]:null;ma=ma(ra);null!=ma&&(ka?$jscomp.defineProperty($jscomp.polyfills,wa,{configurable:!0,writable:!0,value:ma}):ma!==ra&&($jscomp.propertyToPolyfillSymbol[wa]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(wa):
$jscomp.POLYFILL_PREFIX+wa,wa=$jscomp.propertyToPolyfillSymbol[wa],$jscomp.defineProperty(Qa,wa,{configurable:!0,writable:!0,value:ma})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(ka,ma){for(var ra=1;ra<arguments.length;ra++){var Qa=arguments[ra];if(Qa)for(var wa in Qa)$jscomp.owns(Qa,wa)&&(ka[wa]=Qa[wa])}return ka};$jscomp.polyfill("Object.assign",function(ka){return ka||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(ka){var ma=0;return function(){return ma<ka.length?{done:!1,value:ka[ma++]}:{done:!0}}};$jscomp.arrayIterator=function(ka){return{next:$jscomp.arrayIteratorImpl(ka)}};$jscomp.makeIterator=function(ka){var ma="undefined"!=typeof Symbol&&Symbol.iterator&&ka[Symbol.iterator];return ma?ma.call(ka):$jscomp.arrayIterator(ka)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(ka){function ma(){this.batch_=null}function ra(ta){return ta instanceof wa?ta:new wa(function(Ka,Ta){Ka(ta)})}if(ka&&!$jscomp.FORCE_POLYFILL_PROMISE)return ka;ma.prototype.asyncExecute=function(ta){if(null==this.batch_){this.batch_=[];var Ka=this;this.asyncExecuteFunction(function(){Ka.executeBatch_()})}this.batch_.push(ta)};var Qa=$jscomp.global.setTimeout;ma.prototype.asyncExecuteFunction=function(ta){Qa(ta,0)};ma.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var ta=this.batch_;this.batch_=[];for(var Ka=0;Ka<ta.length;++Ka){var Ta=ta[Ka];ta[Ka]=null;try{Ta()}catch(eb){this.asyncThrow_(eb)}}}this.batch_=null};ma.prototype.asyncThrow_=function(ta){this.asyncExecuteFunction(function(){throw ta;})};var wa=function(ta){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ka=this.createResolveAndReject_();try{ta(Ka.resolve,Ka.reject)}catch(Ta){Ka.reject(Ta)}};wa.prototype.createResolveAndReject_=function(){function ta(eb){return function(ub){Ta||
(Ta=!0,eb.call(Ka,ub))}}var Ka=this,Ta=!1;return{resolve:ta(this.resolveTo_),reject:ta(this.reject_)}};wa.prototype.resolveTo_=function(ta){if(ta===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(ta instanceof wa)this.settleSameAsPromise_(ta);else{a:switch(typeof ta){case "object":var Ka=null!=ta;break a;case "function":Ka=!0;break a;default:Ka=!1}Ka?this.resolveToNonPromiseObj_(ta):this.fulfill_(ta)}};wa.prototype.resolveToNonPromiseObj_=function(ta){var Ka=void 0;
try{Ka=ta.then}catch(Ta){this.reject_(Ta);return}"function"==typeof Ka?this.settleSameAsThenable_(Ka,ta):this.fulfill_(ta)};wa.prototype.reject_=function(ta){this.settle_(2,ta)};wa.prototype.fulfill_=function(ta){this.settle_(1,ta)};wa.prototype.settle_=function(ta,Ka){if(0!=this.state_)throw Error("Cannot settle("+ta+", "+Ka+"): Promise already settled in state"+this.state_);this.state_=ta;this.result_=Ka;this.executeOnSettledCallbacks_()};wa.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var ta=0;ta<this.onSettledCallbacks_.length;++ta)sb.asyncExecute(this.onSettledCallbacks_[ta]);this.onSettledCallbacks_=null}};var sb=new ma;wa.prototype.settleSameAsPromise_=function(ta){var Ka=this.createResolveAndReject_();ta.callWhenSettled_(Ka.resolve,Ka.reject)};wa.prototype.settleSameAsThenable_=function(ta,Ka){var Ta=this.createResolveAndReject_();try{ta.call(Ka,Ta.resolve,Ta.reject)}catch(eb){Ta.reject(eb)}};wa.prototype.then=function(ta,Ka){function Ta(zb,Fb){return"function"==
typeof zb?function(jc){try{eb(zb(jc))}catch(Yb){ub(Yb)}}:Fb}var eb,ub,Zb=new wa(function(zb,Fb){eb=zb;ub=Fb});this.callWhenSettled_(Ta(ta,eb),Ta(Ka,ub));return Zb};wa.prototype.catch=function(ta){return this.then(void 0,ta)};wa.prototype.callWhenSettled_=function(ta,Ka){function Ta(){switch(eb.state_){case 1:ta(eb.result_);break;case 2:Ka(eb.result_);break;default:throw Error("Unexpected state: "+eb.state_);}}var eb=this;null==this.onSettledCallbacks_?sb.asyncExecute(Ta):this.onSettledCallbacks_.push(Ta)};
wa.resolve=ra;wa.reject=function(ta){return new wa(function(Ka,Ta){Ta(ta)})};wa.race=function(ta){return new wa(function(Ka,Ta){for(var eb=$jscomp.makeIterator(ta),ub=eb.next();!ub.done;ub=eb.next())ra(ub.value).callWhenSettled_(Ka,Ta)})};wa.all=function(ta){var Ka=$jscomp.makeIterator(ta),Ta=Ka.next();return Ta.done?ra([]):new wa(function(eb,ub){function Zb(jc){return function(Yb){zb[jc]=Yb;Fb--;0==Fb&&eb(zb)}}var zb=[],Fb=0;do zb.push(void 0),Fb++,ra(Ta.value).callWhenSettled_(Zb(zb.length-1),ub),
Ta=Ka.next();while(!Ta.done)})};return wa},"es6","es3");$jscomp.polyfill("Math.log2",function(ka){return ka?ka:function(ma){return Math.log(ma)/Math.LN2}},"es6","es3");$jscomp.findInternal=function(ka,ma,ra){ka instanceof String&&(ka=String(ka));for(var Qa=ka.length,wa=0;wa<Qa;wa++){var sb=ka[wa];if(ma.call(ra,sb,wa,ka))return{i:wa,v:sb}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(ka){return ka?ka:function(ma,ra){return $jscomp.findInternal(this,ma,ra).v}},"es6","es3");
$jscomp.polyfill("Object.is",function(ka){return ka?ka:function(ma,ra){return ma===ra?0!==ma||1/ma===1/ra:ma!==ma&&ra!==ra}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(ka){return ka?ka:function(ma,ra){var Qa=this;Qa instanceof String&&(Qa=String(Qa));var wa=Qa.length;ra=ra||0;for(0>ra&&(ra=Math.max(ra+wa,0));ra<wa;ra++){var sb=Qa[ra];if(sb===ma||Object.is(sb,ma))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(ka,ma,ra){if(null==ka)throw new TypeError("The 'this' value for String.prototype."+ra+" must not be null or undefined");if(ma instanceof RegExp)throw new TypeError("First argument to String.prototype."+ra+" must not be a regular expression");return ka+""};$jscomp.polyfill("String.prototype.includes",function(ka){return ka?ka:function(ma,ra){return-1!==$jscomp.checkStringArgs(this,ma,"includes").indexOf(ma,ra||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(ka){return ka?ka:function(ma,ra){return $jscomp.findInternal(this,ma,ra).i}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(ka){return ka?ka:function(ma){return this.then(function(ra){return Promise.resolve(ma()).then(function(){return ra})},function(ra){return Promise.resolve(ma()).then(function(){throw ra;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(ka){return ka?ka:function(ma){ma=Number(ma);return 0===ma||isNaN(ma)?ma:0<ma?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function ka(){Sa.mode=ob.realtime;Sa.isRT=!0;Ca.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(Ca.adjust){Ca.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");Ca.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");Ca.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");Ca.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var S=Ca.adjust;S&&S.addEventListener("click",zb,!1);(S=Ca.adjustExit)&&
S.addEventListener("click",Fb,!1);[Ca.adjust,Ca.changeModelContainer,Ca.buttonResizeCanvas].forEach(ra)}$b.enabled&&Va.do_instantDetection($b.interval,$b.callback);kc&&(kc(!0),kc=null)}function ma(){var S=document.createElement("style");S.setAttribute("type","text/css");S.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var V=document.getElementsByTagName("head");1<=V.length?V[0].appendChild(S):document.body.appendChild(S)}function ra(S){S&&
(S.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(S).display&&S.classList.add("_jeelizVTOForceShow"))}function Qa(S){S&&(S.classList.add("_jeelizVTOForceHide"),S.classList.remove("_jeelizVTOForceShow"))}function wa(S,V){if(S)for(var oa in V)S.style[oa]=V[oa]}function sb(S){if(!S)return{width:0,height:0};S=S.getBoundingClientRect();return{width:S.width,height:S.height}}function ta(S){return new Promise(function(V,oa){var Ea=new XMLHttpRequest;Ea.open("GET",S,!0);Ea.onreadystatechange=
function(){if(4===Ea.readyState)if(200===Ea.status||0===Ea.status)try{var La=JSON.parse(Ea.responseText);V(La)}catch(xb){oa("INVALID JSON")}else oa("HTTP ERROR "+Ea.status)};Ea.send()})}function Ka(S,V){return fetch(S,{method:"GET",mode:"cors",cache:"no-cache"}).then(function(oa){return oa.json()}).then(function(oa){var Ea=oa.tweaker;return Ta(oa.modelURL,V).then(function(){Zc(Ea,null)})})}function Ta(S,V){return new Promise(function(oa,Ea){ta(S).then(function(La){$c(V,La,oa)}).catch(Ea)})}function eb(){vb.toggle_loading(!1);
Sa.mode=ob.realtime;ub("INVALID_SKU")}function ub(S){Kc.error?Kc.error(S):console.log("ERROR:",S)}function Zb(S){var V=sb(Ca.container),oa=Math.abs(fb.displayWidth-V.width),Ea=Math.abs(fb.displayHeight-V.height);if(!S&&1>=oa&&1>=Ea&&1===fb.oFactor)console.log("INFO in JeelizVTOWidget.resize: resolution difference too small. Abort resize");else if(fb.displayWidth=V.width,fb.displayHeight=V.height,fb.oFactor=1,console.log("INFO in JeelizVTOWidget.resize: width = "+fb.displayWidth.toString()+" height = "+
fb.displayHeight.toString()+" oFactor = "+(1).toString()),fb.cvWidth=Math.round(1*fb.displayWidth),fb.cvHeight=Math.round(1*fb.displayHeight),wa(Ca.cv,{width:fb.displayWidth.toString()+"px",height:fb.displayHeight.toString()+"px"}),Ca.cv.width=fb.cvWidth,Ca.cv.height=fb.cvHeight,Va)if(Sa.mode===ob.notLoaded)Va.set_size(fb.cvWidth,fb.cvHeight,!1);else Va.onLoad(function(){Va.resize(fb.cvWidth,fb.cvHeight,!1,S)})}function zb(){[Ca.adjust,Ca.changeModelContainer,Ca.buttonResizeCanvas].forEach(Qa);Sa.mode=
ob.adjust;[Ca.adjustNotice,Ca.adjustExit].forEach(ra);Ca.cv.style.setProperty("cursor","move");Va.switch_modeInteractor("movePinch");vc("ADJUST_START")}function Fb(){[Ca.adjustNotice,Ca.adjustExit].forEach(Qa);[Ca.adjust,Ca.changeModelContainer,Ca.buttonResizeCanvas].forEach(ra);Ca.cv.style.setProperty("cursor","auto");Sa.mode=Sa.realtime;Va.switch_modeInteractor("idle");vc("ADJUST_END")}function jc(){if(!Ca.trackIframe){var S=Lb.appstaticURL+"jeewidget/";Ca.trackIframe=document.createElement("iframe");
Ca.trackIframe.width="8";Ca.trackIframe.height="8";Ca.trackIframe.src=S+"trackIframe.html";Ca.trackIframe.style.border="none";wa(Ca.trackIframe,{position:"fixed",zIndex:-1,bottom:"0",right:"-10px"});window.addEventListener("beforeunload",Yb.bind(null,"WINDOW_UNLOAD",null));Ca.container.appendChild(Ca.trackIframe)}}function Yb(S,V){if(Ca.trackIframe){var oa=location.href.split("?").shift().split("://").pop();oa=oa.split("/").shift();oa=oa.split("www.").pop();S={action:S,domain:oa};V&&(S.sku=V);try{Ca.trackIframe.contentWindow.postMessage(S,
"*")}catch(Ea){}}}function ad(S,V){Sa.mode=ob.realtime;V&&V();vb.toggle_loading(!1);Yb("COUNT_TRY_ON_SESSION",S)}function bd(S){if(S.isAutoVTO)return Lb.autoVTOURL+"getByProductPage/"+encodeURIComponent(S.mod);var V=S.mod+".json";return S.isStandalone?lc+"models3DStandalone/"+V:V}function cd(S,V,oa,Ea){var La=bd(V);V.isAutoVTO?Ka(La,S).then(oa):V.isStandalone?Ta(La,S).then(oa):Va.load_model(La,V.mats,ad.bind(null,S,oa),S,Ea)}function $c(S,V,oa){Va.set_modelStandalone(V,ad.bind(null,S,oa),S)}function vc(S){(S=
dd[S])&&S()}function Lc(){wc&&wc.detach();wc=null}function xc(){Lc();wc=new zd(Ca.container,function(S){vb.resize(!1)})}function Zc(S,V){V=V||{scale:1};S?(Mb.set_tweaker({preScale:S.scale*V.scale,preOffset:[0,S.dy,S.dz],rx:S.rx,beginBendZ:S.templesBendingOffset,bendStrength:S.templesBendingStrength,maskBranchStartEnd:S.templesFading}),Ad(S),Bd(S.materials,S.templesTextureCopyMode||0)):(Mb.set_tweaker({preScale:V.scale}),ed())}function Cd(S,V){if(!S.materials)return[0,0,0,0];if(!S.lensesYGradientEnabled||
"lenses"!==V.id)return[V.alpha,V.alpha,0,0];var oa=-30*S.lensesYGradientHeight-40,Ea=50*S.lensesYGradientSmoothness;return[V.alpha*S.lensesYGradientAlphaMinFactor,V.alpha,oa-.5*Ea,oa+.5*Ea]}function Ad(S){S&&0!==S.materials.length?S.materials.forEach(function(V){var oa=Cd(S,V);V.matInds.forEach(function(Ea){Mb.update_material(Ea,{metalness:V.metalness,roughness:V.roughness,fresnelMin:V.fresnelRange[0],fresnelMax:V.fresnelRange[1],diffuseColor:V.color,isDisableColorTexture:V.isDisableColorTexture,
alpha:oa,alphaUsage:1},!1)})}):ed()}function Dd(S){return(S=S.find(function(V){return"temples"===V.id}))?S.matInds:[]}function Bd(S,V){if(V){var oa=Dd(S);2===oa.length&&(2===V&&oa.reverse(),Mb.get_materialsSpec().then(function(Ea){Mb.update_material(oa[0],{diffuseTexture:Ea[oa[1]].diffuseTexture},!0)}))}}function ed(){Mb.get_materialsSpec().then(function(S){S=S.length;for(var V=0;V<S;++V)Mb.update_material(V,{alphaUsage:1})})}function Ed(S){return S?"json"===S.split(".").pop().toLowerCase()?Promise.resolve(S):
ta(Lb.glassesDBURL+S).then(function(V){return V.intrinsic?bd(V.intrinsic):""}):Promise.resolve("")}var Mb=function(){function S(a,b){return a[0]*(1-b)+a[1]*b}function V(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.withCredentials=!1;d.onreadystatechange=function(){4!==d.readyState||200!==d.status&&0!==d.status||b(d.responseText)};d.send()}function oa(a,b){V(a+"",function(d){b(JSON.parse(d))})}function Ea(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?
-1:b-1;for(var d in a)a[d]=Ea(a[d],b);return a}function La(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function xb(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";
case "gelu":return"gl_FragColor=gl_FragColor;\n          vec4 zou=gl_FragColor;\n          vec4 polyZou=0.7978845608028654*(zou+0.044715*zou*zou*zou);\n          vec4 exZou=exp(-abs(polyZou));\n          vec4 exZou2=exZou*exZou;\n          vec4 tanhZou=sign(polyZou)*(vec4(1.)-exZou2)/(vec4(1.)+exZou2);\n          gl_FragColor=0.5*zou*(vec4(1.)+tanhZou);";default:return!1}}function Ma(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}function lb(a,b,d){var f=1,l=0;for(d=b+d-1;d>=b;--d)l+=f*Ma(a,d),f*=2;return l}
function Ab(a){a=a.data;a="undefined"===typeof btoa&&"undefined"!==typeof Buffer?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var b=a.length,d=new Uint8Array(b),f=0;f<b;++f)d[f]=a.charCodeAt(f);return d}function Gb(a){return"string"===typeof a?JSON.parse(a):a}function Qb(a){return"undefined"===typeof Gb(a).nb?Nb(a):ac(a)}function ac(a){var b=Gb(a);a=b.nb;if(0===a)return new Uint8Array(b.nb);var d=b.n;b=Ab(b);for(var f=new Uint32Array(d),l=0;l<d;++l)f[l]=lb(b,l*a,a);return f}function Nb(a){var b=
Gb(a);a=b.ne;var d=b.nf,f=b.n;b=Ab(b);for(var l=new Float32Array(f),q=new Float32Array(d),w=a+d+1,h=0;h<f;++h){var m=w*h,r=0===Ma(b,m)?1:-1,x=lb(b,m+1,a),H=b;m=m+1+a;for(var t=q.length,y=0,z=m;z<m+t;++z)q[y]=Ma(H,z),++y;for(m=H=0;m<d;++m)H+=q[m]*Math.pow(2,-m-1);l[h]=0===H&&0===x?0:r*(1+H)*Math.pow(2,1+x-Math.pow(2,a-1))}return l}function mc(a){var b=null,d=null,f=null,l=0,q=this,w=null,h={Nc:[],Zd:"none",eg:!1,Yd:null,grid:null};this.m=function(){this.Wk(w.Nc);f.Do({Zd:w.Zd,eg:w.eg,Yd:w.Yd})};this.cm=
function(m){return b[m]};this.te=function(m){["s32","s34","s27"].forEach(function(r){aa.j(r,[{type:"2f",name:"u20",value:m}])});b&&b.forEach(function(r){r.te(m)})};this.Wk=function(m){var r=null;l=m.length;var x=null!==w.grid&&a.grid.length&&!(1===a.grid[0]&&1===a.grid[1]),H=x?w.grid:[1,1];x&&this.te(H);b=m.map(function(t,y){t=Object.assign({},t,{index:y,parent:q,de:r,Mm:y===l-1,Ic:x,za:H});return r=0===y?Fd.instance(t):Gd.instance(t)});d=b[0];f=b[l-1];b.forEach(function(t,y){0!==y&&t.Bn()})};this.Aa=
function(m){m.h(0);var r=m;b.forEach(function(x){r=x.Aa(r,!1)});return r};this.ai=function(){return d.bm()};this.Fc=function(){return f.fm()};this.Xh=function(){return f.Xh()};this.A=function(){b&&(b.forEach(function(m){m.A()}),f=d=b=null,l=0)};"undefined"!==typeof a&&(w=Object.assign({},h,a),this.m())}function Ob(a,b){a[b]=!0;a.setAttribute(b,"true")}function nc(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}function yc(a,b){window.addEventListener("beforeunload",function(){b&&b.getTracks&&b.getTracks().forEach(function(d){b.removeTrack(d)});a.videoStream&&a.videoStream.stop();a.videoStream=null},!1)}function zc(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Ac(a){if(!a)return a;var b=null;if(a.video){var d=function(f){return f&&"object"===typeof f?Object.assign({},f):f};b={};"undefined"!==typeof a.video.width&&(b.width=
d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=d(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&oc(b,a.deviceId);return b}function oc(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function bc(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}function Bc(a){function b(t){return[480,576,640,648,
720,768,800,960,1080,1152,1280,1366,1920].sort(function(y,z){return Math.abs(y-t)-Math.abs(z-t)})}function d(t){var y=Ac(a);t=t(y);l.push(t);f(t)}function f(t){if(t.video&&t.video.facingMode&&t.video.facingMode.exact){var y=t.video.facingMode.exact;t=Ac(t);delete t.video.facingMode.exact;t.video.facingMode.ideal=y;l.push(t)}}var l=[];if(!a||!a.video)return l;f(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var q=b(a.video.width.ideal).slice(0,3),w=b(a.video.height.ideal).slice(0,
3),h={},m=0;for(h.Ib=void 0;m<q.length;h={Ib:h.Ib},++m){h.Ib=q[m];var r={},x=0;for(r.xb=void 0;x<w.length;r={xb:r.xb},++x)if(r.xb=w[x],h.Ib!==a.video.width.ideal||r.xb!==a.video.height.ideal){var H=Math.max(h.Ib,r.xb)/Math.min(h.Ib,r.xb);H<4/3-.1||H>16/9+.1||d(function(t,y){return function(z){z.video.width.ideal=t.Ib;z.video.height.ideal=y.xb;return z}}(h,r))}}}d(function(t){return bc(t)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(t){delete t.video.width.ideal;
delete t.video.height.ideal;return t}),d(function(t){delete t.video.width;delete t.video.height;return t}));a.video.facingMode&&(d(function(t){delete t.video.facingMode;return t}),a.video.width&&a.video.height&&d(function(t){bc(t);delete t.video.facingMode;return t}));l.push({audio:a.audio,video:!0});return l}function pc(a){a.volume=0;Ob(a,"muted");if(zc()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",
b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Ob(a,"muted")},5)}}function Hd(a){var b=Ga.element,d=Ga.wh;return null===b?Promise.resolve():new Promise(function(f,l){if(b.srcObject&&b.srcObject.getVideoTracks){var q=b.srcObject.getVideoTracks();1!==q.length?l("INVALID_TRACKNUMBER"):(q=q[0],a?fd(b,f,l,d):(q.stop(),f()))}else l("BAD_IMPLEMENTATION")})}function gd(a,b,d,f){function l(w){q||(q=!0,d(w))}var q=!1;navigator.mediaDevices.getUserMedia(f).then(function(w){function h(){setTimeout(function(){if(a.currentTime){var r=
a.videoHeight;if(0===a.videoWidth||0===r)l("VIDEO_NULLSIZE");else{r={dl:null,Fg:null,jn:null};try{var x=w.getVideoTracks()[0];x&&(r.jn=x,r.dl=x.getCapabilities(),r.Fg=x.getSettings())}catch(H){}q||(yc(a,w),b(a,w,r))}}else l("VIDEO_NOTSTARTED")},700)}function m(){a.removeEventListener("loadeddata",m,!1);var r=a.play();pc(a);"undefined"===typeof r?h():r.then(function(){h()}).catch(function(){l("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=w:(a.src=window.URL.createObjectURL(w),
a.videoStream=w);pc(a);a.addEventListener("loadeddata",m,!1)}).catch(function(w){l(w)})}function fd(a,b,d,f){a?navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(Ob(a,"autoplay"),Ob(a,"playsinline"),f&&f.audio?a.volume=0:Ob(a,"muted"),Id(f).then(function(){gd(a,b,function(){function l(w){if(0===w.length)d("NO_VALID_MEDIASTREAM_FALLBACK_CONSTRAINTS");else{var h=w.shift();gd(a,b,function(){l(w)},h)}}var q=Bc(f);l(q)},f)})):d&&d("MEDIASTREAMAPI_NOT_FOUND"):d&&d("VIDEO_NOT_PROVIDED")}function Id(a){if(!a||
!a.video||!a.video.facingMode)return Promise.resolve("NO_VIDEO_CONSTRAINTS");if(a.video.deviceId)return Promise.resolve("DEVICEID_ALREADY_SET");var b=a.video.facingMode;b=b.exact||b.ideal;if(!b)return Promise.resolve("NO_FACINGMODE");var d={user:[],environment:["camera2 0"]}[b];return d&&0!==d.length?new Promise(function(f){hd(function(l){l?(l=l.find(function(q){var w=q.label;return w?d.some(function(h){return w.includes(h)}):!1}))?(a.video.deviceId={exact:l.deviceId},f("SUCCESS")):f("NO_PREFERRED_DEVICE_FOUND"):
f("NO_DEVICES_FOUND")})}):Promise.resolve("NO_PREFERRED_CAMERAS")}function hd(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Jd(){function a(K){K=K?Cc.ff:1;N.width=K*I.width;N.height=K*I.height;
return N}function b(K){var R=K.length-1,Z=K[R];if("data:"===Z.substring(0,5))return Z;for(Z="";0<=R;--R){var pa=K[R],Oa="http"===pa.substring(0,4).toLowerCase();Z=pa+Z;if(Oa)break}return Z}function d(K,R,Z){return new Promise(function(pa){Ba.Jj(R);Fa.ba();qb.isEnabled=!0;Ya.isEnabled=!1;qb.pa||(qb.pa=qc.instance({}));K.ci()&&(qb.pa.wg(K.ci()),Ba.ra(qb.pa));K.set();Ya.isEnabled=!1;t();var Oa=mb.Zh(Z);setTimeout(function(){qb.isEnabled=!1;Ba.Jj(!1);pa(Oa)},1)})}function f(K,R){ua.Xc=.5;return new Promise(function(Z){Ya.bc=
K;Ya.isEnabled=!0;Ya.D=function(){var pa=id.instance(R());Ya.D=null;Z(pa)}})}function l(K,R){return new Promise(function(Z,pa){oa(R+K,function(Oa){Oa.error?pa("SKU_NOT_FOUND"):Z({kn:Oa.intrinsic.mod+".json",hn:Oa.intrinsic.mats})})})}function q(K,R){var Z=b([I.ea,I.wa,I.Vd+"/"]);R=R.map(function(pa){return Z+pa});W.model={url:b([I.ea,I.wa,I.Wd+"/"+K]),ac:R,jh:!1,ih:!1};return new Promise(function(pa){Ra.Hi(W.model,function(){da.isBusy=!1;pa()})})}function w(K,R){if(!R)return K;K=K.slice(0);var Z=
$a.sf().map(function(ib){return ib.toLowerCase()}),pa;for(pa in R){var Oa=R[pa],rb=-1;rb="number"===typeof pa?pa:Z.indexOf(pa.toLowerCase());-1!==rb&&(K[rb]=Oa)}return K}function h(K,R){return new Promise(function(Z,pa){da.set_model(K,function(){da.set_materials(R,function(){da.isBusy=!1;Z()})},function(){da.isBusy=!1;pa("CANNOT_LOAD_MODEL")})})}function m(K,R){K&&(R&&z(),K.preOffset&&(Tb=K.preOffset),K.preScale&&(cc=K.preScale),void 0!==K.rx&&(v=K.rx),void 0!==K.beginBendZ&&(P=K.beginBendZ),void 0!==
K.bendStrength&&(Ub=K.bendStrength),K.maskBranchStartEnd&&(Vb=K.maskBranchStartEnd),da.ready&&Ra.we())}function r(K){K.tweaker?m(K.tweaker,!0):(z(),da.ready&&Ra.we())}function x(){da.load_model=function(K,R,Z,pa,Oa,rb){if(da.isBusy)return!1;da.isBusy=!0;R=w(R,Oa);(W.model?h(K,R):q(K,R)).then(Z).catch(rb);return!0};da.set_offset=function(K){xa=K;Ra.ue()};da.set_scale=function(K){qa=K;Ra.ve()};da.set_rx=function(K){na=K;Ra.Yj()};da.switch_shadow=Ba.Kg;da.switch_bgBlur=Ba.Jg;da.set_zoom=Ba.vg;da.is_viewer3D=
function(){return Ha===va.Ka};da.switch_viewer3D=function(K,R){if(Ha===va.mc||Ha===va.nc||Ha===va.Y&&!K||Ha===va.Ka&&K||Ya.isEnabled)return!1;if(Ha===va.va)return wb!==va.Ka||K?wb===va.Y&&K?(wb=va.Ka,Ba.ra(ua.Hb),Ba.cb(1),R&&R(),!0):!1:(wb=va.Y,Ba.ra(ua.Ja),Ba.cb(0),R&&R(),!0);var Z=0,pa=-1,Oa=0;Ha===va.Y?(Ha=va.mc,pa=I.lp):Ha===va.Ka&&(Ha=va.nc,pa=I.op);var rb=Mc.mf();pb=setInterval(function(){var ib=Mc.mf();Z+=(ib-rb)/pa;1<=Z&&(Z=1,Ha===va.mc?(Ha=va.Ka,Ba.ra(ua.Hb)):(Ha=va.Y,Ba.ra(ua.Ja)),R&&R(),
clearInterval(pb),pb=null);var Rb=Ha===va.nc||Ha===va.Y?1-I.jp(Z):I.ip(Z);Ba.cb(Rb);Ha!==va.nc&&Ha!==va.mc||0!==Oa++%2||(Ba.ra(ua.Yf),ua.Yf.xo(Rb));rb=ib},.016);return!0};da.capture_image=function(K,R,Z,pa){Ya.bc=K;Ya.isEnabled=!0;"undefined"===typeof isAllocate&&(Z=!1);(pa="undefined"===typeof pa?!1:pa)&&Ba.me(!1);L();Ya.D=function(){Ba.ej(0);c.flush();var Oa=mb.Zh(Z);R(Oa);pa&&Ba.me(!0)}};da.capture_detection=function(K,R){var Z=null===T.Kb?T.kb:T.$c;f(K,function(){return{nd:ja.pc.clone(),Zf:$a.gi(),
Uf:$a.ei(),background:Z.clone(),pa:ya.La.hi().clone(),Tf:nb}}).then(R)};da.process_image=function(K){function R(){return new Promise(function(Bb,tb){Ya.Ug=ib.updateLightInterval;f(ib.nSteps,Z).then(function(jb){Ya.Ug=3;jb?1>=jb.hm().data[0]?(jb.I(),tb("FACE_NOT_FOUND")):d(jb,ib.isMask,!0).then(function(Kd){Ba.ra(ua.Ja);jb.I();Bb(Kd)}):tb("CRITICAL")});t()})}function Z(){return{nd:ja.pc.clone(),Zf:!1,Uf:!1,background:T.kb.clone(!0),pa:ya.La.hi().clone()}}function pa(){return new Promise(function(Bb,
tb){l(ib.modelSKU,ib.glassesDBURL).then(function(jb){da.load_model(jb.kn,jb.hn,function(){Bb()},ib.modelSKU,null,function(){tb("CANNOT_LOAD_MODEL")})}).catch(function(jb){tb(jb)})})}function Oa(){if(ib.image){var Bb=ib.image;rb(Bb);return Promise.resolve(Bb)}return new Promise(function(tb){var jb=new Image;jb.onload=function(){rb(jb);tb()};jb.src=ib.imageBase64})}function rb(Bb){var tb=Bb.width,jb=Bb.height;if(tb!==I.width||jb!==I.height)Ga.Md&&(Ga.element.width=tb,Ga.element.height=jb),M(tb,jb,ib.overSamplingFactor);
Ga.Lh.drawImage(Bb,0,0);L()}var ib=Object.assign({imageBase64:null,image:null,FOVHztDeg:0,nSteps:50,updateLightInterval:3,overSamplingFactor:2,modelSKU:"undef",glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",isMask:!0},K);if(I.Lc)throw Error("This feature cannot be called");var Rb=cb.FOVforced;ib.FOVHztDeg&&(cb.FOVforced=ib.FOVHztDeg);Ba.ra(ua.Ja);return new Promise(function(Bb,tb){return pa().then(Oa).then(function(){R().then(function(jb){cb.FOVforced=Rb;Bb(jb)}).catch(tb)}).catch(tb).catch(tb)})};
da.process_offlineRendering=function(K,R,Z,pa,Oa){Ra.Wn();pa&&(ha.fn.drawImage(mb.tb(),0,0),mb.tb().parentNode.insertBefore(ha.Ab,mb.tb()),ha.Ab.setAttribute("class","jeefitMask"));da.set_model(R,function(){da.set_materials(Z,function(){setTimeout(function(){d(K,pa).then(Oa);Ra.Tn(pa?function(){mb.tb().parentNode.removeChild(ha.Ab)}:!1)},1)})})};da.serialize_detection=function(K){return K.cc()};da.unserialize_detection=function(K,R,Z){return id.Zc(K,R,Z)};da.do_instantDetection=function(K,R){jd.m(ja.pc);
jd.start(K,R)};da.relieve_DOM=function(K,R){if(za.Wb)return!1;k(R||160);Pa.isEnabled=!1;ba&&clearTimeout(ba);ba=setTimeout(function(){k(I.Ca);ba=!1;F()},K);return!0};da.switch_slow=function(K,R){if(za.Wb)return!1;"undefined"===typeof R&&(R=I.rk);ba&&(k(I.Ca),F(),clearTimeout(ba),ba=!1);K?Pa.isEnabled=!1:F();k(K?R:I.Ca);return!0};da.switch_sleep=function(K,R){function Z(){da.isBusy=!1;K?(wb=Ha,Ha=va.va):(Ha=wb,t())}if(za.Wb||da.isBusy)return R?Promise.reject():null;if(K&&Ha===va.va||!K&&Ha!==va.va)return R?
Promise.resolve(!1):!1;pb&&(clearInterval(pb),pb=null);Ha===va.nc?(Ha=va.Y,Ba.ra(ua.Ja),Ba.cb(0)):Ha===va.mc&&(Ha=va.Ka,Ba.ra(ua.Hb),Ba.cb(1));Db.stop();var pa=null;da.isBusy=!0;R?pa=Hd(!K).then(Z):Z();return R?pa:!0};da.set_modelStandalone=function(K,R){Ba.oe(!1);Nc.instance({ld:r,url:K.model,ac:K.materials,Me:function(Z){y(Z);R&&R();Ra.Hg();Ba.oe(!0)}})};da.start_rendering=Ra.Hg;da.get_partsNames=function(){return $a?$a.sf():[]};da.update_material=function(K,R,Z){if(!$a)return Promise.reject("MODEL_NOT_LOADED");
var pa=-1;switch(typeof K){case "number":pa=K;break;case "string":pa=$a.sf().findIndex(function(Oa){return Oa.includes(K)});if(-1===pa)return Promise.reject("PART_NOT_FOUND");break;default:return Promise.reject("INVALID_PART_ID")}void 0===Z&&(Z=!0);$a.Xj(pa,R,Z);return Promise.resolve()};da.set_model=function(K,R,Z){$a&&(K=b([I.ea,I.wa,I.Wd+"/",K]),$a.replace(K,function(){R&&R($a.hl())},Z))};da.update_tweaker=function(K){m(K,!1)};da.set_tweaker=function(K,R){function Z(pa){m(pa,!0);R&&R()}"string"===
typeof K?V(I.ea+I.wa+I.Po+"/"+K,Z):Z(K)};da.get_tweaker=function(){return{preOffset:Tb,preScale:cc,rx:v,beginBendZ:P,bendStrength:Ub,maskBranchStartEnd:Vb}};da.get_materialsSpec=function(){return $a?$a.di():Promise.reject("NOT_READY")};da.set_materials=function(K,R){if($a){var Z=b([I.ea,I.wa,I.Vd+"/"]);K=K.map(function(pa){var Oa=pa;"string"===typeof pa&&(Oa=Z+pa,Oa=Oa.replace(/([^:])\/\//,"$1/"));return Oa});$a.xg(K,R)}};da.replace_material=function(K,R){if($a)return $a.di().then(function(Z){Z=Object.assign({isReplaced:!0},
Z[R]);$a.Xj(R,K,!0);return Z})}}function H(){ia.Xg(Cc.Ll);Ra.Yc();I.Zb&&(Fa.reset(),ya.La.oh(Ga.V),ya.La.nh());da.ready=!0;Dc.forEach(function(K){K()});Dc.splice(0)}function t(){Pb.reset();Db.stop();Fa.ba();g(0)}function y(K){$a&&(Ba.Nn($a),$a.remove());Ba.lk(K);$a=K}function z(){Tb=[0,0,0];cc=1;Ub=P=v=0;Vb=I.Oc}function k(K){O=K;Db.update({Ca:O})}function g(K){Pa.Bb=-1;if(Ya.isEnabled)Pa.Bb=Ya.bc;else if(qb.isEnabled)Pa.Bb=qb.bc;else if(Pa.isEnabled){if(!L())return;Pa.Bb=Ha===va.Y?Pb.X():1}else if(Pa.Bb=
I.bd[0],!L())return;Fa.ba();if(!qb.isEnabled)for(var R=0;R<Pa.Bb;++R)aa.set("s64"),T.Df.J(.25*N.width,la.ai()),T.kb.h(0),ja.Qc.h(1),X.l(!1,!1),la.Aa(T.Df),Ya.isEnabled&&0===(R+1)%Ya.Ug&&n();Ya.isEnabled?(Ya.D&&Ya.D(),Ya.isEnabled=!1,c.flush(),Ha!==va.va&&Db.qg(g)):(Ba.animate(K),T.mg&&Math.abs(Ia-ua.Fi)>ua.Mj&&I.Zb&&Ha===va.Y&&(Fa.ba(),n(),Fa.aa()),qb.isEnabled||(Pa.isEnabled&&(Pb.Qj(),R=Pb.Yh(1),Pa.lh=R,Pa.Ge=S(I.pk,R),I.Zb&&Ha===va.Y&&(ua.Mj=S(I.Gi,R),ua.Xc=S(I.$m,R),ua.Xc=Math.min(ua.Xc,.5))),
Ia=K,Ha!==va.va&&Db.qg(g)))}function F(){Ia=Mc.mf();Pa.isEnabled=!0}function L(){var K=15;if(!Ga.Md){if(!Ga.element.videoWidth)return Db.stop(),da.request_cameraVideoStream().then(t),!1;var R=Ga.element.currentTime;if(!R)return!0;K=R-Oc;0>K&&(Oc=R);if(1E3*K<I.cp)return!0}Ga.V.refresh();Oc+=K;Ga.ud=K;ab=!0;Fa.ba();aa.set("s0");ja.ng.J();ja.Qc.Tk(0);X.l(!0,!0);aa.set("s62");T.kb.J();Ga.V.h(0);X.l(!1,!1);null!==T.Kb&&(aa.set("s63"),T.$c.u(),T.kb.h(0),T.Kb.h(1),X.l(!1,!1));return!0}function D(){T.bk=
ca.instance({isPot:!0,isLinear:!0,isFloat:!1,url:I.ea+I.wa+I.ep});var K={isPot:!1,isLinear:!0,isFloat:!1,width:N.width,height:N.height};T.kb=ca.instance(K);T.$c=ca.instance(K);za.Nj.push(T.kb,T.$c);T.Df=Ld.instance({});I.Sd&&(Wb=ca.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(I.Sf||-1!==I.Rf.indexOf("//")?"":I.ea+I.wa)+I.Rf}))}function G(){function K(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var R={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,
0,0,0,0,0,0,0,0,0,0,0])};ja.Qc=Pc.instance(K());ja.ng=ca.instance(K());ja.pc=ca.instance(K());ja.ae=Pc.instance(K());ja.$e=ca.instance(R);R={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};ja.Yg=ca.instance(R);ja.ye=ca.instance(R);ua.be=ca.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function e(K){T.mg=K;if(ab){ab=!1;aa.set("s70");ja.Yg.J();ja.ye.h(2);var R=S(I.Vk,Pb.Yh(.5));aa.C("u68",R);ja.ng.h(1);aa.C("u69",1E3*Ga.ud);X.l(!1,
!1);aa.set("s71");ja.ye.u();ja.Yg.h(0);X.l(!1,!1)}K.h(0);ja.Qc.sj(1);c.viewport(0,0,1,1);aa.set("s65");aa.Dg("u47",kd.get(0));X.l(!1,!1);aa.set("s66");c.viewport(1,0,2,1);X.l(!1,!1);ja.$e.J();aa.set("s67");aa.O("u58",I.He[0]*Pa.Ge,I.He[1]);aa.C("u61",Pa.lh);ja.Qc.h(0);ja.ae.h(1);X.l(!1,!1);aa.set("s68");ja.ae.sj(1);ja.$e.h(0);ja.ye.h(2);ja.Qc.h(3);X.l(!1,!1);aa.set("s69");ja.ae.h(0);ja.pc.u();X.l(!1,!1)}function n(){ua.Fi=Ia;ua.be.J();aa.set(p.wi?"s73":"s72");T.mg.h(0);X.l(!1,!1);ya.La.ak(Ga.V,ua.be,
ua.Xc)}function A(){return new Promise(function(K){V(ld(),function(R){R=JSON.parse(R);if(R.exportData){var Z=R.exportData;p.Ra=Z.rotationEulerAnglesFactors?[-Z.rotationEulerAnglesFactors[0],-Z.rotationEulerAnglesFactors[1],Z.rotationEulerAnglesFactors[2]]:p.Ra;p.Cc=void 0===Z.deformScaleXFactor?p.Cc:Z.deformScaleXFactor;p.ta=Z.translationScalingFactors||p.ta;p.Kh=Z.dyOffset||0;p.Ih=Z.dsOffset||0;p.wi=Z.isLThetaSplitCosSin||!1;B()}la=new mc({Nc:R.layers,Zd:"gpuRawAvg",Yd:e});K()})})}function Q(K){a(K);
K=I.width;var R=I.height;Y.ob[0]=1;Y.ob[1]=K/R;kd.m({$d:I.scanOverlapFactors,Pi:I.scanNScaleLevels,da:K,Tb:R,kj:I.scanScale0Factor,ta:p.ta,rg:!0});dc=K>R?[K/R,1]:[1,R/K];za.Oa=!0}function B(){aa.j("s64",[{type:"1f",name:"u43",value:p.Cc},{type:"1f",name:"u45",value:p.Kh},{type:"1f",name:"u44",value:p.Ih}]);aa.j("s65",[{type:"3f",name:"u48",value:[p.ta[0]*Y.ob[0],p.ta[1]*Y.ob[1],p.ta[2]]}]);var K=[1/p.Ra[0],1/p.Ra[1],1/p.Ra[2]];aa.j("s66",[{type:"3f",name:"u53",value:K}]);aa.j("s70",[{type:"3f",name:"u53",
value:K}])}function E(){aa.j("s64",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u41",value:1},{type:"2f",name:"u42",value:Y.ob}]);aa.j("s65",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"1f",name:"u51",value:I.No},{type:"1f",name:"u52",value:I.ol},{type:"3f",name:"u49",value:[I.oc[0][0],I.oc[1][0],I.oc[2][0]]},{type:"3f",name:"u50",value:[I.oc[0][1],I.oc[1][1],I.oc[2][1]]}]);aa.j("s66",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"2f",name:"u55",
value:I.En},{type:"3f",name:"u54",value:I.Pj},{type:"1f",name:"u56",value:I.Ml}]);aa.j("s67",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u57",value:1},{type:"2f",name:"u58",value:I.He},{type:"1f",name:"u59",value:I.Un},{type:"1f",name:"u60",value:I.Dn}]);aa.j("s68",[{type:"1i",name:"u57",value:1},{type:"1i",name:"u62",value:0},{type:"1i",name:"u63",value:2},{type:"1i",name:"u64",value:3},{type:"2f",name:"u42",value:Y.ob},{type:"1f",name:"u66",value:la.ai()},{type:"2f",name:"u65",value:I.Qn}]);
aa.j("s69",[{type:"1i",name:"u41",value:0},{type:"1f",name:"u67",value:I.Xn}]);aa.j("s70",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"1i",name:"u63",value:2},{type:"3f",name:"u54",value:I.Pj}]);aa.j("s71",[{type:"1i",name:"u63",value:0},{type:"2f",name:"u70",value:I.Oo},{type:"2f",name:"u71",value:I.Vn}]);aa.j("s72",[{type:"1i",name:"u46",value:0}]);aa.j("s73",[{type:"1i",name:"u46",value:0}]);aa.j("s63",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u72",value:1}]);B()}
function M(K,R,Z){var pa=0===Z,Oa=a(pa);I.width=K;I.height=R;Q(pa);E();za.Nj.forEach(function(rb){rb.resize(K,R)});Z=pa?1:Z;ia.resize(Oa.width*Z,Oa.height*Z);Ra.Yc();gb.Eg(Ga.element.videoWidth||Ga.element.width,Ga.element.videoHeight||Ga.element.height);gb.Lg();gb.Kj()}function u(){Db.stop();za.hb&&(clearTimeout(za.hb),za.hb=null);if(!za.Wb){var K=za.width,R=za.height;if(I.width===K&&I.height===R)t();else if(Ha!==va.Y&&Ha!==va.Ka)za.hb=setTimeout(u,I.ij);else{var Z="undefined"===typeof Eb?!1:Eb.get_mode(),
pa=Ha;Ha=va.va;za.Wb=!0;Ya.isEnabled=!0;Ya.D=function(){Ya.isEnabled=!1;za.Wb=!1;F();k(I.Ca);ba&&clearTimeout(ba);ba=!1;Ha=pa};M(K,R,0);t();Ha===va.Ka&&(Ha=va.Y,da.switch_viewer3D(!0,!1));Z&&Eb.switch_mode(Z)}}}var v,P,Y={ob:[-1,-1]},U=null,fa=[.5,0,0,.5],N={width:-1,height:-1},sa={width:-1,height:-1,hb:null,Wb:!1,Oa:!1,Nj:[]},za=Object.assign({},sa),J=[0,I.ce[1],I.ce[2]],p={Ra:[-I.Ra[0],-I.Ra[1],I.Ra[2]],Cc:I.Cc,ta:I.ta,Kh:0,Ih:0,wi:!1},O=I.Ca,ba=null,la=null,ha={Jb:null,qc:null,Ab:null,wq:null};
a(!0);var xa=[0,0,0],qa=1,na=0,Da={kb:null,$c:null,Df:null,bk:null,mg:null,Kb:null},T=Object.assign({},Da),ja={ng:null,pc:null,ae:null,$e:null,Yg:null,ye:null},Ia=0,ab=!1,kb={Ja:null,Hb:null,Yf:null,Fi:0,Mj:I.Gi[1],Xc:.1,be:null},ua=Object.assign({},kb),Ua=!1,bb=!1,Pa={isEnabled:!0,Ge:1,Bb:-1,lh:1},va={va:-1,Y:0,Ka:1,mc:2,nc:3},Ha=va.Y,pb=null,wb=va.Y,Ya={isEnabled:!1,bc:1,Ug:3,D:null},qb={isEnabled:!1,pa:null,bc:0},Wb=null,dc=-1,rc=!1,Wa=!1,sc=!1,ea=[0,0,0],Aa=1,hb,Na,Hb,Tb=[0,0,0],cc=1,Ub=P=v=0,
Vb=I.Oc,Ec=[0,0,0],nb={scale:1,offsetX:0,offsetY:0},Oc=0,Ra={m:function(){aa.uc([{id:"s62",name:"_",v:"attribute vec2 a0;uniform mat2 u40;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5)+u40*a0;}",K:["a0"],S:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u40"],precision:"lowp"},{id:"s64",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",v:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42;uniform float u43,u44,u45;const vec2 h=vec2(.16,.5),i=vec2(.5,.5),j=vec2(.84,.5),q=vec2(.5,.5);varying vec2 vv0;void main(){vec4 b=texture2D(u41,h);vec2 c=b.gb,a=b.a*u42;vec4 l=texture2D(u41,i);float m=l.y;vec2 n=vec2(mix(1.,1./cos(m),u43),1.);a*=n,a*=1.+u44;vec2 o=a0*.5;float d=texture2D(u41,j).r,e=cos(d),f=sin(d);mat2 g=mat2(e,f,-f,e);vec2 p=g*o;c+=vec2(-.5,-.5)*a*(g*vec2(0.,u45)),vv0=c+p*a,gl_Position=vec4(a0,0.,1.);}",
K:["a0"],S:[2],i:"u1 u41 u42 u43 u44 u45".split(" "),precision:"lowp"},{id:"s65",name:"_",v:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46,u41;uniform vec3 u47,u48,u49,u50;uniform float u51,u52;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u46,vec2(.625,.625)),k=texture2D(u46,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u52;vec4 a=texture2D(u41,f);m?a.r=2.:a.r>u51?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u47);else{float n=dot(e,texture2D(u46,vec2(.875,.875))),o=dot(e,texture2D(u46,vec2(.125,.625))),p=dot(e,texture2D(u46,vec2(.375,.625))),b=texture2D(u41,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u41,g).a;vec3 s=mix(u49,u50,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u48*s*a.a;}gl_FragColor=a;}",
i:"u46 u41 u47 u51 u48 u52 u49 u50".split(" ")},{id:"s66",name:"_",g:"uniform sampler2D u46,u41;uniform vec3 u53,u54;uniform vec2 u55;uniform float u56;const vec4 v=vec4(1.),f=vec4(0.),e=vec4(.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u41,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u46,vec2(.125,.125)),e),a=smoothstep(u55.x,u55.y,m);vec4 n=texture2D(u41,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u46,vec2(.125,.875))),q=dot(e,texture2D(u46,vec2(.375,.875))),r=dot(e,texture2D(u46,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u54+s*u53;float c=texture2D(u41,i).r,d=b.z*u56;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:"u46 u41 u55 u53 u54 u56".split(" ")},{id:"s67",name:"_",g:"uniform sampler2D u41,u57;uniform vec2 u58;uniform float u59,u60,u61;const vec4 f=vec4(1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 j=vec4(max(.1,1.-u61),0.,0.,0.),k=texture2D(u41,vv0),l=texture2D(u57,vv0),q=texture2D(u41,g),m=texture2D(u57,g);float n=pow(m.a,u60),o=mix(u58.y,u58.x,n),b=step(.66,vv0.x),c=step(.34,vv0.x)*(1.-b);vec4 a=mix(h,i,c);a=mix(a,j,b);vec4 d=max(o*f,a);d*=mix(f,u59*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),c);vec4 p=k-l;gl_FragColor=p*d;}",
i:"u41 u57 u58 u59 u60 u61".split(" "),precision:"highp"},{id:"s68",name:"_",g:"uniform sampler2D u57,u62,u63,u64;uniform vec2 u42,u65;uniform float u66;const vec4 w=vec4(0.),x=vec4(1.);const vec2 j=vec2(.25,.5),k=vec2(.75,.5),g=vec2(.16,.5),l=vec2(.5,.5);varying vec2 vv0;bool f(float a){return (a<0.||0.<a||a==0.)&&a+1.!=a?false:true;}void main(){float y=step(vv0.x,.33),m=step(.33,vv0.x)*step(vv0.x,.66),z=step(.66,vv0.x);vec4 n=texture2D(u64,l);float b=n.a;b*=texture2D(u63,j).a,b*=texture2D(u63,k).a;vec4 o=texture2D(u57,vv0),p=texture2D(u62,vv0),c=o+p;c.a=mix(c.a,b,m);vec4 e=texture2D(u57,g),q=texture2D(u64,g);vec2 r=e.gb,s=q.gb;float t=e.a;vec2 h=u66*abs(r-s)/(u42*t);float u=max(h.x,h.y),v=smoothstep(u65.x,u65.y,u);vec4 i=texture2D(u64,vv0),a=mix(c,i,v);if(f(a.x)||f(a.y)||f(a.z)||f(a.w)){gl_FragColor=i;return;}gl_FragColor=a;}",
i:"u57 u62 u63 u64 u42 u66 u65".split(" "),precision:"highp"},{id:"s69",name:"_",g:"uniform sampler2D u41;uniform float u67;const vec4 g=vec4(1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u41,vv0);float b=step(vv0.x,.33),c=texture2D(u41,f).g;a.a+=b*a.a*u67*abs(sin(c)),gl_FragColor=a;}",i:["u41","u67"],precision:"highp"},{id:"s70",name:"_",g:"uniform sampler2D u41,u63,u46;uniform vec3 u53,u54;uniform float u68,u69;const vec4 e=vec4(.25);const vec3 g=vec3(1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u41,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u63,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u46,k)),o=dot(e,texture2D(u46,l)),p=dot(e,texture2D(u46,m));vec3 q=mix(i,u53,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u54+b-r,a)/u69;vec4 s=mix(vec4(b,0.),j,vec4(u68*g,0.));gl_FragColor=s;}",
i:"u41 u63 u46 u68 u69 u53 u54".split(" "),precision:"highp"},{id:"s71",name:"_",g:"uniform sampler2D u63;uniform vec2 u70,u71;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u70.x,u71.x,a),d=mix(u70.y,u71.y,a);vec3 b=texture2D(u63,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u63","u70","u71"],precision:"highp"},{id:"s72",name:"_",v:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25);const float f=3.1415;void main(){float a=dot(texture2D(u46,vec2(.375,.375)),e),b=dot(texture2D(u46,vec2(.625,.375)),e),c=f/2.*dot(texture2D(u46,vec2(.875,.375)),e),d=.75*f*dot(texture2D(u46,vec2(.125,.375)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u46"]},{id:"s73",name:"_",v:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25);const float f=3.1415,g=1e-7;void main(){float b=dot(texture2D(u46,vec2(.875,.375)),e),c=dot(texture2D(u46,vec2(.375,.125)),e),d=f/2.*dot(texture2D(u46,vec2(.625,.375)),e),a=dot(texture2D(u46,vec2(.125,.375)),e),h=dot(texture2D(u46,vec2(.375,.375)),e);a+=(step(0.,a)-.5)*g;float i=atan(h,a);gl_FragColor=vec4(i,b,c,d);}",i:["u46"]},{id:"s63",name:"_",g:"uniform sampler2D u1,u72;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u72);}",
i:["u1","u72"]}]);G();Db.m({vi:!1,Ca:O});Pb.m({bg:1,n:I.bd[1]-I.bd[0]+1,Lf:I.bd[0]});da.set_videoRotation=function(K){cb.rotate=K;da.ready&&(gb.Eg(Ga.element.videoWidth,Ga.element.videoHeight),gb.Lg())};da.set_viewRotation=function(){};da.set_LUT=function(K){return new Promise(function(R){K?ca.instance({url:K,isFloat:!1,isFlipY:!1,D:function(Z){T.Kb=Z;Ra.Yc();R()}}):(T.Kb=null,Ra.Yc(),R())})};da.resize=function(K,R,Z,pa){da.ready&&(za.hb&&(clearTimeout(za.hb),za.hb=null),Db.stop(),Z=Z?Cc.ff:1,za.width=
K*Z,za.height=R*Z,za.hb=setTimeout(u,pa?0:I.ij))};return A()},Nl:M,Ko:function(){D();Q(!0);E();Ra.Kj();x();Fc.forEach(function(K){K()});Fc.splice(0);W.model&&!da.isBusy?Ra.Hi(W.model):I.Lc||H();return Promise.resolve()},gm:function(){return N},A:function(){return new Promise(function(K,R){da.ready?(Db.A(),da.switch_sleep(!0,!0).finally(function(){la&&la.A();ia.A();mb.A();c&&(c=null);la=null;I.Sf=!1;$a=null;bb=Ua=!1;Pa.isEnabled=!0;Pa.Ge=1;Pa.Bb=-1;Ha=va.Y;pb=null;wb=va.Y;Object.assign(za,sa);Object.assign(Ga,
md);Object.assign(T,Da);Object.assign(ua,kb);da.ready=!1;da.isBusy=!1;da.load_model=null;K()}).catch(function(Z){R(Z)})):R("NOT_READY")})},Yc:function(){Ba.qj(ja.pc,null===T.Kb?T.kb:T.$c,ua.be,T.bk)},em:function(){return nb},yj:function(K){nb=K},ue:function(){Ec[0]=xa[0]-nb.offsetX;Ec[1]=xa[1]+nb.offsetY;Ec[2]=xa[2];Ba.co(J,Tb,Ec)},ve:function(){Ba.eo(qa*I.zn,cc,nb.scale)},Yj:function(){Ba.fo(na+v)},Uo:function(){Ba.ao(I.gd+P,I.Mb+Ub)},Wo:function(){Ba.bo(Vb)},we:function(){Ra.ue();Ra.ve();Ra.Yj();
Ra.Uo();Ra.Wo()},Wn:function(){Db.stop();pb&&(clearInterval(pb),pb=null);qb.isEnabled=!0;qb.bc=0;rc=Ba.dm();Wa=$a.gi();sc=$a.ei();Aa=cc;ea=Tb;hb=Vb;Na=P;Hb=Ub;Ya.isEnabled=!1;Ba.me(!1)},Tn:function(K){function R(){2===++Z&&(qb.isEnabled=!1,cc=Aa,Tb=ea,Vb=hb,P=Na,Ub=Hb,Ra.we(),Ba.ra(rc),t(),K&&K())}var Z=0;Ha===va.mc?Ha=va.Ka:Ha===va.nc&&(Ha=va.Y);Ba.cb(Ha===va.Y?0:1);$a.replace(Wa,R);$a.xg(sc,R);Ra.Yc();Ba.me(!0)},Kj:function(){var K=Math.tan(Ga.jf/2);Ba.pj({hf:I.hf/K,Yn:K,Cn:Ga.$i,Ha:I.Ha,$f:I.$f,
ag:I.ag,ek:Y.ob,jk:I.hp,Gc:I.Gc,zf:I.zf,xf:I.xf,yf:I.yf,Oc:Vb,Ie:I.Ie,Ve:I.Ve,pg:I.pg,jc:I.jc,Eo:I.Ej,Fo:I.Fj,le:I.le,kc:I.kc,od:I.od,Ye:I.Ye,Xe:I.Xe,We:I.We,Le:I.Le,Ke:I.ea+I.wa+I.Ke,gd:I.gd+P,Mb:I.Mb+Ub,vf:I.vf,dh:I.dh,bh:I.bh,Be:I.Be,np:I.mp,Ae:Ga.Ae,Sd:I.Sd,bn:Wb,Rd:I.Rd,Td:I.Td,Qf:I.Qf,an:dc,Mg:I.Mg})},el:function(){var K=cb.Ee,R=cb.De,Z=1/Math.tan(.5*Ga.jf),pa=mb.$()/mb.P();Ga.$i=[Z,0,0,0,0,Z/pa,0,0,0,0,-(R+K)/(R-K),-1,0,0,-2*K*R/(R-K),0];Ga.Ae=1/Math.tan(I.kp*Math.PI/360)/Z},Eg:function(K,
R){U=[.5,.5];K=R/K;R=mb.$()/mb.P();90===Math.abs(cb.rotate)&&(K=1/K);K>R?U[1]*=R/K:U[0]*=K/R;fa[0]=0;fa[1]=0;fa[2]=0;fa[3]=0;switch(cb.rotate){case 0:fa[0]=U[0];fa[3]=U[1];break;case 180:fa[0]=-U[0];fa[3]=-U[1];break;case 90:fa[1]=U[0];fa[2]=-U[1];break;case -90:fa[1]=-U[0],fa[2]=U[1]}I.yi||(fa[0]*=-1,fa[1]*=-1);R=U;var Z=nc(),pa=cb.FOVforced;Z=(pa?pa:Z?cb.FOVmobile:cb.FOVdesktop)*Math.PI/180;Z=2*Math.atan(Math.max(K,1/K)/(16/9)*Math.tan(.5*Z));Ga.jf=2*Math.atan(2*R[0]*Math.tan(.5*(1<K?2*Math.atan(1/
K*Math.tan(.5*Z)):Z)));Ra.el()},Lg:function(){aa.j("s62",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u40",value:fa}])},Cf:function(K,R){return bb?Promise.resolve():new Promise(function(Z,pa){Ra.ym(K,R);Promise.all([Ra.m(),Ra.zm()]).then(function(){Ra.oi();bb=!0;Z()}).catch(function(Oa){Sb&&Sb("GL_INCOMPATIBLE","Cannot init JEELIZVTO");pa(Oa)})})},ym:function(K,R){ha.Jb=document.createElement("canvas");ha.Ab=document.createElement("canvas");ha.Ab.width=I.width;ha.Ab.height=I.height;ha.fn=ha.Ab.getContext("2d");
da.replace_video=function(Z){Ga.element=Z;Ga.Sg.la=Ga.element;return!0};ha.qc=ha.Jb.getContext("2d");da.capture_background=function(Z,pa){Z="undefined"===typeof Z?K:Z;pa="undefined"===typeof pa?R:pa;ha.Jb.width=Z;ha.Jb.height=pa;var Oa=Z/pa,rb=0,ib=0;if(K/R>Oa){var Rb=R*Oa;Oa=R;rb=Math.round((K-Rb)/2)}else Rb=K,Oa=K/Oa,ib=Math.round((R-Oa)/2);ha.qc.save();ha.qc.translate(Z,0);ha.qc.scale(-1,1);ha.qc.drawImage(Ga.element,rb,ib,Rb,Oa,0,0,Z,pa);ha.qc.restore();Z=document.createElement("canvas");Z.width=
ha.Jb.width;Z.height=ha.Jb.height;Z.getContext("2d").drawImage(ha.Jb,0,0);return Z}},oi:function(){window.CanvasListeners&&(Eb.init({sa:mb.tb()}),da.init_listeners=Ra.oi,da.add_listener=Eb.add_listener,da.remove_listener=Eb.remove_listener,da.animate_swipe=Eb.animate_swipe,da.switch_modeInteractor=Eb.switch_mode,da.get_modeInteractor=Eb.get_mode,Eb.add_listener("move",function(K,R){Ha===va.Y&&(I.cn&&(nb.offsetX-=R[0]*I.Ji,nb.offsetX=Math.min(Math.max(nb.offsetX,-I.Ud),I.Ud)),nb.offsetY-=R[1]*I.Ji,
nb.offsetY=Math.min(Math.max(nb.offsetY,-I.Ud),I.Ud),Ra.ue())},!0).add_listener("pinch",function(K,R){Ha===va.Y&&(nb.scale+=R*I.dn,nb.scale=Math.min(Math.max(nb.scale,I.Ki[0]),I.Ki[1]),Ra.ve())},!0))},zm:function(){return new Promise(function(K,R){ia.m({Id:!1,cl:!1,expand:!1,sa:mb.tb(),Rb:mb,onload:function(){ua.Hb=qc.instance({Lb:I.ea+I.wa+db.fp,wc:I.ea+I.wa+db.gp,vc:db.ck,xc:db.dk});I.Zb?(ua.Ja=qc.instance({}),ya.La.ra(ua.Ja)):ua.Ja=ua.Hb;Ba.ra(ua.Ja);ua.Yf=I.Zb?Md.instance({Zm:ua.Ja,Xm:ua.Hb}):
ua.Hb;K()}})||R("CANNOT_INIT_JE3D")})},Hg:function(){Ua||(Ua=!0,Ra.we(),H(),Ia=0,I.Lc&&t())},Hi:function(K,R){K=Nc.instance({Me:function(){Ra.Hg();R&&R()},ld:r,url:K.url,ac:K.ac});y(K)},Lj:function(){if(I.Zb){var K=Object.assign({},db,{Db:b([I.ea,I.wa,db.Db])});ya.La.ib(K)}}};return Ra}function Nd(a){var b=document.createElement("link");b.setAttribute("href",a);"json"===a.split(".").pop().toLowerCase()?(b.setAttribute("rel","preload"),b.setAttribute("as","fetch"),b.setAttribute("type","application/json"),
b.setAttribute("crossorigin","")):b.setAttribute("rel","prefetch");document.head.appendChild(b)}function ld(a){if(!a){a=I.ea;var b=I.ad.split("://").shift();if("http"===b||"https"===b)a=""}a+=I.ad;"json"!==a.split(".").pop()&&(a+=I.neuralNetworkPath);return a}function nd(){return new Promise(function(a,b){Qc&&Qc();Ga.Md=!1;var d={width:{min:cb.minWidth,max:cb.maxWidth,ideal:cb.idealWidth},height:{min:cb.minHeight,max:cb.maxHeight,ideal:cb.idealHeight},facingMode:{ideal:"user"}},f={video:d,audio:!1};
Ga.wh=f;d&&-1!==Ga.deviceId&&oc(f,Ga.deviceId);fd(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):!1,function(l){Rc&&Rc(l);od(l).then(a).catch(b)},function(l){Sb&&Sb("WEBCAM_UNAVAILABLE",l);b(l)},f)})}function od(a){Ga.element=a;a=Ga.element.videoWidth||Ga.element.width;var b=Ga.element.videoHeight||Ga.element.height;Ga.Sg={la:Ga.element,isPot:!1,isFloat:!1,isFlipY:!0};Ga.V=ca.instance(Ga.Sg);gb.Eg(a,b);return gb.Cf(a,b).then(function(){gb.Lg();return gb.Ko()}).catch(function(d){return Promise.reject(d)})}
function Od(){var a=document.createElement("canvas");a.width=I.width;a.height=I.height;Ga.Lh=a.getContext("2d");Ga.Md=!0;return od(a)}function ec(a){return 3===arguments.length?this.rb(arguments):this.set(a)}function pd(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.Z=(b>>8&255)/255;a.b=(b&255)/255}function Pd(a,b){function d(h){void 0!==h&&1>parseFloat(h)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var f;if(f=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var l=f[2];switch(f[1]){case "rgb":case "rgba":if(f=
/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(255,parseInt(f[1],10))/255;a.Z=Math.min(255,parseInt(f[2],10))/255;a.b=Math.min(255,parseInt(f[3],10))/255;d(f[5]);return}if(f=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(100,parseInt(f[1],10))/100;a.Z=Math.min(100,parseInt(f[2],10))/100;a.b=Math.min(100,parseInt(f[3],10))/100;d(f[5]);return}break;case "hsl":case "hsla":if(f=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){l=
parseFloat(f[1])/360;var q=parseInt(f[2],10)/100,w=parseInt(f[3],10)/100;d(f[5]);a.$n(l,q,w);return}}}else if(f=/^#([A-Fa-f0-9]+)$/.exec(b)){f=f[1];l=f.length;if(3===l){a.r=parseInt(f.charAt(0)+f.charAt(0),16)/255;a.Z=parseInt(f.charAt(1)+f.charAt(1),16)/255;a.b=parseInt(f.charAt(2)+f.charAt(2),16)/255;return}if(6===l){a.r=parseInt(f.charAt(0)+f.charAt(1),16)/255;a.Z=parseInt(f.charAt(2)+f.charAt(3),16)/255;a.b=parseInt(f.charAt(4)+f.charAt(5),16)/255;return}}b&&0<b.length&&(f=Qd[b],void 0!==f?pd(a,
f):console.warn("JETHREE.Color: Unknown color "+b))}function Gc(a,b,d,f){this.F=a||0;this.G=b||0;this.H=d||0;this.T=void 0!==f?f:1}function qd(a,b,d){var f=b.F,l=b.G,q=b.H;b=b.T;var w=d.F,h=d.G,m=d.H;d=d.T;a.F=f*d+b*w+l*m-q*h;a.G=l*d+b*h+q*w-f*m;a.H=q*d+b*m+f*h-l*w;a.T=b*d-f*w-l*h-q*m;return a}function fc(a,b){this.x=a||0;this.y=b||0}function Xa(a,b,d){this.x=a||0;this.y=b||0;this.z=d||0}function rd(a,b){var d=a.x,f=a.y,l=a.z;a.x=f*b.z-l*b.y;a.y=l*b.x-d*b.z;a.z=d*b.y-f*b.x}function gc(a,b,d,f){this.F=
a||0;this.G=b||0;this.H=d||0;this.Ta=f||gc.fk}function Sc(a,b){this.min=void 0!==a?a:new Xa(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Xa(-Infinity,-Infinity,-Infinity)}function Hc(a){return(new Xa).dd(a.min,a.max).Fa(.5)}function Rd(a,b){a.min.min(b);a.max.max(b)}function hc(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function sd(a,b,d){var f=b.elements,
l=d.elements;d=a.elements;b=f[0];var q=f[4],w=f[8],h=f[12],m=f[1],r=f[5],x=f[9],H=f[13],t=f[2],y=f[6],z=f[10],k=f[14],g=f[3],F=f[7],L=f[11];f=f[15];var D=l[0],G=l[4],e=l[8],n=l[12],A=l[1],Q=l[5],B=l[9],E=l[13],M=l[2],u=l[6],v=l[10],P=l[14],Y=l[3],U=l[7],fa=l[11];l=l[15];d[0]=b*D+q*A+w*M+h*Y;d[4]=b*G+q*Q+w*u+h*U;d[8]=b*e+q*B+w*v+h*fa;d[12]=b*n+q*E+w*P+h*l;d[1]=m*D+r*A+x*M+H*Y;d[5]=m*G+r*Q+x*u+H*U;d[9]=m*e+r*B+x*v+H*fa;d[13]=m*n+r*E+x*P+H*l;d[2]=t*D+y*A+z*M+k*Y;d[6]=t*G+y*Q+z*u+k*U;d[10]=t*e+y*B+z*
v+k*fa;d[14]=t*n+y*E+z*P+k*l;d[3]=g*D+F*A+L*M+f*Y;d[7]=g*G+F*Q+L*u+f*U;d[11]=g*e+F*B+L*v+f*fa;d[15]=g*n+F*E+L*P+f*l;return a}function Tc(a,b,d,f,l,q){this.a=a;this.b=b;this.c=d;this.Ga=f instanceof Xa?f:new Xa;this.ze=Array.isArray(f)?f:[];this.color=l instanceof ec?l:new ec;this.$g=Array.isArray(l)?l:[];this.$b=void 0!==q?q:0}function Sd(a,b,d){var f=new XMLHttpRequest;f.open("GET",a,!0);var l=f.withCredentials=!1;f.onreadystatechange=function(){404!==f.status||l||(l=!0,d&&d(404));if(4===f.readyState&&
200===f.status){var q=null;try{q=JSON.parse(f.responseText)}catch(w){d&&d(-1)}b&&q&&b(q)}};f.onerror=function(){d&&d(0)};f.send()}function Uc(a,b,d){"object"===typeof a?b(a):Sd(a,b,d)}function Td(a){return new Promise(function(b,d){Uc(a,b,d)})}function Ud(a,b){for(var d=new Xa,f=new Xa,l=0,q=b.length;l<q;l++){var w=b[l],h=a[w.a],m=a[w.b],r=a[w.c];h&&m&&r&&(d.gb(r,m),f.gb(h,m),rd(d,f),0!==d.Kf()&&(d.normalize(),w.Ga.N(d)))}}function Vd(a,b){for(var d=Array(a.length),f=0,l=a.length;f<l;++f)d[f]=new Xa;
f=new Xa;l=new Xa;for(var q=0,w=b.length;q<w;++q){var h=b[q],m=a[h.a],r=a[h.b],x=a[h.c];m&&r&&x&&(f.gb(x,r),l.gb(m,r),rd(f,l),d[h.a].add(f),d[h.b].add(f),d[h.c].add(f))}f=0;for(a=a.length;f<a;++f)d[f].normalize();a=0;for(f=b.length;a<f;++a)h=b[a],l=h.ze,q=d[h.a],w=d[h.b],h=d[h.c],q&&w&&h&&(3===l.length?(l[0].N(q),l[1].N(w),l[2].N(h)):(l[0]=q.clone(),l[1]=w.clone(),l[2]=h.clone()));return d}function Wd(a,b,d,f){function l(n){G.N(b[n]);e.N(G);var A=h[n];L.N(A);L.sub(G.Fa(G.qd(A))).normalize();var Q=
e.x,B=e.y,E=e.z,M=A.x,u=A.y;A=A.z;D.x=B*A-E*u;D.y=E*M-Q*A;D.z=Q*u-B*M;Q=0>D.qd(m[n])?-1:1;w[4*n]=L.x;w[4*n+1]=L.y;w[4*n+2]=L.z;w[4*n+3]=Q}for(var q=a.length,w=new Float32Array(4*q),h=Array(q),m=Array(q),r=0;r<q;r++)h[r]=new Xa,m[r]=new Xa;var x=new Xa,H=new Xa,t=new Xa,y=new fc,z=new fc,k=new fc,g=new Xa,F=new Xa;f.forEach(function(n){var A=n.a,Q=n.b;n=n.c;x.N(a[A]);H.N(a[Q]);t.N(a[n]);y.N(d[A]);z.N(d[Q]);k.N(d[n]);var B=H.x-x.x,E=t.x-x.x,M=H.y-x.y,u=t.y-x.y,v=H.z-x.z,P=t.z-x.z,Y=z.x-y.x,U=k.x-y.x,
fa=z.y-y.y,N=k.y-y.y,sa=1/(Y*N-U*fa);g.set((N*B-fa*E)*sa,(N*M-fa*u)*sa,(N*v-fa*P)*sa);F.set((Y*E-U*B)*sa,(Y*u-U*M)*sa,(Y*P-U*v)*sa);h[A].add(g);h[Q].add(g);h[n].add(g);m[A].add(F);m[Q].add(F);m[n].add(F)});var L=new Xa,D=new Xa,G=new Xa,e=new Xa;f.forEach(function(n){l(n.a);l(n.b);l(n.c)});return w}function td(a,b,d,f){return Math.sqrt((a-d)*(a-d)+(b-f)*(b-f))}var W={zh:!0,Lp:!1,Mp:!1,nl:!1,yh:!1,Kp:!1,Qa:!1,Id:!1,yq:!1,ea:"",Mi:"",Lk:700,Kk:200,Ah:!1,Yo:!1,Zo:!1,Xo:!1,sk:3,Ob:!1,kh:!0,Lb:"images/backgrounds/interior2.jpg",
wc:"images/backgrounds/interior_light.jpg",Nk:[256,256,512,512],vc:2.1,xc:8,Mk:[64,128,256,256],Fm:[60,96,160,250],Em:[8,12,18,40],Rc:2.2,jg:1,Ne:300,ph:500,Oe:50,Xk:0,Yk:0,Ap:45,Cp:1,Bp:1E3,qh:20,pp:10,rp:10,sp:5,yn:.1,Ui:20,Xi:100,Yi:100,xn:-Math.PI/3,wn:Math.PI/3,Wi:0,Oj:0,ud:[40,32,16,16],qk:[0,.87,.92,.9],tn:2,nn:100,ga_:!1,tk:16,uk:.4,wk:[.72,.73,.72,.74],Gk:1.2,Dk:[.5,.5,.5,1],Ik:140,Hk:280,Jk:1.2,xk:20,yk:40,Fk:[6,9,9,12],Ck:[.03,.02,.02,.018],Bk:[.35,.35,.4,.5],zk:[.2,.2,.2,.2],vk:[.1,.15,
.15,.15],Ek:[200,200,150,120],Ak:[1,2,3,5],Go:1.1,Rq:[.25,.5,1,2],Sq:256,Qq:256,Pq:200,Ho:[40,80,200,500],Io:[35,45,80,120],il:!0,jl:"CCW"},ud={},aa=function(){function a(u,v,P){v=u.createShader(v);u.shaderSource(v,P);u.compileShader(v);return u.getShaderParameter(v,u.COMPILE_STATUS)?v:null}function b(u,v,P){v=a(u,u.VERTEX_SHADER,v);P=a(u,u.FRAGMENT_SHADER,P);u===c&&h.push(v,P);var Y=u.createProgram();u.attachShader(Y,v);u.attachShader(Y,P);u.linkProgram(Y);return Y}function d(u){return["float","sampler2D",
"int"].map(function(v){return"precision "+u+" "+v+";\n"}).join("")}function f(u,v){v.R=v.R?!0:!1;if(!v.R){v.v=v.v||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}";v.K=v.K||["a0"];v.S=v.S||[2];v.precision=v.precision||t;v.id=x++;void 0!==v.lj&&(v.lj.forEach(function(U,fa){v.g=v.g.replace(U,v.Ia[fa])}),v.lj.splice(0));v.ah=0;v.S.forEach(function(U){v.ah+=4*U});var P=d(v.precision);v.qa=b(u,P+v.v,P+v.g);v.B={};v.i.forEach(function(U){v.B[U]=
u.getUniformLocation(v.qa,U)});v.attributes={};v.xa=[];v.K.forEach(function(U){var fa=u.getAttribLocation(v.qa,U);v.attributes[U]=fa;v.xa.push(fa)});if(v.o){u.useProgram(v.qa);r=v;m=v.id;for(var Y in v.o)u.uniform1i(v.B[Y],v.o[Y])}v.Oa=!0}}function l(u){Cb.Cj(M);m!==u.id&&(M.M(),m=u.id,r=u,c.useProgram(u.qa),u.xa.forEach(function(v){0!==v&&c.enableVertexAttribArray(v)}))}function q(u,v,P){f(u,v,P);u.useProgram(v.qa);u.enableVertexAttribArray(v.attributes.a0);m=-1;return r=v}function w(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1"],o:{u1:0}}}var h=[],m=-1,r=null,x=0,H=!1,t="highp",y=["u1"],z=["u0"],k={u1:0},g={u0:0},F={u1:0,u2:1},L={u1:0,u3:1},D=["u1","u3","u4"],G={u5:0},e=["u6","u7","u8","u9"],n={u6:0,u7:1},A={s0:w(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:y,o:k,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],o:F},s3:{g:"uniform sampler2D u1;uniform vec2 u10,u11;varying vec2 vv0;void main(){vec2 a=vv0*u10+u11;gl_FragColor=texture2D(u1,a);}",
i:["u1","u10","u11"],o:k,R:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:y,o:k},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],o:F},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:y,o:k},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",
i:y,o:k},s8:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u10;}",i:["u0","u10"],o:g},s9:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;const vec4 f=vec4(.25),g=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u10,f);gl_FragColor=b*g;}",i:["u0","u10"],o:g},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:y,o:k},
s11:{g:"uniform sampler2D u1,u12;uniform float u13;const vec4 f=vec4(1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u12,vv0);gl_FragColor=mix(b,a,u13*f);}",i:["u1","u12","u13"],o:{u1:0,u12:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u14)+texture2D(u1,vv0+u14*vec2(1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,1.)));}",i:["u1","u14"],o:k},s13:{g:"uniform sampler2D u1;varying vec2 vv0;vec4 f(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),g=exp2(c);vec3 h=clamp(b/g,0.,1.);return vec4(h,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=f(a);}",
i:y,o:k,R:!0},s14:{g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",i:y,o:k,R:!0},s15:{g:"uniform sampler2D u1;uniform vec4 u15;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u15);gl_FragColor=j(a);}",
i:["u1","u15"],o:k},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:z,o:g,R:!0},s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:z,o:g,R:!0},s18:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);const float g=.797885,h=.044715;vec4 i(vec4 a){vec4 b=exp(-abs(a)),c=b*b,d=sign(a)*(e-c)/(e+c);return d;}void main(){vec4 a=texture2D(u0,vv0),b=a+h*a*a*a,c=i(g*b);gl_FragColor=.5*a*(e+c);}",
i:z,o:g,R:!0},s19:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:z,o:g,R:!0},s20:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(a)-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:z,o:g},s21:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:z,o:g},s22:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",
i:z,o:g,R:!0},s23:{g:"uniform sampler2D u0,u16;uniform float u17;const vec2 e=vec2(.5);const float f=1e-5;const vec4 g=vec4(1.),i=vec4(0.);varying vec2 vv0;void main(){vec4 a=texture2D(u16,e);float b=u17*u17;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u16","u17"],o:{u0:0,u16:1},R:!0},s24:{g:"uniform sampler2D u1;uniform vec2 u18;varying vec2 vv0;void main(){float a=u18.x*u18.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u18.y),f=floor(u18.x*fract(b*u18.y)),g=(f*u18.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u18"],o:k},s25:{g:"uniform sampler2D u7,u6,u19;varying vec2 vv0;void main(){vec4 a=texture2D(u19,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u7,b),f=texture2D(u6,c);gl_FragColor=d*f;}",i:["u7","u6","u19"],o:Object.assign({u19:2},n),R:!0},s26:{g:"uniform float u8,u9;uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec2 b=fract(vv0*u8);float a=u8*u9;vec2 c=(vec2(.5)+floor(a*vv0))/a;vec4 d=texture2D(u7,c),f=texture2D(u6,b);gl_FragColor=d*f;}",i:e,o:n},s27:{g:"uniform float u8,u9;uniform vec2 u20;uniform sampler2D u7,u6;varying vec2 vv0;void main(){float a=u8*u9;vec2 b=mod(vv0*u20,vec2(1.)),c=floor(vv0*u20)/u20,d=c+fract(b*u8)/u20,f=(vec2(.5)+floor(a*b))/a;vec4 g=texture2D(u7,f),h=texture2D(u6,d);gl_FragColor=g*h;}",
i:["u20"].concat(e),o:n,R:!0},s28:{g:"uniform float u8,u9;uniform sampler2D u7,u6,u22,u23,u24,u25;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u8),d=vv0;float h=u8*u9;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u7,d),m=texture2D(u6,c),a=texture2D(u25,d);a=floor(.5+a*255.);vec4 n=texture2D(u22,c),o=texture2D(u23,c),p=texture2D(u24,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:["u25","u22","u23","u24"].concat(e),o:Object.assign({u25:3,u22:4,u23:5,u24:6},n),R:!0},s29:{g:"uniform sampler2D u7,u6,u3;uniform float u8,u26,u27,u9;uniform vec2 u28;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u26*vv0),d=u26*vv0-c;float g=u8/u26;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u26;float m=u26*u9/u8;vec2 b=m*h,n=floor(.5*(u9-1.)*(f-u28));b=floor(u28*b+n);vec2 a=(b+i*u27)/u9;a+=.25/u9;vec2 k=step(a,f)*step(l,a);vec4 o=texture2D(u7,j),p=texture2D(u6,a),q=o*p,r=texture2D(u3,j);gl_FragColor=(q*u27*u27+r)*k.x*k.y;}",
i:["u26","u27","u3","u28"].concat(e),o:Object.assign({u3:2},n)},s30:{g:"uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec4 a=texture2D(u7,vv0),b=texture2D(u6,vv0);gl_FragColor=a*b;}",i:["u7","u6"],o:n,R:!0},s31:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:D,o:L},s32:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);}",
i:["u20"].concat(D),o:L,R:!0},s33:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",i:D,o:L,R:!0},s34:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:["u20"].concat(D),o:L,R:!0},s35:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:D,o:L,R:!0},s36:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:y,o:k,precision:"lowp"},s37:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u29"],o:k,precision:"lowp"},s38:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u29"],o:k,precision:"lowp"},s39:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u30))*2.,b-=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,b+=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u30))*2.,b+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u30"],o:F,R:!0},s40:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u30,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u30"],o:F,R:!0},s41:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u14*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*h),d=texture2D(u5,a+u14*i),j=texture2D(u5,a+u14),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u14"],o:G},s42:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*k),d=texture2D(u5,a+u14*l),g=texture2D(u5,a+u14),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u14*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u14*m),d=f(a+u14*2.),g=f(a+u14*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u14"],
o:G,R:!0},s43:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],o:k,precision:"lowp",R:!0},s44:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u14)+2002./e*texture2D(u1,vv0-2.*u14)+3003./e*texture2D(u1,vv0-u14)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u14)+2002./e*texture2D(u1,vv0+2.*u14)+1001./e*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u14","u1"],
o:k,precision:"lowp",R:!0},s45:{g:"uniform sampler2D u1,u16,u31;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u16,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u16","u31"],o:{u1:0,u16:1,u31:2},R:!0}},Q={s46:{g:"uniform float u8,u32;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.),ONE2=vec2(1.),HALF2=vec2(.5),EPS2=vec2(1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u8,xyTo=floor(vv0*u8+eps2);float weightSize=toSparsity*u8;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u8,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u8","u7","u6","u3","u32"],Ia:["1.1111","gl_FragColor\\*=2.2222;"]},s47:{g:"uniform float u8,u32,u9;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.),ONE2=vec2(1.),HALF2=vec2(.5),EPS2=vec2(1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u9,xyTo=floor(vv0*u8+eps2);float weightSize=fromSparsity*u9;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u8;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u9,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u8 u9 u7 u6 u3 u32".split(" "),Ia:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},B=null,E=null,M={zb:function(){return H},m:function(){if(!H){B=Ea(A,2);E=Ea(Q,2);t="highp";c.getShaderPrecisionFormat&&(c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT),c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.LOW_FLOAT));for(var u in B)f(c,B[u],u);aa.set("s0");c.enableVertexAttribArray(0);H=!0}},uc:function(u){u.forEach(function(v){M.oa(v)})},oa:function(u){B[u.id]=u;f(c,u,u.id)},Cm:function(u,
v,P){v||(v=u);B[v]=Object.create(E[u]);B[v].Lm=!0;E[u].Ia&&E[u].Ia.forEach(function(Y,U){var fa="";"gl_Frag"===Y.substring(0,7)?(Y=new RegExp("[,;]?"+Y,"g"),fa=";"):Y=new RegExp(Y,"g");B[v].g=B[v].g.replace(Y,fa+P[U])});f(c,B[v],v)},set:function(u){var v=B[u];v.R&&(v.R=!1,f(c,v,u));l(v)},Eb:function(u){return q(u,w(),"s48")},he:function(u){return q(u,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:t},"s49")},Kl:function(u){return"undefined"===typeof B[u]?!1:B[u].Oa},M:function(){-1!==
m&&(m=-1,r.xa.forEach(function(u){0!==u&&c.disableVertexAttribArray(u)}))},je:function(){var u=0;r.xa.forEach(function(v,P){P=r.S[P];c.vertexAttribPointer(v,P,c.FLOAT,!1,r.ah,u);u+=4*P})},Il:function(){c.enableVertexAttribArray(0)},fc:function(){M.hc(c)},hc:function(u){u.vertexAttribPointer(r.xa[0],2,u.FLOAT,!1,8,0)},ie:function(u,v){c.uniform1i(r.B[u],v)},C:function(u,v){c.uniform1f(r.B[u],v)},O:function(u,v,P){c.uniform2f(r.B[u],v,P)},Bg:function(u,v){c.uniform2fv(r.B[u],v)},Dg:function(u,v){c.uniform3fv(r.B[u],
v)},Cg:function(u,v,P,Y){c.uniform3f(r.B[u],v,P,Y)},zo:function(u,v,P,Y,U){c.uniform4f(r.B[u],v,P,Y,U)},Ba:function(u,v){c.uniform4fv(r.B[u],v)},Ao:function(u,v){c.uniformMatrix2fv(r.B[u],!1,v)},Bo:function(u,v){c.uniformMatrix3fv(r.B[u],!1,v)},Vc:function(u,v){c.uniformMatrix4fv(r.B[u],!1,v)},j:function(u,v){M.set(u);v.forEach(function(P){switch(P.type){case "4f":c.uniform4fv(r.B[P.name],P.value);break;case "3f":c.uniform3fv(r.B[P.name],P.value);break;case "2f":c.uniform2fv(r.B[P.name],P.value);
break;case "1f":c.uniform1f(r.B[P.name],P.value);break;case "1i":c.uniform1i(r.B[P.name],P.value);break;case "mat2":c.uniformMatrix2fv(r.B[P.name],!1,P.value);break;case "mat3":c.uniformMatrix3fv(r.B[P.name],!1,P.value);break;case "mat4":c.uniformMatrix4fv(r.B[P.name],!1,P.value)}})},$p:function(){return"lowp"},A:function(){M.M();c.disableVertexAttribArray(0);for(var u in B){var v=B[u];v.Oa&&(v.Oa=!1,c.deleteProgram(v.qa));v.Lm&&delete B[u]}h.forEach(function(P){c.deleteShader(P)});h.splice(0);x=
0;H=!1;r=null;m=-1}};return M}(),c=null,mb=function(){function a(y){console.log("ERROR in ContextFF: ",y);return!1}function b(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(y,z,k){y.setAttribute("width",z);y.setAttribute("height",k)}function f(y){if(b())return!1;var z=document.createElement("canvas");d(z,5,5);var k=null;try{k=z.getContext("webgl2",y)}catch(g){return!1}if(!k)return!1;l(k);Ja.Mh(k);y=Ja.Ze(k);if(!y.Xa&&!y.Za)return Ib.A(),Ja.reset(),!1;k=Ib.rh(k,
y);Ib.A();Ja.reset();return k?!0:!1}function l(y){y.clearColor(0,0,0,0);y.disable(y.DEPTH_TEST);y.disable(y.BLEND);y.disable(y.DITHER);y.disable(y.STENCIL_TEST);y.disable(y.CULL_FACE);y.GENERATE_MIPMAP_HINT&&y.FASTEST&&y.hint(y.GENERATE_MIPMAP_HINT,y.FASTEST);y.disable(y.SAMPLE_ALPHA_TO_COVERAGE);y.disable(y.SAMPLE_COVERAGE);y.depthFunc(y.LEQUAL);y.clearDepth(1)}var q=null,w=null,h=null,m=!0,r=null,x=null,H=[],t={P:function(){return q.width},$:function(){return q.height},tb:function(){return q},Ql:function(){return c},
na:function(){return m},flush:function(){c.flush()},iq:function(){Fa.reset();Fa.ba();t.Rn()},Rn:function(){ca.reset();X.reset();aa.M();aa.Il();c.disable(c.DEPTH_TEST);c.disable(c.BLEND);X.kd();aa.fc()},Vl:function(){r||(r=new Uint8Array(q.width*q.height*4));c.readPixels(0,0,q.width,q.height,c.RGBA,c.UNSIGNED_BYTE,r);return r},Wp:function(){return q.toDataURL("image/jpeg")},Xp:function(){Fa.aa();w||(w=document.createElement("canvas"),h=w.getContext("2d"));d(w,q.width,q.height);for(var y=t.Vl(),z=h.createImageData(w.width,
w.height),k=w.width,g=w.height,F=z.data,L=0;L<g;++L)for(var D=g-L-1,G=0;G<k;++G){var e=4*(L*k+G),n=4*(D*k+G);F[e]=y[n];F[e+1]=y[n+1];F[e+2]=y[n+2];F[e+3]=y[n+3]}h.putImageData(z,0,0);return w.toDataURL("image/png")},Zh:function(y){!w&&y&&(w=document.createElement("canvas"),h=w.getContext("2d"));var z=y?w:document.createElement("canvas");d(z,q.width,q.height);(y?h:z.getContext("2d")).drawImage(q,0,0);return z},m:function(y){y=Object.assign({Ya:null,dg:null,sa:null,Ue:null,width:512,height:512,premultipliedAlpha:!1,
Im:!0,antialias:!1,debug:!1,Jp:!1},y);y.Ya?(c=y.Ya,q=y.Ya.canvas):y.Ue&&!y.sa?q=document.getElementById(y.Ue):y.sa&&(q=y.sa);q||(q=document.createElement("canvas"));q.width=y.width;q.height=y.height;if(c)m=c instanceof WebGL2RenderingContext;else{m=!0;var z={antialias:y.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:y.premultipliedAlpha,stencil:!1,depth:y.Im,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&
(z.antialias=!1);var k=f(z);k||!z.antialias||b()||(z.antialias=!1,k=f(z));k&&(c=q.getContext("webgl2",z));c?m=!0:((c=q.getContext("webgl",z))||(c=q.getContext("experimental-webgl",z)),m=!1)}if(!c)return a("WebGL1 and 2 are not enabled");y.dg&&q.addEventListener&&(x=y.dg,q.addEventListener("webglcontextlost",x,!1));if(!Ja.m())return a("Not enough GL capabilities");l(c);aa.m();X.m();Ib.rh(c,Ja.Sl());H.forEach(function(g){g(c)});H.splice(0);return!0},zp:function(){return new Promise(function(y){c?y(c):
H.push(y)})},A:function(){c&&(Ja.A(),aa.A(),Ib.A());x&&(q.removeEventListener("webglcontextlost",x,!1),x=null);c=r=h=w=q=null;H.splice(0)}};return t}(),Cb=function(){function a(){null===b&&("undefined"!==typeof aa?b=aa:"undefined"!==typeof C&&(b=C))}var b=null;return{reset:function(){b=null},Cj:function(d){b!==d&&(b&&b.M(),b=d)},zb:function(){return b.zb()},fc:function(){return b.fc()},hc:function(d){return b.hc(d)},je:function(){return b.je()},M:function(){return b.M()},set:function(d){a();return b.set(d)},
Eb:function(d){a();return b.Eb(d)},he:function(d){a();return b.he(d)}}}(),ca=function(){function a(E){c.bindTexture(c.TEXTURE_2D,E)}function b(E){var M=new Uint16Array(E.length);E.forEach(function(u,v){n[0]=u;var P=A[0];var Y=P>>16&32768;u=P>>12&2047;var U=P>>23&255;P=103>U?Y:142<U?Y|31744|((255==U?0:1)&&P&8388607):113>U?(u|=2048,Y|(u>>114-U)+(u>>113-U&1)):(Y|U-112<<10|u>>1)+(u&1);M[v]=P});return M}function d(){if(null!==Q.Af)return Q.Af;var E=f(b([.5,.5,.5,.5]),!0);return null===E?!0:Q.Af=E}function f(E,
M){if(!Cb.zb()||!y)return null;var u=null,v=Math.sqrt(E.length/4);try{var P=c.getError();if("FUCKING_BIG_ERROR"===P)return!1;u=B.instance({isFloat:!1,U:M,array:E,width:v});P=c.getError();if(P!==c.NO_ERROR)return!1}catch(Y){return!1}Fa.aa();c.viewport(0,0,v,v);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);Cb.set("s0");u.ya(0);X.l(!0,!0);E=4*v*v;M=new Uint8Array(E);c.readPixels(0,0,v,v,c.RGBA,c.UNSIGNED_BYTE,M);v=!0;for(P=0;P<E;++P)v=v&&3>Math.abs(M[P]-127);u.remove();Fa.ba();return v}var l=0,q=
null,w=0,h=null,m=null,r=null,x=null,H=null,t=null,y=!1,z=[],k={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,xi:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,la:null,ji:null,Km:!1,U:!1,D:null,L:4,Vf:0},g=!1,F=null,L=null,D=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],G=!1,e=!1,n=new Float32Array(1),A=new Int32Array(n.buffer),Q={Af:null,Bf:null},B={m:function(){y||(H=[c.RGBA,null,c.RGBA,c.RGBA],t=[c.RGBA,null,
c.RGBA,c.RGBA],q=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],G="undefined"!==typeof ia,e="undefined"!==typeof Ja,h=[-1,-1,-1,-1,-1,-1,-1,-1],x=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],y=!0)},po:function(){c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR)},so:function(){c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST)},
Am:function(){if(!m){for(var E=new Float32Array(16384),M=0;16384>M;++M)E[M]=2*Math.random()-1;m={random:B.instance({isFloat:!0,isPot:!0,array:E,width:64}),Sj:B.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}B.Vo()},xj:function(E){c.framebufferTexture2D(Fa.qf(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,E,0)},ii:function(){return m.Sj},Vo:function(){x[1]=Ja.pf(c)},uo:function(){t=H=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},fj:function(E){aa.set("s1");Fa.aa();var M=E.P(),u=E.$();c.viewport(0,0,
M,u);E.h(0);X.l(!1,!1)},Aq:function(E,M){B.fj(E);c.readPixels(0,0,E.P(),E.$(),c.RGBA,c.UNSIGNED_BYTE,M)},Bq:function(E,M){B.fj(E);return Ja.og(0,0,E.P(),E.$(),M)},Th:function(E,M,u,v,P,Y,U){E.activeTexture(E.TEXTURE0);var fa=E.createTexture();E.bindTexture(E.TEXTURE_2D,fa);P=P instanceof Float32Array?P:new Float32Array(P);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST);
E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST);E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,Y);E.texImage2D(E.TEXTURE_2D,0,E.RGBA,u,v,0,E.RGBA,E.FLOAT,P);E.bindTexture(E.TEXTURE_2D,null);E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,!1);U&&(Fa.ba(),aa.Eb(E));E.viewport(0,0,u,v);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,M,0);E.bindTexture(E.TEXTURE_2D,fa);U?X.l(!0,!0):X.Qb(E);E.deleteTexture(fa);y&&(h[0]=-1,r=null,l=0)},Fe:function(E){E!==l&&(c.activeTexture(q[E]),l=E)},instance:function(E){function M(){qa=
void 0!==N.la.videoWidth?N.la.videoWidth:N.la.width;na=void 0!==N.la.videoHeight?N.la.videoHeight:N.la.height}function u(ea){var Aa=c.getError();if("FUCKING_BIG_ERROR"===Aa)return!1;c.texImage2D(c.TEXTURE_2D,0,Ua,bb,Pa,ea);Aa=c.getError();Aa!==c.NO_ERROR&&bb!==c.RGBA&&(bb=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,Ua,bb,Pa,ea));return!0}function v(){if(!T){a(la);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,va);N.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,N.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,N.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));N.isAnisotropicFiltering&&"undefined"!==typeof W&&c.texParameterf(c.TEXTURE_2D,ia.Wl().TEXTURE_MAX_ANISOTROPY_EXT,W.sk);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,N.isLinear?c.LINEAR:c.NEAREST);var ea=N.isMipmap&&!pb;c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,N.xi?c.LINEAR_MIPMAP_LINEAR:N.isLinear?ea?
c.NEAREST_MIPMAP_LINEAR:c.LINEAR:ea?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);bb=H[N.L-1];Ua=t[N.L-1];Pa=x[za];Ja.na()&&(ea=Ja.Yl(),bb===c.RGBA&&Pa===c.FLOAT?N.isMipmap||N.isLinear?Ua=Ib.$l(c):Ja.ja()?ea&&(Ua=ea):Ua=c.RGBA16F||c.RGBA:bb===c.RGB&&Pa===c.FLOAT&&ea&&(Ua=ea,bb=c.RGBA));if(N.U&&!N.isFloat||N.isFloat&&N.isMipmap&&Ib.Tm())Ua=Ja.Zl(),Pa=Ja.pf(c);N.Vf&&(Ya=N.Vf);N.isSrgb&&4===N.L&&(bb=ia.sm());if(N.la)u(N.la);else if(N.url)u(ha);else if(xa){ea=xa;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,
0,Ua,qa,na,0,bb,Pa,ea),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,bb,Pa,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,qa,na,0,c.RGBA,c.UNSIGNED_BYTE,null)))}catch(Tb){c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,bb,Pa,null)}N.isKeepArray||(xa=null)}else ea=c.getError(),"FUCKING_BIG_ERROR"!==ea&&(c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,bb,Pa,null),ea=c.getError(),ea!==c.NO_ERROR&&(bb=c.RGBA,N.U&&Pa!==c.FLOAT&&(Pa=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,
bb,Pa,null))));if(N.isMipmap)if(!pb&&Wa)Wa.Ec(),Wb=!0;else if(pb){ea=Math.log2(Math.min(qa,na));wb=Array(1+ea);wb[0]=la;for(var Aa=1;Aa<=ea;++Aa){var hb=Math.pow(2,Aa),Na=qa/hb;hb=na/hb;var Hb=c.createTexture();a(Hb);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,Ua,Na,hb,0,bb,Pa,null);a(null);wb[Aa]=Hb}Wb=!0}a(null);h[l]=-1;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);Da=!0;N.D&&Wa&&(N.D(Wa),N.D=
null)}}function P(){for(var ea=qa*na,Aa=2*ea,hb=3*ea,Na=0;Na<ea;++Na)Ia[0][Na]=ua[Na],Ia[1][Na]=ua[Na+ea],Ia[2][Na]=ua[Na+Aa],Ia[3][Na]=ua[Na+hb]}function Y(){var ea=qa*na*4;ab=[new Uint8Array(ea),new Uint8Array(ea),new Uint8Array(ea),new Uint8Array(ea)];Ia=[new Float32Array(ab[0].buffer),new Float32Array(ab[1].buffer),new Float32Array(ab[2].buffer),new Float32Array(ab[3].buffer)];kb=new Uint8Array(4*ea);ua=new Float32Array(kb.buffer);ja=!0}function U(){fa=new Uint8Array(qa*na*4);rc=new Float32Array(fa.buffer);
dc=!0}var fa,N=Object.assign({},k,E),sa=w++;null===N.isFlipY&&(N.isFlipY=N.url?!0:!1);N.data&&(N.array="string"===typeof N.data?Qb(N.data):N.isFloat?new Float32Array(N.data):new Uint8Array(N.data),N.isFlipY=!1);var za=0,J=N.la?!0:!1,p=null,O=null,ba=!1;N.U=N.U||N.isFloat;N.U&&(za=1);!N.Km&&N.isFloat&&e&&!Ja.ja()&&(N.isFloat=!1);N.isFloat&&(za=2);N.isAnisotropicFiltering&&G&&!ia.Rm()&&(N.isAnisotropicFiltering=!1);var la=N.ji||c.createTexture(),ha=null,xa=!1,qa=0,na=0,Da=!1,T=!1,ja=!1,Ia=null,ab=null,
kb=null,ua=null,Ua=null,bb=null,Pa=null,va=N.isFlipY,Ha=(E=N.U&&N.isMipmap)&&Ib.$k(),pb=E&&!Ha?!0:!1,wb=null,Ya=-1,qb=-1,Wb=!1,dc=!1,rc=fa=null;N.width&&(qa=N.width,na=N.height?N.height:qa);var Wa={get:function(){return la},P:function(){return qa},$:function(){return na},tm:function(){return N.url},Sm:function(){return N.isFloat},oq:function(){return N.U},Nq:function(ea){la=ea},qq:function(){return N.isLinear},Ec:function(){c.generateMipmap(c.TEXTURE_2D)},Sk:function(ea,Aa){pb?(ea||(ea=Wa.fi()),B.Fe(Aa),
a(wb[ea]),h[Aa]=-1):Wa.h(Aa)},fi:function(){-1===Ya&&(Ya=Math.log2(qa));return Ya},zj:function(ea){c.TEXTURE_MAX_LEVEL&&c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAX_LEVEL,ea)},Pl:function(ea){ea||(ea=Wa.fi());if(pb){aa.set("s12");B.Fe(0);for(var Aa=qa,hb=na,Na=1;Na<=ea;++Na)Aa/=2,hb/=2,aa.O("u14",.25/Aa,.25/hb),c.viewport(0,0,Aa,hb),a(wb[Na-1]),c.framebufferTexture2D(Fa.qf(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,wb[Na],0),X.l(!1,1===Na);h[0]=-1}else ea!==qb&&(qb=ea,Wa.zj(ea)),Wa.Ec()},Oq:function(ea){(J=
!(Array.isArray(ea)||ea.constructor===Float32Array||ea.constructor===Uint8Array))?(xa=null,N.la=ea,M()):xa=ea},h:function(ea){if(!Da)return!1;B.Fe(ea);if(h[ea]===sa)return!1;a(la);h[ea]=sa;return!0},ya:function(ea){c.activeTexture(q[ea]);l=ea;a(la);h[ea]=sa},u:function(){r=Wa;B.xj(la)},J:function(){c.viewport(0,0,qa,na);r=Wa;B.xj(la)},se:B.se,mo:function(ea,Aa){qa=ea;na=Aa},resize:function(ea,Aa){Wa.mo(ea,Aa);v()},clone:function(ea){ea=B.instance({width:qa,height:na,U:N.U,isFloat:N.isFloat,isLinear:N.isLinear,
isMirrorY:N.isMirrorY,isFlipY:ea?!va:va,isPot:N.isPot});Cb.set("s0");Fa.ba();ea.J();Wa.h(0);X.l(!0,!0);return ea},Wc:function(){c.viewport(0,0,qa,na)},remove:function(){c.deleteTexture(la);T=!0;z.splice(z.indexOf(Wa),1);Wa=null},refresh:function(){Wa.ya(0);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);J?c.texImage2D(c.TEXTURE_2D,0,Ua,bb,Pa,N.la):c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,bb,Pa,xa);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},dj:function(){ja||Y();c.readPixels(0,0,qa,4*na,c.RGBA,c.UNSIGNED_BYTE,
kb);P();return Ia},Hn:function(){ja||Y();return Ja.og(0,0,qa,4*na,kb).then(function(){P();return Ia})},Jn:function(){dc||U();c.readPixels(0,0,qa,na,c.RGBA,c.UNSIGNED_BYTE,fa);return rc},In:function(){dc||U();return Ja.og(0,0,qa,na,fa)},Fh:function(ea){Fa.aa();aa.set("s15");Wa.h(0);if(ea)c.viewport(0,0,qa,na),aa.zo("u15",.25,.25,.25,.25),X.l(!1,!0);else for(ea=0;4>ea;++ea)c.viewport(0,na*ea,qa,na),aa.Ba("u15",D[ea]),X.l(!1,0===ea)},Wg:function(ea){var Aa;if(Aa=Pa===x[0])null!==Q.Bf?Aa=Q.Bf:(Aa=f(new Uint8Array([127,
127,127,127]),!1),Aa=null===Aa?!0:Q.Bf=Aa),Aa=!Aa;a(la);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);Aa?(ba||(p=document.createElement("canvas"),p.width=qa,p.height=na,O=p.getContext("2d"),O.createImageData(qa,na),ba=!0),null.data.set(ea),O.putImageData(null,0,0),c.texImage2D(c.TEXTURE_2D,0,Ua,bb,Pa,p)):c.texImage2D(c.TEXTURE_2D,0,Ua,qa,na,0,bb,Pa,ea);h[l]=sa;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},br:function(ea,Aa){a(la);Aa&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,
0,Ua,bb,Pa,ea);h[l]=sa;Aa&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},cc:function(ea,Aa){var hb=qa*na,Na=4*hb;ea=N.U?ea?"RGBE":"JSON":"RGBA";Aa&&(ea=Aa);Aa=Ja.na()&&!1;var Hb=null;switch(ea){case "RGBE":Hb="s13";break;case "JSON":Hb=Aa?"s0":"s15";break;case "RGBA":case "RGBAARRAY":Hb="s7"}ja||("RGBA"===ea||"RGBE"===ea||"RGBAARRAY"===ea?(ab=new Uint8Array(Na),ja=!0):"JSON"!==ea||Aa||Y());Fa.aa();aa.set(Hb);Wa.h(0);Na=null;if("RGBA"===ea||"RGBE"===ea||"RGBAARRAY"===ea){c.viewport(0,0,qa,na);X.l(!0,!0);
c.readPixels(0,0,qa,na,c.RGBA,c.UNSIGNED_BYTE,ab);if("RGBAARRAY"===ea)return{data:ab};g||(F=document.createElement("canvas"),L=F.getContext("2d"),g=!0);F.width=qa;F.height=na;hb=L.createImageData(qa,na);hb.data.set(ab);L.putImageData(hb,0,0);Na=F.toDataURL("image/png")}else if("JSON"===ea)if(Aa)Na=new Float32Array(hb),c.viewport(0,0,qa,na),X.l(!0,!0),c.readPixels(0,0,qa,na,c.RGBA,c.FLOAT,Na);else{for(Na=0;4>Na;++Na)c.viewport(0,na*Na,qa,na),aa.Ba("u15",D[Na]),X.l(!Na,!Na);Wa.dj();Na=Array(hb);for(Aa=
0;Aa<hb;++Aa)Na[4*Aa]=Ia[0][Aa],Na[4*Aa+1]=Ia[1][Aa],Na[4*Aa+2]=Ia[2][Aa],Na[4*Aa+3]=Ia[3][Aa]}return{format:ea,data:Na,width:qa,height:na,isMirrorY:N.isMirrorY,isFlipY:"RGBA"===ea?N.isFlipY:!N.isFlipY}}};N.isMipmap&&!pb&&Da&&!Wb&&(Wa.Ec(),Wb=!0);if(N.url)a(la),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),ha=new Image,ha.crossOrigin="anonymous",ha.src=N.url,ha.onload=function(){qa=ha.width;na=ha.height;v()};else if(N.la){var sc=function(){M();qa?v():setTimeout(sc,1)};sc()}else N.array?
(N.U&&!N.isFloat?N.array instanceof Uint16Array?(xa=N.array,v()):d()?(xa=b(N.array),v()):(v(),B.Th(c,la,Wa.P(),Wa.$(),N.array,va,!0)):(xa=N.isFloat?N.array instanceof Float32Array?N.array:new Float32Array(N.array):N.array instanceof Uint8Array?N.array:new Uint8Array(N.array),v()),N.isKeepArray||(xa&&xa!==N.array&&(xa=null),delete N.array)):N.ji?Da=!0:v();Wa.eq=Wa.P;N.D&&Da&&(N.D(Wa),N.D=null);z.push(Wa);return Wa},aa:function(E){E!==l&&(c.activeTexture(q[E]),l=E);h[E]=-1;a(null)},Uk:function(E){m.random.h(E)},
se:function(){r=null;c.framebufferTexture2D(Fa.qf(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==l&&c.activeTexture(q[0]);for(var E=0;E<q.length;++E)h[E]=-1;l=-1},Eq:function(){l=-1},Uj:function(){for(var E=0;E<q.length;++E)B.aa(E)},I:function(){m&&(m.random.remove(),m.Sj.remove())},Zc:function(E,M){if("RGBA"===E.format||"RGBE"===E.format){var u=new Image;u.src=E.data;u.onload=function(){B.instance({isMirrorY:E.isMirrorY,isFlipY:E.isFlipY,isFloat:!1,la:u,D:function(v){if("RGBA"===
E.format)M(v);else{var P=E.width,Y=E.height,U=B.instance({isMirrorY:E.isMirrorY,isFloat:!0,width:P,height:Y,isFlipY:E.isFlipY});Fa.ba();c.viewport(0,0,P,Y);aa.set("s14");U.u();v.h(0);X.l(!0,!0);B.aa(0);M(U);Ja.flush();v.remove()}}})}}else"JSON"===E.format?M(B.instance({isFloat:!0,isFlipY:E.isFlipY,width:E.width,height:E.height,array:new Float32Array(E.data)})):M(!1)},fl:b,A:function(){r&&(Fa.ba(),B.se(),Fa.aa());B.Uj();z.slice(0).forEach(function(E){E.remove()});z.splice(0);y=!1;w=0;"undefined"!==
typeof Ib&&Ib.A();m=null}};return B}(),Pc={instance:function(a){var b=[ca.instance(a),ca.instance(a)],d=[b[1],b[0]],f=d,l={sj:function(q){f[1].u();f[0].h(q);l.Gj()},tj:function(q){f[1].J();f[0].h(q);l.Gj()},Gj:function(){f=f===b?d:b},refresh:function(){f[0].refresh();f[1].refresh()},h:function(q){f[0].h(q)},ya:function(q){f[0].ya(q)},Tk:function(q){f[1].h(q)},bi:function(){return f[0]},bq:function(){return f[1]},Wg:function(q){f[0].Wg(q);f[1].Wg(q)},remove:function(){f[0].remove();f[1].remove();f=
null},sync:function(){l.tj(0);aa.set("s0");X.l(!1,!1)}};return l}},X=function(){function a(m){var r={ka:null,indices:null};r.ka=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,r.ka);m.bufferData(m.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),m.STATIC_DRAW);r.indices=m.createBuffer();m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,r.indices);m.bufferData(m.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),m.STATIC_DRAW);return r}var b=null,d=0,f=!1,l=[],q=-2,w=-2,h={reset:function(){w=q=-2},m:function(){f||(b=a(c),
h.kd(),f=!0)},instance:function(m){var r=d++,x=m.indices?m.indices.length:0,H="undefined"===typeof m.mode?c.STATIC_DRAW:m.mode,t=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,t);c.bufferData(c.ARRAY_BUFFER,m.ka instanceof Float32Array?m.ka:new Float32Array(m.ka),H);q=r;var y=null,z=null,k=null;if(m.indices){y=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y);var g=null;65536>m.indices.length?(g=Uint16Array,z=c.UNSIGNED_SHORT,k=2):(g=Uint32Array,z=c.UNSIGNED_INT,k=4);g=m.indices instanceof g?
m.indices:new g(m.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,g,H);w=r}var F={yc:function(L){q!==r&&(c.bindBuffer(c.ARRAY_BUFFER,t),q=r);L&&Cb.je()},Qk:function(){w!==r&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y),w=r)},bind:function(L){F.yc(L);F.Qk()},W:function(){c.drawElements(c.TRIANGLES,x,z,0)},Na:function(L,D){c.drawElements(c.TRIANGLES,L,z,D*k)},remove:function(){c.deleteBuffer(t);m.indices&&c.deleteBuffer(y);F=null}};l.push(F);return F},kd:function(){-1!==q&&(c.bindBuffer(c.ARRAY_BUFFER,b.ka),
q=-1);-1!==w&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.indices),w=-1)},l:function(m,r){m&&X.kd();r&&Cb.fc();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Qb:function(m){m=m||c;var r=a(m);m.bindBuffer(m.ARRAY_BUFFER,r.ka);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,r.indices);Cb.hc(m);m.clear(m.COLOR_BUFFER_BIT);m.drawElements(m.TRIANGLES,3,m.UNSIGNED_SHORT,0);m.flush();m.bindBuffer(m.ARRAY_BUFFER,null);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null);m.deleteBuffer(r.ka);m.deleteBuffer(r.indices);h.reset();f&&
(h.kd(),Cb.fc())},I:function(){var m=c,r=b;m.deleteBuffer(r.ka);m.deleteBuffer(r.indices)},A:function(){h.I();l.forEach(function(m){m.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);h.reset();f=!1;l.splice(0);d=0}};return h}(),Fa=function(){var a=null,b=null,d=null,f=!1,l=[],q={ma:-2,Sh:1},w={zb:function(){return f},m:function(){if(!f){a=c.createFramebuffer();var h=Ja.na();b=h&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;d=h&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:
c.FRAMEBUFFER;f=!0}},Xl:function(){return b},$h:function(){return d},qf:function(){return c.FRAMEBUFFER},cq:function(){return q},Tp:function(){return a},instance:function(h){void 0===h.Hc&&(h.Hc=!1);var m=h.V?h.V:null,r=h.width,x=void 0!==h.height?h.height:h.width,H=a,t=null,y=!1,z=!1,k=0;m&&(r=r?r:m.P(),x=x?x:m.$());var g={mj:function(){y||(H=c.createFramebuffer(),y=!0,k=q.Sh++)},ed:function(){g.mj();g.u();t=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,t);c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_COMPONENT16,r,x);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,t);c.clearDepth(1)},bind:function(F,L){k!==q.ma&&(c.bindFramebuffer(b,H),q.ma=k);m&&m.u();L&&c.viewport(0,0,r,x);F&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},mh:function(){k!==q.ma&&(c.bindFramebuffer(b,H),q.ma=k)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Qe:function(){c.clear(c.COLOR_BUFFER_BIT)},th:function(){c.clear(c.DEPTH_BUFFER_BIT)},Wc:function(){c.viewport(0,0,r,x)},u:function(){k!==
q.ma&&(c.bindFramebuffer(b,H),q.ma=k)},rtt:function(F){m=F;q.ma!==k&&(c.bindFramebuffer(c.FRAMEBUFFER,H),q.ma=k);F.u()},aa:function(){c.bindFramebuffer(b,null);q.ma=-1},resize:function(F,L){r=F;x=L;t&&(c.bindRenderbuffer(c.RENDERBUFFER,t),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,r,x))},remove:function(){H===a||z||(c.bindFramebuffer(b,H),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),t&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,
null),q.ma=-1,c.deleteFramebuffer(H),t&&c.deleteRenderbuffer(t));z=!0}};h.Hc&&g.ed();l.push(g);return g},aa:function(){c.bindFramebuffer(b,null);q.ma=-1},$q:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);Ja.Dj();q.ma=-1},reset:function(){q.ma=-2},ba:function(){0!==q.ma&&(c.bindFramebuffer(b,a),q.ma=0)},clear:function(){Ja.Dj();c.clear(c.COLOR_BUFFER_BIT)},A:function(){w.aa();l.forEach(function(h){h.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);w.reset();
f=!1;l.splice(0);q.Sh=1}};return w}(),Ja=function(){function a(){h="undefined"===typeof mb?ia:mb;m=!0}function b(e,n,A){for(var Q=0;Q<n.length;++Q){var B=A.getExtension(n[Q]+"_"+e);if(B)return B}return null}function d(){null!==g.re&&(clearTimeout(g.re),g.re=null);g.Ub=!1}function f(e){if(0===g.wb.length){g.Da=c.PIXEL_PACK_BUFFER;g.wb.splice(0);g.Ed.splice(0);for(var n=0;n<g.Bc;++n)g.wb.push(c.createBuffer()),g.Ed.push(-1);g.Va=0;g.cg=0}c.bindBuffer(g.Da,g.wb[g.Va]);e.byteLength!==g.Ed[g.Va]&&(c.bufferData(g.Da,
e.byteLength,c.STREAM_READ),g.Ed[g.Va]=e.byteLength);g.jq=!0}function l(){c.bindBuffer(g.Da,null)}function q(){g.Sb.forEach(function(e){c.deleteSync(e)});g.Sb.splice(0)}function w(){g.Va=(g.Va+1)%g.Bc;++g.cg}var h=null,m=!1,r={ti:!1,Og:null,Pg:null,Ai:!1,Pm:!1,Qg:null,Bi:!1,Rg:null,ui:!1,Re:null,Gm:!1,Se:null,Hm:!1},x=null,H={Xa:!0,Za:!0,gf:!0,cj:!1},t=null,y=!0,z=null,k=null,g={gl:1,Bc:-1,Va:0,cg:0,Ub:!1,wb:[],Sb:[],Ed:[],Da:null,re:null},F="EXT WEBGL OES MOZ_OES WEBKIT_OES KHR".split(" "),L=["OES",
"MOZ_OES","WEBKIT_OES"],D="undefined"===typeof window?{}:window,G={m:function(){if(m)return!0;G.reset();m||a();var e=c;if(!x.ti){x.Og=G.Ph(e);D.GL_EXT_FLOAT=x.Og;x.Ai=x.Og?!0:!1;if(x.Ai||G.na())x.Pg=G.Qh(e),x.Pm=x.Pg?!0:!1,D.GL_EXT_FLOATLINEAR=x.Pg;x.ti=!0}if(!x.ui){x.Qg=G.wd(e);x.Qg&&(x.Bi=!0,D.GL_EXT_HALFFLOAT=x.Qg);if(x.Bi||G.na())x.Rg=G.Rh(e),D.GL_EXT_HALFFLOATLINEAR=x.Rg;x.mq=x.Rg?!0:!1;x.ui=!0}x.Re=G.Nh(e);x.Gm=x.Re?!0:!1;D.GL_EXT_COLORBUFFERFLOAT=x.Re;x.Se=G.Oh(e);x.Hm=x.Se?!0:!1;D.GL_EXT_COLORBUFFERHALFFLOAT=
x.Se;Fa.m();ca.m();if(!G.ql())return!1;X.m();ca.Am();return!0},reset:function(){x=Object.assign({},r);t=Object.assign({},H)},P:function(){m||a();return h.P()},$:function(){m||a();return h.$()},na:function(){m||a();return h.na()},Mh:function(e){G.Nh(e);G.Oh(e);G.Ph(e);G.Qh(e);G.wd(e);G.Rh(e)},Nh:b.bind(null,"color_buffer_float",F),Oh:b.bind(null,"color_buffer_half_float",F),Ph:b.bind(null,"texture_float",L),Qh:b.bind(null,"texture_float_linear",L),wd:b.bind(null,"texture_half_float",L),Rh:b.bind(null,
"texture_half_float_linear",L),pf:function(e){var n=G.wd(e);return n&&n.HALF_FLOAT_OES?n.HALF_FLOAT_OES:e.HALF_FLOAT||e.FLOAT},Yl:function(){return k||c.RGBA32F||c.RGBA},Zl:function(){return z||c.RGBA16F||c.RGBA},Sl:function(){return t},ja:function(){return t.Xa},Dp:function(){return t.Za},Zk:function(){return t.gf},bl:function(){return t.cj&&y},Rj:function(e){y=e;!e&&g.Ub&&(q(),c.bindBuffer(g.Da,null),g.Ub=!1)},rq:function(){return g.Ub},pe:function(e,n,A){function Q(){e.bindTexture(e.TEXTURE_2D,
null);e.bindFramebuffer(B,null);e.deleteTexture(u);e.deleteFramebuffer(M)}var B=e.FRAMEBUFFER,E=e.NEAREST,M=e.createFramebuffer();e.bindFramebuffer(B,M);var u=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,u);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,E);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
E);e.texImage2D(e.TEXTURE_2D,0,n,3,3,0,e.RGBA,A,null);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,u,0);if(e.checkFramebufferStatus(e.READ_FRAMEBUFFER||e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)return Q(),!1;Cb.he(e);e.clearColor(0,0,0,0);e.viewport(0,0,3,3);e.disable(e.DEPTH_TEST);e.clear(e.COLOR_BUFFER_BIT);X.Qb(e);e.bindFramebuffer(B,null);Cb.Eb(e);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,u);X.Qb(e);n=new Uint8Array(36);e.readPixels(0,0,3,3,e.RGBA,e.UNSIGNED_BYTE,
n);Q();for(A=0;36>A;++A)if(3!==A%4&&3<Math.abs(n[A]-127))return!1;return!0},Ze:function(e){var n={Xa:!1,Za:!1};e.disable(e.BLEND);e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT);e.RGBA32F&&G.pe(e,e.RGBA32F,e.FLOAT)&&(n.Xa=!0,k=e.RGBA32F);!n.Xa&&G.pe(e,e.RGBA,e.FLOAT)&&(n.Xa=!0,k=e.RGBA);var A=G.pf(e);z=null;e.RGBA16F&&G.pe(e,e.RGBA16F,A)&&(n.Za=!0,z=e.RGBA16F);!n.Za&&G.pe(e,e.RGBA,A)&&(n.Za=!0,z=e.RGBA);return n},sl:function(){var e=Fa.instance({width:2});e.mj();var n=ca.instance({width:2,isFloat:!0,
L:3});e.u();n.u();G.flush();c.checkFramebufferStatus(Fa.$h())!==c.FRAMEBUFFER_COMPLETE?(ca.uo(),t.gf=!1):t.gf=!0;e.remove();n.remove()},tl:function(){var e=!1;G.na()&&(e="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(n){return"undefined"!==typeof c[n]}));t.cj=e},ql:function(){var e=G.Ze(c);Object.assign(t,e);if(!t.Xa&&!t.Za)return!1;G.sl();G.tl();return!0},Kn:function(e,n,A,Q,B){c.readPixels(e,n,A,Q,c.RGBA,c.UNSIGNED_BYTE,
B);return Promise.resolve(B,!1)},og:function(e,n,A,Q,B,E,M){if(!G.bl())return G.Kn(e,n,A,Q,B);g.Bc=M||g.gl;f(B);c.readPixels(e,n,A,Q,c.RGBA,c.UNSIGNED_BYTE,0);g.Sb[g.Va]=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);G.flush();var u=!1;return new Promise(function(v,P){function Y(){if(!g.Ub)return d(),l(),w(),P(),!1;var U=(g.Va+1)%g.Bc;switch(c.clientWaitSync(g.Sb[U],0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:break;default:return d(),c.deleteSync(g.Sb[U]),g.Sb[U]=null,c.bindBuffer(g.Da,g.wb[U]),
c.getBufferSubData(g.Da,0,B),l(),w(),v(B,u),!0}g.re=setTimeout(Y,0);return!1}d();g.cg+1<g.Bc?(l(),w(),v(B,!1)):(g.Ub=!0,Y()||!E||u||(u=!0,E()))})},Dj:function(){c.viewport(0,0,G.P(),G.$())},flush:function(){c.flush()},A:function(){d();q();ca.A();Fa.A();X.A();g.wb.forEach(function(e){c.deleteBuffer(e)});g.wb.splice(0);Cb.reset();m=!1}};return G}(),Ib=function(){function a(e,n,A,Q){g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,Q?g.NEAREST_MIPMAP_NEAREST:g.LINEAR);var B=null;if(null!==A)try{B=g.getError();
if("FUCKING_BIG_ERROR"===B)return!1;g.texImage2D(g.TEXTURE_2D,0,e,4,4,0,g.RGBA,n,A);B=g.getError();if(B!==g.NO_ERROR)return!1}catch(E){return!1}Q&&g.generateMipmap(g.TEXTURE_2D);g.clear(g.COLOR_BUFFER_BIT);X.Qb(g);B=g.getError();if("FUCKING_BIG_ERROR"===B)return!1;g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,x);B=g.getError();B===g.INVALID_OPERATION&&"undefined"!==typeof g.PIXEL_PACK_BUFFER&&(g.bindBuffer(g.PIXEL_PACK_BUFFER,null),g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,x),B=g.getError());if(B!==
g.NO_ERROR)return!1;A=!0;for(Q=0;16>Q;++Q)A=A&&4>Math.abs(x[Q]-127);A&&(m.Zi=n,m.si=e);return A}function b(e,n){return F.Xa&&a(e,g.FLOAT,new Float32Array(H),n)?(h=w.hh,!0):!1}function d(e,n,A){if(!F.Za)return!1;var Q=ca.fl(H),B=Ja.wd(g);if(B&&B.HALF_FLOAT_OES&&a(e,B.HALF_FLOAT_OES,Q,n)||g.HALF_FLOAT&&a(e,g.HALF_FLOAT,Q,n))return h=w.tc,!0;Q=new Float32Array(H);if(a(e,g.FLOAT,Q,n))return h=w.tc,!0;g.bindTexture(g.TEXTURE_2D,A);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,2,2,0,g.RGBA,g.UNSIGNED_BYTE,null);g.bindFramebuffer(m.rd,
G);ca.Th(g,A,2,2,Q,!1,!1);g.bindFramebuffer(m.rd,null);g.bindTexture(g.TEXTURE_2D,A);return a(e,null,null,n)?(h=w.tc,!0):!1}function f(e,n,A){r=!0;if(d(e,!0,A)||b(n,!0))return!0;r=!1;return d(e,!1,A)||b(n,!1)?!0:!1}function l(e){if(h===w.M){g=e||c;h=w.RGBA8;r=!0;Ja.Mh(g);F||(F=Ja.Ze(g));Fa.reset();G=g.createFramebuffer();m.rd=g.DRAW_FRAMEBUFFER||g.FRAMEBUFFER;g.bindFramebuffer(m.rd,null);g.clearColor(0,0,0,0);g.viewport(0,0,2,2);aa.M();L=aa.Eb(g);e=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,
e);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST);D=e;var n=e=g.RGBA,A=g.RGBA16F,Q=g.RGBA32F;Q&&(e=Q);A&&(n=A);if((A||Q)&&f(n,e,D))return q(),!0;e=n=g.RGBA;if(f(n,e,D))return q(),!0;h=w.RGBA8;q();return!1}}function q(){g.deleteProgram(L.qa);g.deleteTexture(D);D=L=null}for(var w={M:-1,hh:3,tc:2,RGBA8:0},h=w.M,m={Zi:null,si:null,rd:null},r=!0,x=new Uint8Array(16),H=Array(64),
t=0;4>t;++t)for(var y=0;4>y;++y){var z=0===(y+t)%2?1:0,k=4*t+y;H[4*k]=z;H[4*k+1]=z;H[4*k+2]=z;H[4*k+3]=z}var g=null,F=null,L=null,D=null,G=null;return{$k:function(e){l(e);return r},rh:function(e,n){h===w.M&&(typeof("undefined"!==n)&&(F=n),l(e));return h!==w.RGBA8},nq:function(e){l(e);return h===w.hh},Tm:function(e){l(e);return h===w.tc},Zp:function(e){l(e);return m.Zi},$l:function(e){l(e);return m.si},A:function(){g=null;r=!0;h=w.M;F=null}}}(),Fd={instance:function(a){function b(){x&&x.remove();x=
ca.instance({isFloat:!1,isPot:!1,width:d.size*d.za[0],height:d.size*d.za[1]})}var d=Object.assign({mask:null,size:-1,preprocessing:"none",preprocessingSize:a.size,customInputShader:null,nBlurPass:1,varianceMin:.1,blurKernelSizePx:5,gain:1,overlap:0,isNormalized:!1,tilt:-1,za:[1,1]},a),f=null,l=!1,q=!1,w=null,h=!1;a=!1;var m=null;d.mask&&(l=!0,"undefined"!==typeof I&&I&&void 0!==I.ea&&(d.mask=I.ea+d.mask),f=ca.instance({isFloat:!1,url:d.mask}));var r=null;d.customInputShader&&(r="s50",aa.oa({name:"_",
id:r,g:d.customInputShader,ar:["uSource"],precision:"lowp"}),aa.j(r,[{type:"1i",name:"_",value:0}]));switch(d.preprocessing){case "sobel":m="s39";h=!0;break;case "meanNormalization":m="s40";h=!0;break;case "grayScale":m="s36";h=!1;break;case "grayScaleTilt":m="s37";a=!0;h=!1;break;case "rgbGrayTilt":m="s38";a=!0;h=!1;break;case "copy":m=r?r:"s0";break;case "inputLightRegulation":m=r?r:"s36";w=Xd.instance({ri:d.preprocessingSize,Ti:d.size,Oi:d.nBlurPass,Ea:!1});q=!0;break;case "inputMix0":m="none";
w=Yd.instance({da:d.preprocessingSize,jb:d.varianceMin,Ua:d.blurKernelSizePx,gain:d.gain||1,Ea:!1});q=!0;break;case "inputMix1":m="none";w=Zd.instance({da:d.preprocessingSize,jb:d.varianceMin,Ua:d.blurKernelSizePx,gain:d.gain||1,Ea:!1});q=!0;break;case "inputCut4":m="none";w=$d.instance({da:d.preprocessingSize,jb:d.varianceMin,Ua:d.blurKernelSizePx,gain:d.gain||1,Jc:d.isNormalized||!1,ig:d.overlap||0,Ea:!1});d.preprocessingSize*=w.am();q=!0;break;case "direct":case "none":case "abort":m="abort";break;
default:m="s4"}d.preprocessingSize=Math.ceil(d.preprocessingSize);a&&aa.j(m,[{name:"u29",type:"1f",value:d.tilt}]);l&&(m+="Mask");var x=null;b();var H={P:function(){return d.size},bm:function(){return d.preprocessingSize},rf:function(){return H.P()},fm:function(){return q?w.Fc():x},te:function(t){d.za=t;b()},Aa:function(t){Fa.ba();if("abort"===m)return t.h(0),t;"none"!==m&&(aa.set(m),h&&aa.C("u30",1/d.size),x.J(),l&&f.h(1),X.l(!1,!1),x.h(0),t=x);q&&w.process(t)},A:function(){x.remove();l&&f.remove()}};
return H}},Gd={instance:function(a){function b(){if(G.lc){l.input&&(l.input.remove(),l.Hd.remove());var n=a.size*a.sparsity;D=Math.log(n/a.size)/Math.log(2);l.input=ca.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:n*a.za[0],height:n*a.za[1],Vf:D});l.Hd=ca.instance({isFloat:!0,isPot:!0,width:a.size*a.za[0],height:a.size*a.za[1]})}}function d(){l.output&&l.output.remove();l.output=ca.instance({isFloat:!0,isPot:!w,isLinear:!w&&h.isLinear,width:a.size*a.za[0],height:a.size*a.za[1]})}function f(n){h.buffer.forEach(function(A,
Q){h.results[Q][0]=n[0][A];h.results[Q][1]=n[1][A];h.results[Q][2]=n[2][A];h.results[Q][3]=n[3][A]});return h.results}a.normalize=a.normalize||!1;var l={input:null,bias:null,Hd:null,output:null,hg:null,fg:null,gg:null},q=null,w=!0,h={type:"undef",D:null,isLinear:!1,buffer:[],results:[],Ld:!1},m=-1,r=a.isReorganize?a.isReorganize:!1,x=a.kernelsCount?!0:!1,H=[a.Ic?"s32":"s31",a.Ic?"s34":"s33","s35"][a.shiftRGBAMode||0],t={isEnabled:!1},y=1/a.size;a.Mm?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:
a.de.rf(),w=!1):"full"===a.connectivityUp&&(a.sparsity=a.de.rf());var z={elu:"s19",elu01:"s20",relu:"s17",gelu:"s18",arctan:"s21",arctan2:"s22",sigmoid:"s16",copy:"s0"}[a.activation],k=a.sparsity*a.sparsity,g=!1,F=a.size,L="";if(a.maxPooling){switch(a.maxPooling.size){case 2:L="s41";break;case 4:L="s42"}g=!0;F/=a.maxPooling.size;l.fg=ca.instance({isFloat:!0,isPot:!1,width:F})}var D=-1,G=null;w&&d();l.bias=ca.instance(a.bias);var e={P:function(){return a.size},rf:function(){return F},Xh:function(){return a.classesCount},
Rk:function(n){q.h(n)},Bn:function(){a.remap&&a.remap.isEnabled&&(t={isEnabled:!0,gn:ca.instance(a.remap.maskTexture),Nc:a.remap.layers.map(function(n){return a.parent.cm(n)}),depth:a.remap.depth})},vo:function(){switch(a.connectivityUp){case "direct":G=ae.instance(a.connectivity);break;case "square":G=be.instance(a.connectivity);break;case "squareFast":G=ce.instance(a.connectivity,a.activation);break;case "full":G=de.instance(Object.assign({Ic:a.Ic},a.connectivity));break;case "conv":m=a.kernelsCount,
G=ee.instance(a.connectivity),r&&(l.hg=ca.instance({width:F,isFloat:!0,isFlipY:!1,isPot:!1}))}b()},Aa:function(n,A){q=n;G.lc?(l.input.J(),x&&l.bias.h(2),G.Aa(t),l.input.h(0),l.input.Pl(D),l.Hd.J(),x?aa.set("s0"):(aa.set(H),aa.C("u4",k),l.bias.h(1)),l.input.Sk(D,0),X.l(!1,!1),aa.set(z),l.output.u(),l.Hd.h(0),X.l(!1,!1)):(l.output.J(),l.bias.h(1),G.Aa());if(w)return A=l.output,g&&(l.fg.J(),A.h(0),aa.set(L),aa.O("u14",y,y),X.l(!1,!1),A=l.fg),r&&(l.hg.u(),aa.set("s24"),aa.O("u18",m,F/m),A.h(0),X.l(!1,
!1),A=l.hg),A.h(0),A;var Q=l.output;if(a.normalize||h.Ld)n=a.normalize,aa.set(h.Ld?"s9":"s8"),aa.C("u10",n?y:1),l.gg.J(),Q.h(0),X.l(!1,!1),Q=l.gg;n=null;switch(h.type){case "cpuRGBA2Float":Q.Fh(!1);A?n=e.Fn(Q).then(h.D):(Q=e.Gn(Q),h.D(Q));break;case "cpuMeanFloat":Q.Fh(!0);if(A)n=Q.In().then(h.D);else{Q=Q.Jn();for(var B=0;B<Q.length;++B);h.D(Q)}break;case "gpuRawAvg":case "gpuRaw":Q.h(0);case "none":null!==h.D&&h.D(Q)}A&&null===n&&(n=Promise.resolve());return n},te:function(n){a.za=n;b();d()},Do:function(n){n&&
(h.type=n.Zd||"none",h.D=n.Yd||null,h.isLinear=n.eg?!0:!1);d();n="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var A=0,Q=0,B=0;A<n;++A)h.buffer.push(Q+(a.size-1-B)*a.size),h.results.push([-1,-1,-1,-1]),++Q,Q===a.size&&(Q=0,++B);h.Ld="gpuRawAvg"===h.type||"cpuMeanFloat"===h.type;if(a.normalize||h.Ld)l.gg=ca.instance({isFloat:!0,isPot:!0,width:a.size})},Fn:function(n){return n.Hn().then(f)},Gn:function(n){n=n.dj();f(n);return h.results},A:function(){for(var n in l){var A=
l[n];A&&A.remove()}G&&(G.A(),G=null)}};a.de&&e.vo(a.de);return e}},ae={instance:function(a){var b=ca.instance(a.weights);return{lc:!0,Bd:function(){return 1},A:function(){b.remove()},um:function(){return b},Aa:function(){aa.set("s30");b.h(1);X.l(!1,!1)}}}},de={instance:function(a){var b=a.fromLayerSize,d=ca.instance(a.weights),f=a.Ic?"s27":"s26";return{lc:!0,Bd:function(){return b},A:function(){d.remove()},Aa:function(l){if(l.isEnabled){aa.set("s28");l.gn.h(3);for(var q=Math.min(l.Nc.length,l.depth),
w=0;w<q;++w)l.Nc[w].Rk(4+w)}else aa.set(f);aa.C("u8",a.toLayerSize);aa.C("u9",a.fromLayerSize);d.h(1);X.l(!1,!1)}}}},be={instance:function(a){for(var b=a.fromLayerSize,d=a.toLayerSize,f=a.toSparsity,l=f*d,q=l/b,w=b/d,h=0,m=0,r=0,x=Array(f*d*f*d*4),H=Array(f*d*f*d*4),t=Array(b*b),y=0;y<t.length;++y)t[y]=0;y=Math.floor(f/2);for(var z=.5/d,k=.5/b,g=.5/l,F=0;F<d;++F)for(var L=Math.round(F*w),D=0;D<d;++D){var G=Math.round(D*w),e=F/d,n=D/d;e+=z;n+=z;for(var A=0;A<f;++A){var Q=L+A-y;0>Q&&(Q+=b);Q>=b&&(Q-=
b);for(var B=0;B<f;++B){var E=h/l,M=m/l,u=G+B-y;0>u&&(u+=b);u>=b&&(u-=b);var v=Q/b,P=u/b;M=1-M-1/l;v+=k;P+=k;E+=g;M+=g;var Y=F*f+A,U=D*f+B;U=d*f-U-1;Y=U*d*f+Y;x[4*Y]=E;x[4*Y+1]=M;x[4*Y+2]=v;x[4*Y+3]=P;P=t[u*b+Q]++;Y=P%q;v=Q*q+Y;u=u*q+(P-Y)/q;u=b*q-1-u;u=u*b*q+v;H[4*u]=E;H[4*u+1]=M;H[4*u+2]=e;H[4*u+3]=n;++h>=l&&(h=0,++m);++r}}}t=null;var fa=ca.instance(a.weights);delete a.weights.data;var N=ca.instance({width:l,isFloat:!0,array:new Float32Array(H),isPot:!0});H=null;var sa=ca.instance({width:l,isFloat:!0,
array:new Float32Array(x),isPot:!0});x=null;return{lc:!0,Bd:function(){return q},A:function(){N.remove();sa.remove();fa.remove()},Aa:function(){aa.set("s25");fa.h(1);sa.h(2);X.l(!1,!1)}}}},ee={instance:function(a){var b=a.kernelsCount,d=a.toSparsity,f=d*a.toLayerSize/a.fromLayerSize,l=a.inputScale||[1,1],q=ca.instance(a.weights);return{lc:!0,Bd:function(){return f},gq:function(){return d},um:function(){return q},A:function(){q.remove()},Aa:function(){aa.set("s29");aa.Bg("u28",l);aa.C("u26",b);aa.C("u27",
d);aa.C("u8",a.toLayerSize);aa.C("u9",a.fromLayerSize);q.h(1);X.l(!1,!1)}}}},ce={instance:function(a,b){var d=a.fromLayerSize,f=a.toLayerSize,l=a.toSparsity,q=a.stride?a.stride:1,w=l*f/d,h=f<d,m=d/f,r=ca.instance(a.weights),x="s51"+[d.toString(),f.toString(),l.toString(),q.toString(),b].join("_");aa.Kl(x)||(a=xb(b),f=[{type:"1f",name:"u8",value:f},{type:"1f",name:"u32",value:q}],h&&f.push({type:"1f",name:"u9",value:d}),d=[(h?w:l).toFixed(1),a],h&&d.push(m.toFixed(1)),aa.Cm(h?"s47":"s46",x,d),aa.j(x,
f.concat([{type:"1i",name:"u6",value:0},{type:"1i",name:"u3",value:1},{type:"1i",name:"u7",value:3}])));return{lc:!1,Bd:function(){return w},A:function(){r.remove()},Aa:function(){aa.set(x);r.h(3);X.l(!1,!1)}}}},Xd={instance:function(a){var b=a.Oi?a.Oi:3,d=a.ri?a.ri:64,f=a.Ti?a.Ti:64,l=a.Ea?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var q=ca.instance(a),w=ca.instance(a),h=ca.instance(a),m=ca.instance(a),r=ca.instance({isFloat:!0,width:f,isPot:!1,isFlipY:!1}),x=1/d;return{process:function(H){aa.set("s43");
m.u();X.l(l,!1);aa.set("s44");for(var t=0;t<b;++t)q.u(),aa.O("u14",x,0),X.l(l,!1),h.u(),m.h(0),X.l(l,!1),w.u(),q.h(0),aa.O("u14",0,x),X.l(l,!1),m.u(),h.h(0),X.l(l,!1),t!==b-1&&w.h(0);aa.set("s45");r.u();H.h(0);w.h(1);m.h(2);X.l(l,!1);r.h(0)},Fc:function(){return r}}}},Yd={instance:function(a){function b(x){return ca.instance({isFloat:x,width:d.da,isPot:!1,isFlipY:!1})}var d=Object.assign({jb:.1,Ua:9,da:128,gain:1,Ea:!1},a),f=b(!1),l=[b(!1),b(!1),b(!1)],q=[b(!1),b(!1),b(!1)],w=b(!0),h=[f,q[0],q[1]];
a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",Math.round((d.Ua-1)/2).toFixed(2)).replace("2.2222",(1/d.da).toFixed(6));var m="uniform sampler2D u34,u35,u36,u37;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u34,vv0).rgb;float c=texture2D(u35,vv0).r,d=texture2D(u36,vv0).r,i=texture2D(u37,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(vec3(j)-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",
d.jb.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),r={u1:0};aa.uc([{id:"s53",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",o:r,i:["u1"],precision:"lowp"},{id:"s54",name:"_",g:a,o:r,i:["u1","u33"],precision:"lowp"},{id:"s55",name:"_",g:m,o:{u34:0,u35:1,u36:2,u37:3},i:["u34","u35","u36","u37"],precision:"highp"}]);return{process:function(){aa.set("s53");f.J();
X.l(d.Ea,!1);aa.set("s54");for(var x=0;3>x;++x)aa.O("u33",1,0),l[x].u(),h[x].h(0),X.l(!1,!1),aa.O("u33",0,1),q[x].u(),l[x].h(0),X.l(!1,!1);aa.set("s55");w.u();f.h(0);q[0].h(1);q[1].h(2);q[2].h(3);X.l(!1,!1);w.h(0)},Fc:function(){return w}}}},Zd={instance:function(a){function b(r){return ca.instance({isFloat:r,width:d.da,isPot:!1,isFlipY:!1})}var d=Object.assign({jb:.1,Ua:9,da:128,gain:1,Ea:!1},a),f=b(!1),l=b(!1),q=b(!1),w=b(!0);a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec3 b=vec3(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).rgb,c+=f;}b/=c,gl_FragColor=vec4(b,1.);}".replace("1.1111",
Math.round((d.Ua-1)/2).toFixed(2)).replace("2.2222",(1/d.da).toFixed(6));var h="uniform sampler2D u0,u38;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);vec3 c=texture2D(u38,vv0).rgb;float d=a.a*a.a;vec3 b=c.rgb,i=max(g*f,abs(vec3(d)-b*b)),j=sqrt(i);gl_FragColor=vec4(a.a,h*(a.rgb-b)/j);}".replace("1.1111",d.jb.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),m={u1:0};aa.uc([{id:"s56",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 a=texture2D(u1,vv0).rgb;float b=dot(a,f);gl_FragColor=vec4(a.rgb,b);}",
o:m,i:["u1"],precision:"lowp"},{id:"s57",name:"_",g:a,o:m,i:["u1","u33"],precision:"lowp"},{id:"s58",name:"_",g:h,o:{u0:0,u38:1},i:["u0","u38"],precision:"highp"}]);return{process:function(){aa.set("s56");f.J();X.l(d.Ea,!1);aa.set("s57");aa.O("u33",1,0);l.u();f.h(0);X.l(!1,!1);aa.O("u33",0,1);q.u();l.h(0);X.l(!1,!1);aa.set("s58");w.u();f.h(0);q.h(1);X.l(!1,!1);w.h(0)},Fc:function(){return w}}}},$d={instance:function(a){function b(x){return ca.instance({isFloat:x,width:d.da,isPot:!1,isFlipY:!1})}var d=
Object.assign({jb:.1,Ua:9,da:128,gain:1,ig:0,Jc:!1,Ea:!1},a),f=b(!1),l=null,q=null,w=null;d.Jc&&(l=b(!1),q=b(!1),w=b(!0));a={u1:0};var h=[{id:"s59",name:"_",g:"uniform sampler2D u1;const float f=1.1111;varying vec2 vv0;const vec3 e=vec3(.2126,.7152,.0722);void main(){vec2 a=vv0*.5*(f+1.);float b=.5*(1.-f),c=dot(texture2D(u1,a).rgb,e),d=dot(texture2D(u1,a+vec2(0.,b)).rgb,e),h=dot(texture2D(u1,a+vec2(b,0.)).rgb,e),i=dot(texture2D(u1,a+vec2(b,b)).rgb,e);gl_FragColor=vec4(c,d,h,i);}".replace("1.1111",
d.ig.toFixed(4)),o:a,i:["u1"],precision:"lowp"}];if(d.Jc){var m="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec4 b=vec4(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j),c+=f;}gl_FragColor=b/c;}".replace("1.1111",Math.round((d.Ua-1)/2).toFixed(2)).replace("2.2222",(1/d.da).toFixed(6)),r="uniform sampler2D u0,u38;const float f=1.1111;const vec4 g=vec4(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u38,vv0),d=a*a,b=c,i=max(g*f,abs(d-b*b)),j=sqrt(i);gl_FragColor=h*(a-b)/j;}".replace("1.1111",
d.jb.toFixed(4)).replace("2.2222",d.gain.toFixed(4));h.push({id:"s60",name:"_",g:m,o:a,i:["u1","u33"],precision:"lowp"},{id:"s61",name:"_",g:r,o:{u0:0,u38:1},i:["u0","u38"],precision:"highp"})}aa.uc(h);return{process:function(){aa.set("s59");f.J();X.l(d.Ea,!1);d.Jc?(aa.set("s60"),aa.O("u33",1,0),l.u(),f.h(0),X.l(!1,!1),aa.O("u33",0,1),q.u(),l.h(0),X.l(!1,!1),aa.set("s61"),w.u(),f.h(0),q.h(1),X.l(!1,!1),w.h(0)):f.h(0)},am:function(){return 2-d.ig},Fc:function(){return d.Jc?w:f}}}},Pb=function(){function a(g,
F,L,D,G,e,n){if(!z)if(n===e.length)G();else{switch(e[n]){case "A":L();break;case "D":g();break;case "S":F().then(function(A,Q){k.Qj();a(g,F,L,Q?null:D,G,e,++n)}).catch(function(A){console.log("An error occurred in the WebAR loop: ",A);G()});return;case "R":D&&D()}a(g,F,L,D,G,e,++n)}}var b={n:5,bg:1,Lf:0,Ol:[25,39],Bh:45,vd:[2,200],k:.7,So:200,vn:.05},d=-1,f=null,l=-1,q=-1,w=0,h=-1,m=-1,r=0,x=null,H=0,t=b.vd[1],y=Math.log(2),z=!0,k={X:function(){switch(d){case -1:return-1;case 0:return m+f.Lf;case 1:return r}},
Yh:function(g){switch(d){case -1:return 1;case 0:return Math.pow(Math.min(Math.max(h,0),f.n-1)/(f.n-1),g||1);case 1:return(r-f.Lf)/(f.n-1)}},m:function(g){f=Object.assign({},b,g);h=m=f.bg;d=0;x=f.Ol.slice(0);k.reset();k.Jl().then(function(F){F>=f.Bh||(F/=f.Bh,x[0]*=F,x[1]*=F)})},Qj:function(g){g=("undefined"===typeof g?Date.now():g)||0;var F=Math.min(Math.max(g-H,f.vd[0]),f.vd[1]);t=F;H=g;var L=-1===l?0:f.k;l=Math.min(Math.max(1E3/F,5),120)*(1-L)+l*L;g-q>f.So&&5<++w&&(F=f.k,h=h*(1-F)+(l<x[0]?m-1:
l>x[1]?m+1:m)*F,Math.abs(h-m)>1-f.vn&&(F=Math.min(Math.max(Math.round(h),0),f.n-1),F!==m&&(h=m=F,l=.5*(x[1]-x[0]))),q=g)},qg:function(g,F,L,D,G,e){z=!1;a(g,F,L,D,G,e,0)},stop:function(){z=!0},oo:function(g){r=g;d=1},Ro:function(){d=0;k.reset()},reset:function(){t=b.vd[1];q=l=-1;w=0},Uq:function(g,F,L){L=Math.exp(-y*t/L);return(1-L)*g+L*F},Yp:function(){return t},Jl:function(){return new Promise(function(g){function F(n){n=n||Date.now();var A=Math.max(0,n-D);D=n;0!==G++&&0<A&&(L=Math.min(L,A),++e);
10>=G?window.requestAnimationFrame(F):g(Math.round(1E3/L))}var L=Infinity,D=0,G=0,e=0;setTimeout(F,1)})}};return k}(),kd=function(){function a(H,t){var y=H[0]-.5;H=H[1]-.5;var z=t[0]-.5;t=t[1]-.5;return y*y+H*H-(z*z+t*t)}var b={Pi:4,$d:[1.5,1.5,2],ta:[.1,.1,.1],kj:1,da:-1,Tb:-1,Mo:2,sn:1,rg:!0,Hl:.8},d=null,f=[],l=[],q=[],w=[0],h=[.5,.5,1],m=null,r=0,x=[0,0,0];return{m:function(H){d=Object.assign({},b,H);f.splice(0);l.splice(0);q.splice(0);r=0;H=d.$d[0]*d.ta[0];var t=d.$d[1]*d.ta[1],y=1/(1+d.$d[2]*
d.ta[2]),z=d.kj*Math.min(d.da,d.Tb),k=z/d.da;z/=d.Tb;var g=.5*d.Hl;g*=g;for(var F=0;F<d.Pi;++F){var L=[];l.push(L);var D=Math.pow(y,F),G=k*D,e=z*D;D=G*d.sn;q.push(D);var n=G*H,A=e*t;G/=2;e/=2;for(var Q=1+(1-G-G)/n,B=1+(1-e-e)/A,E=0;E<B;++E)for(var M=e+E*A,u=M-.5,v=0;v<Q;++v){var P=G+v*n,Y=P-.5;Y*Y+u*u>g||(P=[P,M,D],f.push(P),L.push(P))}d.rg&&L.sort(a);m=f}d.rg&&f.sort(a)},get:function(H){var t=m.length;if(0===t)return h;for(;H>=w.length;)w.push(0);w[H]>=t&&(w[H]=0);var y=m[Math.floor(w[H])%t];w[H]=
(w[H]+1/d.Mo)%t;if(0===r)return y;x[0]=y[0];x[1]=y[1];x[2]=r;return x},zq:function(H){H>=w.length||(w[H]=Math.floor(Math.random()*m.length))},Mq:function(H){r=H;if(0===r)m=f;else{for(var t=q.length,y=t-1,z=0;z<t;++z)if(q[z]<=H){y=z;break}m=l[y]}},reset:function(){for(var H=f.length/w.length,t=0;t<w.length;++t)w[t]=Math.floor(t*H);r=0;m=f}}}(),Db=function(){function a(){d(k+y.Wf);g.port.postMessage("DONE")}function b(){G.fd=0===y.Ca?L(d):L(f)}function d(B){D.Xb&&null!==z&&(B-=k,B=Math.min(Math.max(B,
y.Jh[0]),y.Jh[1]),k+=B,q(),e.isEnabled&&e.Kc&&D.Pa&&k-e.If>y.gh&&(r(),e.If=k),z(k))}function f(B){D.Xb&&(G.timeout=setTimeout(d.bind(null,B),y.Ca))}function l(){z=null;D.Xb=!1;q()}function q(){G.fd&&(window.cancelAnimationFrame(G.fd),G.fd=null);G.timeout&&(window.clearTimeout(G.timeout),G.timeout=null)}function w(B){B&&!D.Pa?(D.Pa=!0,F&&Pb.Ro(),g.port.postMessage("STOP"),Ja.Rj(!0),b()):!B&&D.Pa&&(D.Pa=!1,F&&Pb.oo(1),Ja.Rj(!1),g.port.postMessage("START"))}function h(B){B.target.hidden?A():n()}function m(B,
E,M){E=B.createShader(E);B.shaderSource(E,M);B.compileShader(E);return E}function r(){e.Kc=!1;var B=e.Ya,E=e.Fd,M=e.Gd,u=e.Da;B.uniform1f(e.ki,Math.random());e.Yb?E.beginQueryEXT(u,M):B.beginQuery(u,M);B.drawElements(B.POINTS,1,B.UNSIGNED_SHORT,0);e.Yb?E.endQueryEXT(u):B.endQuery(u);Ja.flush();H().then(function(v){0===v||isNaN(v)?(e.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",v)):(v=y.hk*y.fh*1E3/v,e.xe=(e.xe+1)%y.sc,e.Jf[e.xe]=
v,++e.Ei>y.sc&&(e.Nd.set(e.Jf),e.Nd.sort(function(P,Y){return P-Y}),v=e.Nd[Math.floor(y.sc/2)],e.yd=Math.max(e.yd,v),y.eh(v/e.yd)),e.Kc=!0)}).catch(function(){e.Kc=!0})}function x(B){var E=e.Ya,M=e.Fd,u=e.Gd;u=e.Yb?M.Sp(u,M.QUERY_RESULT_AVAILABLE_EXT):E.getQueryParameter(u,E.QUERY_RESULT_AVAILABLE);E=E.getParameter(M.GPU_DISJOINT_EXT);u?B(!E):setTimeout(x.bind(null,B),.1)}function H(){return new Promise(function(B,E){x(function(M){if(M){M=e.Ya;var u=e.Fd,v=e.Gd;M=e.Yb?u.getQueryObjectEXT(v,u.QUERY_RESULT_EXT):
M.getQueryParameter(v,M.QUERY_RESULT);B(M)}else E()})})}var t={vi:!0,Jh:[1,200],Wf:20,Ca:0,fh:50,hk:240,gh:3E3,sc:3,eh:null},y=null,z=null,k=0,g=null,F=!1,L=null,D={Oa:!1,Pa:!0,Hf:!1,Ff:!1,Ef:!1,Xb:!1},G={fd:null,timeout:null},e={isEnabled:!1,Kc:!1,Ya:null,Fd:null,Gd:null,Da:null,ki:null,Yb:!0,If:0,Ei:0,Jf:null,Nd:null,xe:0,yd:0},n=w.bind(null,!0),A=w.bind(null,!1),Q={m:function(B){y=Object.assign(t,B);Object.assign(D,{Pa:!0,Oa:!0,Xb:!1});L=window.requestPostAnimationFrame||window.requestAnimationFrame;
if(null!==y.eh){B=document.createElement("canvas");B.setAttribute("width","1");B.setAttribute("height","1");var E={antialias:!1};B=B.getContext("webgl2",E)||B.getContext("webgl",E);if(E=B.getExtension("EXT_disjoint_timer_query")||B.getExtension("EXT_disjoint_timer_query_webgl2")){e.Ya=B;e.Fd=E;e.isEnabled=!0;e.Yb=E.beginQueryEXT?!0:!1;var M=m(B,B.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),u=m(B,B.FRAGMENT_SHADER,"precision lowp float;uniform float u39;void main(){vec4 a=u39*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",
y.fh.toString())),v=B.createProgram();B.attachShader(v,M);B.attachShader(v,u);B.linkProgram(v);M=B.getAttribLocation(v,"a0");e.ki=B.getUniformLocation(v,"u39");B.useProgram(v);B.enableVertexAttribArray(M);v=B.createBuffer();B.bindBuffer(B.ARRAY_BUFFER,v);B.bufferData(B.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),B.STATIC_DRAW);B.vertexAttribPointer(M,4,B.FLOAT,!1,16,0);v=B.createBuffer();B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,v);B.bufferData(B.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),B.STATIC_DRAW);
B.disable(B.DEPTH_TEST);B.disable(B.DITHER);B.disable(B.STENCIL_TEST);B.viewport(0,0,1,1);v=e.Yb?E.createQueryEXT():B.createQuery();e.Gd=v;e.Da=E.TIME_ELAPSED_EXT||B.TIME_ELAPSED;e.If=-y.gh;e.Jf=new Float32Array(y.sc);e.Nd=new Float32Array(y.sc);e.yd=0;e.xe=0;e.Ei=0;e.Kc=!0}}if(y.vi){B=!1;try{if("undefined"===typeof SharedWorker){var P=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
y.Wf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),Y=new Worker(P);Y.addEventListener("message",a);g={bj:Y,port:Y};D.Hf=!0}else{var U=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
y.Wf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),fa=new SharedWorker(U);fa.port.start();fa.port.addEventListener("message",a);g={bj:fa,port:fa.port};D.Ff=!0}B=!0}catch(N){}B&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",h):(window.addEventListener("blur",A),window.addEventListener("focus",n)),window.addEventListener("pagehide",
A),window.addEventListener("pageshow",n),D.Ef=!0)}F="undefined"!==typeof Pb},A:function(){l();D.Ef&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",h):(window.removeEventListener("blur",A),window.removeEventListener("focus",n)),window.removeEventListener("pagehide",A),window.removeEventListener("pageshow",n),D.Ef=!1);D.Ff?(g.port.close(),D.Ff=!1):D.Hf&&(g.bj.terminate(),D.Hf=!1);Object.assign(D,{Pa:!0,Oa:!1,Xb:!1});z=null},uq:function(){return D.Pa},update:function(B){Object.assign(y,
B)},qg:function(B){D.Oa||Q.m({});q();D.Xb=!0;z=B;D.Pa&&b()},stop:l};return Q}(),Mc={mf:function(){return Date.now()},Vp:function(){return performance.now()}},Ld=function(){var a={Jm:!0,isLinear:!0,Xf:[4,11]};return{Qp:function(b,d,f){return d.isDetected?Math.floor(d.s*b):(b=Math.floor(Math.log2(b/4)),b=Math.min(Math.max(b,4),9),Math.max(f,Math.pow(2,b)))},instance:function(b){var d=Object.assign({},a,b),f=[],l=null,q=-1,w=null,h=!1;for(b=d.Xf[0];b<=d.Xf[1];++b)f[b]=null;return{J:function(m,r){r!==
q&&(l&&l.remove(),l=ca.instance({isLinear:d.isLinear,isPot:!0,width:r}));if(h=d.Jm&&r<.5*m){m=Math.floor(Math.log2(m));var x=d.Xf;x=m=Math.min(Math.max(m,x[0]),x[1]);if(!f[x]){var H=ca.instance({isPot:!0,isMipmap:!0,xi:!0,width:Math.pow(2,x)});f[x]={V:H,Ni:-1}}m=f[m];w=m.V;m.Ni!==r&&(x=Math.log2(r),w.h(0),w.zj(x),ca.aa(0),m.Ni=r)}else w=l;q=r;w.J()},h:function(m){w.h(m);h&&w.Ec()},ya:function(m){w.ya(m)},remove:function(){l&&l.remove();f.forEach(function(m){m&&m.V.remove()})}}}}}(),Eb=function(){function a(T){switch(n){case e.movePinch:var ja=
-T.deltaY;0===A&&k("pinch",-1,.001*ja,null)}T.deltaY;T.preventDefault()}function b(T){if(-1!==A)switch(n){case e.swipe:if(1!==A)break;m();x(T,B);var ja=B[0]-Q[0];l(ja);T=ja/(20*L.offsetWidth/100);k("swipeMove",Math.min(Math.max(T,-1),1),T,null);break;case e.movePinch:if(2===A||3===A){x(T,B);ja=B[0]-Q[0];var Ia=B[1]-Q[1];2===A?(O+=Math.sqrt(ja*ja+Ia*Ia),10>O?(Q[0]=B[0],Q[1]=B[1]):(ha||(ha=!0,k("moveStart",null,null,null)),ba[0]=ja,ba[1]=Ia,M[0]=ja-E[0],M[1]=Ia-E[1],k("move",ba,M,null),E[0]=ba[0],E[1]=
ba[1])):3===A&&(T=r(T)/la,k("pinch",T,T-xa,null),xa=T)}}}function d(T){if(-1!==A)switch(n){case e.swipe:if(1!==A)break;m();x(T,B);T=B[0]-Q[0];var ja=0>T;(T=20<100*Math.abs(T)/L.offsetWidth)&&ja?k("swipeLeft",u,null,null):T&&!ja&&k("swipeRight",u,null,null);var Ia=function(){setTimeout(function(){h();A=0;k("swipeEnd",null,null,null)},202)};T?(T=function(){var ab=(ja?-1:1)*L.width,kb=(ja?1:-1)*ab/L.width;u.style.transitionDuration=(400).toString()+"ms";u.style.left=(fa[0]+ab).toString()+"px";u.style.top=
fa[1].toString()+"px";u.style.transform="rotate( "+kb.toString()+"rad )";Ia()},U?T():N=T):(u.style.transitionDuration=(200).toString()+"ms",u.style.opacity="0",u.style.left=fa[0].toString()+"px",u.style.top=fa[1].toString()+"px",u.style.transform="",Ia());A=-1;break;case e.movePinch:if(2===A||3===A)A===A.move?k("moveEnd",null,null,null):3===A&&k("pinchEnd",null,null,null),A=0}}function f(T){T.preventDefault();if(-1!==A)switch(n){case e.swipe:if(0!==A)break;m();A=1;sa=setTimeout(function(){h();sa=
null;1===A&&(A=0,k("swipeEnd",null,null,null))},1E3);q();k("swipeStart",null,null,null);k("swipeGetCanvas",u,P,v);x(T,Q);break;case e.movePinch:0!==A?2!==A||ha||void 0===T.changedTouches&&void 0===T.touches||(la=r(T),20<la&&(A=3,xa=1,k("pinchStart",null,null,null))):3!==A&&(ha=!1,x(T,Q),E[0]=0,E[1]=0,A=2,O=0)}}function l(T){var ja=0>T;u.style.left=fa[0]+T+"px";u.style.transformOrigin=ja?J:za;u.style.transform="rotate( "+((ja?1:-1)*T/L.width).toString()+"rad )"}function q(){U=!1;var T=L.getBoundingClientRect();
fa[0]=T.left;fa[1]=T.top;u.width=Math.round(L.width/4);u.height=Math.round(L.height/4);v.width=u.width;v.height=u.height;u.style.width=L.offsetWidth+"px";u.style.height=L.offsetHeight+"px";u.style.left=fa[0]+"px";u.style.top=fa[1]+"px";setTimeout(w,0)}function w(){P.drawImage(L,0,0,u.width,u.height);Y.drawImage(u,0,0);U=!0;document.body.appendChild(u);N&&(N(),N=!1)}function h(){u.style.transitionDuration="0ms";u.style.opacity="1";u.style.transform="";U&&(document.body.removeChild(u),U=!1)}function m(){sa&&
(window.clearTimeout(sa),sa=null)}function r(T){H(T,qa,0);H(T,na,1);return Math.sqrt(qa[0]*qa[0]+na[0]*na[0])}function x(T,ja){void 0!==T.changedTouches||void 0!==T.touches?H(T,ja,0):(ja[0]=T.pageX,ja[1]=T.pageY)}function H(T,ja,Ia){T.touches.length>Ia?(ja[0]=T.touches[Ia].pageX,ja[1]=T.touches[Ia].pageY):(ja[0]=T.changedTouches[Ia].pageX,ja[1]=T.changedTouches[Ia].pageY)}function t(){G.forEach(function(T){L.removeEventListener(T.type,T.sb,!1)});return G.splice(0,G.length)}function y(T){T.forEach(function(ja){z(ja.type,
ja.sb)})}function z(T,ja){L.removeEventListener(T,ja,!1);u.removeEventListener(T,ja,!1);L.addEventListener(T,ja,!1);u.addEventListener(T,ja,!1);0===G.filter(function(Ia){return Ia.type===T&&Ia.sb===ja}).length&&G.push({type:T,sb:ja})}function k(T,ja,Ia,ab){D[T].forEach(function(kb){kb.sb(ja,Ia,ab)})}function g(T){return T[0]+"% "+(100-T[1]).toString()+"%"}var F=!1,L=null,D={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],
moveStart:[],moveEnd:[]},G=[],e={idle:0,swipe:1,movePinch:2},n=e.idle,A=0,Q=[0,0],B=[0,0],E=[0,0],M=[0,0],u=document.createElement("canvas"),v=document.createElement("canvas"),P=u.getContext("2d"),Y=v.getContext("2d");u.style.position="fixed";u.style.zIndex="800";u.style.cursor="move";u.style.pointerEvents="none";u.className="swipeImage";u.setAttribute("draggable",!1);var U=!1,fa=[0,0],N=null,sa=null,za=g([50,100]),J=g([50,0]),p=null,O=0,ba=[0,0],la=0,ha=!1,xa=1,qa=[0,0],na=[0,0],Da={init:function(T){if(F)Da.switch_canvas(T.sa);
else return L=T.sa,z("mousedown",f),z("mouseup",d),z("mouseout",d),z("mousemove",b),z("mousemove",b),z("wheel",a),z("touchstart",f),z("touchend",d),z("touchmove",b),F=!0,Da},switch_canvas:function(T){if(!F)Da.init({sa:T});else if(L!==T){var ja=t();L=T;y(ja);for(var Ia in D)for(T=D[Ia],ja=T.length-1;0<=ja;--ja)T[ja].Mn&&T.splice(ja,1)}},get_mode:function(){for(var T in e)if(e[T]===n)return T;return!1},switch_mode:function(T){F&&"undefined"!==typeof e[T]&&(T=e[T],n!==T&&(m(),n=T,A=0))},add_listener:function(T,
ja,Ia){D[T].push({sb:ja,Mn:"undefined"===typeof Ia?!1:Ia});return Da},remove_listener:function(T){D[T].splice(0,D[T].length);return Da},animate_swipe:function(T,ja){p&&(clearInterval(p),p=null);q();var Ia=L.width/(ja/1E3)*("left"===T?-1:1),ab=0,kb,ua=Date.now();p=setInterval(function(){p&&(kb=Date.now(),ab+=(kb-ua)/1E3*Ia,l(ab),ua=kb,Math.abs(ab)>.75*L.width&&p&&(clearInterval(p),p=null,h()))},16)}};return Da}();window.CanvasListeners=Eb;var da={VERSION:"4.7.2",ready:!1,isBusy:!1},cb={idealWidth:800,
idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,FOVmobile:60,FOVforced:0,Ee:80,De:5E3},I=Object.assign({},{Lc:!0,Wd:"models3D",Vd:"materials",Po:"tweakers",neuralNetworkPath:"built/jeefitNNC_66_0.json",neuralNetworkVersion:"66_0",ea:"",wa:"",ad:"",Ca:0,rk:20,width:1024,height:1024,yi:!0,un:[2,3.5],ij:300,bd:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,ta:[.2,.2,.3],oc:[[.8,.5],[.8,.5],[1,1]],No:30,ol:1,En:[.4,.7],Dn:1,Oo:[.01,
.035],Vn:[.003,.007],Mg:[0,.6],Ml:.2,Ra:[1/.698111,1/1.047166,1/.122169],Pj:[-.1,0,0],ce:[0,-62,8],zn:1.03,Ha:[0,-60,0],$f:45,ag:20,Cc:.4,hf:73,He:[.035,1],pk:[4,1],Vk:[0,.5],Xn:.05,Un:1,Qn:[1,4.5],cp:20,Pp:!1,Gc:145,zf:-18,xf:20,yf:3,Oc:[-110,0],jc:1,Ej:.4,Fj:3,le:[0,0,0],kc:[1.1,1],od:0,Ye:.95,Xe:90,We:50,gd:25,Mb:.1,vf:!0,Sd:!0,Rf:"images/masks/target.jpg",Sf:!1,Rd:[1/255,175/255,236/255,0],Td:-.001,Qf:3.14,Le:0,Ke:"images/masks/burka.png",Ie:Math.PI-Math.PI/4,Ve:Math.PI/4,pg:[.3,.2,.1],Zb:!0,
Gi:[700,90],$m:[.2,.04],ep:"images/backgrounds/viewer3D.png",dh:[0,0,0],bh:[0,15,60],Be:.3,mp:50,ip:ud?La:!1,jp:ud?La:!1,lp:1E3,op:1E3,kp:40,hp:[0,0,-400],Ji:.1,dn:.5,Ki:[.5,1.5],Ud:30,cn:!0});W.zh=!0;W.Ah=!0;W.yh=!1;W.Qa=!0;var db={ee:3.5,Db:"images/debug/picsou.png",Tc:45,Of:.785,Pf:.3925,Pd:5,Od:2,Nf:0,Mf:0,fp:"images/backgrounds/bg1.jpg",gp:"images/backgrounds/bg1_light.jpg",ck:1,dk:2};I.fx=[4,50];I.Oc=[-110,0];I.Ej=.2;I.Fj=3;I.le=[0,-2,20];I.kc=[.85,1];W.Rc=2.1289;W.jg=1;db.ee=2.5858;db.Of=.4388;
db.Pf=.118;db.Db="images/debug/hdri2.png";db.Tc=180;db.sg=.8065;db.Pd=5.3887;db.Od=.5351;db.Nf=-.3019;db.Mf=0;db.ck=3.5288;db.dk=6.2168;var md={element:null,Lh:null,Md:!1,wh:null,V:null,Sg:null,deviceId:-1,jf:-1,ud:0,$i:null,Ae:-1},Ga=Object.assign({},md),Sb=null,Dc=[],Fc=[],Qc=null,Vc=null,Rc=null,$a=null,vd=I.un,wd=window.devicePixelRatio||1;var Cc={Ll:Math.max(vd[0]/wd,1),ff:Math.min(wd,vd[1])};var gb=null;da.onLoad=function(a){da.ready?a():Dc.push(a)};da.onHalfLoad=function(a){da.load_model?a():
Fc.push(a)};da.onWebcamAsk=function(a){Qc=a};da.onContextLost=function(a){Vc=a};da.onWebcamGet=function(a){Rc=a};da.get_onHalfLoadCallstack=function(){return Fc};da.set_size=function(a,b,d){d=d?Cc.ff:1;I.width=a*d;I.height=b*d};da.get_videoDevices=function(a){hd(a)};da.set_videoDevice=function(a){Ga.deviceId=a};da.set_videoSizes=function(a,b,d,f,l,q){cb.idealWidth=a;cb.idealHeight=b;cb.minWidth=d;cb.maxWidth=f;cb.minHeight=l;cb.maxHeight=q};da.set_loading=function(a,b,d){a&&(I.Sf=!0,I.Rf=a);"number"===
typeof b&&(a=new ec(b),I.Rd=[a.r,a.Z,a.b,0]);"number"===typeof d&&(I.Td=d)};da.set_settings=function(a,b,d){a&&Object.assign(I,a);b&&Object.assign(cb,b);d&&Object.assign(db,d)};da.get_size=function(){return{width:I.width,height:I.height}};da.get_cv=function(){return mb.tb()};da.set_NNCPath=function(a){I.ad=a};da.set_materialsPath=function(a){I.Vd=a};da.set_modelsPath=function(a){I.Wd=a};da.destroy=function(){return gb?gb.A():Promise.resolve()};da.update_lightSettings=function(a){a=Object.assign({screenTextureURL:null,
screenLuminosity:-1,lightDirFactor:-1,lightAmbFactor:-1,screenWidthAngle:-1},a);0<=a.lightDirFactor&&(db.Pd=a.lightDirFactor);0<=a.lightAmbFactor&&(db.Od=a.lightAmbFactor);0<=a.screenLuminosity&&(db.ee=a.screenLuminosity);0<=a.screenWidthAngle&&(db.Tc=a.screenWidthAngle);a.screenTextureURL&&(db.Db=a.screenTextureURL);da.ready&&(gb.Lj(),ya.La.oh(Ga.V))};da.preFetch=function(a,b){b=b||[];b.push(ld(a));b.forEach(Nd)};da.check_isMobile=nc;da.init2=function(a){var b=Object.assign({basePath:null,modelsPath:null,
materialsPath:null,materialTextureBasePath:null,NNCPath:null,cv:null,isRequestCamera:!0,width:512,height:512,isMirror:!0,isApplyOverSampling:!1,scanOverlapFactors:null,scanNScaleLevels:null,scanScale0Factor:null,callbackReady:null},a);I.Lc=b.isRequestCamera;da.set_size(b.width,b.height,b.isApplyOverSampling);da.update_lightSettings(a);b.modelsPath&&(I.Wd=b.modelsPath);b.materialsPath&&(I.Vd=b.materialsPath);b.materialTextureBasePath&&(W.Mi=b.materialTextureBasePath);b.NNCPath&&(I.ad=b.NNCPath);I.scanOverlapFactors=
b.scanOverlapFactors||I.scanOverlapFactors;I.scanNScaleLevels=b.scanNScaleLevels||I.scanNScaleLevels;I.scanScale0Factor=b.scanScale0Factor||I.scanScale0Factor;I.yi=b.isMirror;return new Promise(function(d,f){da.onHalfLoad(d);da.init(b.basePath,function(){b.callbackReady&&b.callbackReady()},f,b.cv)})};da.init=function(a,b,d,f){gb=Jd();Sb=d?function(l,q){d(l,q);Sb=null}:function(){};a&&(I.ea=a);b&&Dc.push(b);gb.Lj();a=gb.gm();return mb.m({Ue:"jeefitCanvas",sa:f,width:a.width,height:a.height,debug:!1,
dg:function(){Vc&&Vc()},premultipliedAlpha:!0})?I.Lc?nd():Od():(Sb&&Sb("GL_INCOMPATIBLE","Cannot init Context"),!1)};da.request_cameraVideoStream=function(){return nd().then(function(){gb.Nl(I.width,I.height,0)})};JEELIZVTO=da;var jd=function(){function a(){Fa.aa();c.viewport(0,0,1,1);aa.set("s74");f.h(0);X.l(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,q);b(0<q[0])}var b=null,d=!1,f=null,l=!1,q=null,w={m:function(h){if(l)return!1;f=h;aa.uc([{id:"s74",name:"_",g:"uniform sampler2D u41;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u41,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",
i:["u41"],precision:"lowp"}]);aa.j("s74",[{type:"1i",name:"u41",value:0}]);q=new Uint8Array(4);return l=!0},start:function(h,m){w.stop();b=m;d=window.setInterval(a,h)},stop:function(){d&&(window.clearInterval(a),d=!1)}};return w}(),Wc={};ec.prototype={constructor:ec,r:1,Z:1,b:1,set:function(a){a instanceof ec?this.N(a):"number"===typeof a?pd(this,a):"string"===typeof a&&Pd(this,a);return this},$n:function(){function a(b,d,f){0>f&&(f+=1);1<f&&--f;return f<1/6?b+6*(d-b)*f:.5>f?d:f<2/3?b+6*(d-b)*(2/
3-f):b}return function(b,d,f){b=Wc.Math.Rp(b,1);d=Wc.Math.Pe(d,0,1);f=Wc.Math.Pe(f,0,1);0===d?this.r=this.Z=this.b=f:(d=.5>=f?f*(1+d):f+d-f*d,f=2*f-d,this.r=a(f,d,b+1/3),this.Z=a(f,d,b),this.b=a(f,d,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.Z,this.b)},N:function(a){this.r=a.r;this.Z=a.Z;this.b=a.b;return this},add:function(a){this.r+=a.r;this.Z+=a.Z;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.Z*=a.Z;this.b*=a.b;return this},Fa:function(a){this.r*=
a;this.Z*=a;this.b*=a;return this},rb:function(a,b){void 0===b&&(b=0);this.r=a[b];this.Z=a[b+1];this.b=a[b+2];return this}};var Qd={};Gc.prototype={constructor:Gc,get x(){return this.F},set x(a){this.F=a},get y(){return this.G},set y(a){this.G=a},get z(){return this.H},set z(a){this.H=a},get w(){return this.T},set w(a){this.T=a},set:function(a,b,d,f){this.F=a;this.G=b;this.H=d;this.T=f;return this},clone:function(){return new this.constructor(this.F,this.G,this.H,this.T)},N:function(a){this.F=a.x;
this.G=a.y;this.H=a.z;this.T=a.w;return this},inverse:function(){this.F*=-1;this.G*=-1;this.H*=-1;this.normalize();return this},qd:function(a){return this.F*a.F+this.G*a.G+this.H*a.H+this.T*a.T},Kf:function(){return this.F*this.F+this.G*this.G+this.H*this.H+this.T*this.T},length:function(){return Math.sqrt(this.F*this.F+this.G*this.G+this.H*this.H+this.T*this.T)},normalize:function(){var a=this.length();0===a?(this.H=this.G=this.F=0,this.T=1):(a=1/a,this.F*=a,this.G*=a,this.H*=a,this.T*=a);return this},
multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),qd(this,a,b)):qd(this,this,a)},rb:function(a,b){void 0===b&&(b=0);this.F=a[b];this.G=a[b+1];this.H=a[b+2];this.T=a[b+3];return this}};fc.prototype={constructor:fc,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},nj:function(a){this.x=a;
return this},oj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},N:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.dd(a,b);this.x+=a.x;this.y+=a.y;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.gb(a,b);this.x-=a.x;this.y-=a.y;return this},gb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},af:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},qd:function(a){return this.x*a.x+this.y*a.y},Kf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.af(this.length())},
rb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Xa.prototype={constructor:Xa,set:function(a,b,d){this.x=a;this.y=b;this.z=d;return this},nj:function(a){this.x=a;return this},oj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},N:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.dd(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.gb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},gb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},af:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},qd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Kf:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.af(this.length())},rb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};gc.fk="XYZ";gc.prototype={constructor:gc,get x(){return this.F},set x(a){this.F=a},get y(){return this.G},set y(a){this.G=a},get z(){return this.H},set z(a){this.H=a},get order(){return this.Ta},set order(a){this.Ta=a},set:function(a,b,d,f){this.F=
a;this.G=b;this.H=d;this.Ta=f||this.Ta;return this},clone:function(){return new this.constructor(this.F,this.G,this.H,this.Ta)},N:function(a){this.F=a.F;this.G=a.G;this.H=a.H;this.Ta=a.Ta;return this},rb:function(a){this.F=a[0];this.G=a[1];this.H=a[2];void 0!==a[3]&&(this.Ta=a[3]);return this}};Sc.prototype={constructor:Sc,set:function(a,b){this.min.N(a);this.max.N(b);return this},clone:function(){return(new this.constructor).N(this)},N:function(a){this.min.N(a.min);this.max.N(a.max);return this},
empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Xa).gb(this.max,this.min)},getParameter:function(a,b){return(b||new Xa).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};hc.prototype={constructor:hc,set:function(a,b,d,f,l,q,w,h,m,r,x,H,t,y,z,k){var g=this.elements;g[0]=a;g[4]=b;
g[8]=d;g[12]=f;g[1]=l;g[5]=q;g[9]=w;g[13]=h;g[2]=m;g[6]=r;g[10]=x;g[14]=H;g[3]=t;g[7]=y;g[11]=z;g[15]=k;return this},clone:function(){return(new hc).rb(this.elements)},N:function(a){this.elements.set(a.elements);return this},multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),sd(this,a,b)):sd(this,this,a)},Fa:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=
a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,d=a.x,f=a.y;a=a.z;b[0]*=d;b[4]*=f;b[8]*=a;b[1]*=d;b[5]*=f;b[9]*=a;b[2]*=d;b[6]*=f;b[10]*=a;b[3]*=d;b[7]*=f;b[11]*=a;return this},rb:function(a){this.elements.set(a);return this}};Tc.prototype={constructor:Tc,
clone:function(){return(new this.constructor).N(this)},N:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Ga.N(a.Ga);this.color.N(a.color);this.$b=a.$b;for(var b=0,d=a.ze.length;b<d;b++)this.ze[b]=a.ze[b].clone();b=0;for(d=a.$g.length;b<d;b++)this.$g[b]=a.$g[b].clone();return this}};var C=function(){function a(e,n,A){n=e.createShader(n);e.shaderSource(n,A);e.compileShader(n);return e.getShaderParameter(n,e.COMPILE_STATUS)?n:!1}function b(e,n){ia.na()&&(n.g=n.g.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));
n.uf=a(e,e.VERTEX_SHADER,n.v,n.name+" VERTEX");n.tf=a(e,e.FRAGMENT_SHADER,n.g,n.name+" FRAGMENT");var A=e.createProgram();e.attachShader(A,n.uf);e.attachShader(A,n.tf);e.linkProgram(A);return A}function d(e){e.v="#version 300 es\n"+e.v.replace(/varying/g,"out");e.g="#version 300 es\n"+e.g.replace(/varying/g,"in");e.v=e.v.replace(/texture2D\(/g,"texture(");e.g=e.g.replace(/texture2D\(/g,"texture(");e.fa||(e.g=e.g.replace(/void main/g,"out vec4 FragColor;\nvoid main"),e.g=e.g.replace(/gl_FragColor/g,
"FragColor"));var n=0,A=[];e.v=e.v.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(Q,B,E){var M="";E.split(",").forEach(function(u){u=u.trim();M+="layout(location = "+n+") in "+B+" "+u+";\n";A.push(u);++n});return M});e.kk=A}function f(e){return["float","sampler2D","int"].map(function(n){return"precision "+e+" "+n+";\n"}).join("")}function l(e,n){if(n.pi)return!1;var A=ia.na();W.lq||A||e.enableVertexAttribArray(0);void 0===n.fa&&(n.fa=!1);n.fa&&(n.cd=A?3:2);n.id=L++;void 0===n.cd&&
(n.cd=2);void 0===n.precision&&(n.precision=D.high);n.fa&&(n.g=(ia.na()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":"#extension GL_EXT_draw_buffers : require\n")+n.g);void 0===n.v&&(n.v="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var Q=f(n.precision);
n.g=Q+n.g;n.v=Q+n.v;A&&3<=n.cd&&d(n);n.Ia&&n.Ia.forEach(function(B){n.v=n.v.replace(B.search,B.replace);n.g=n.g.replace(B.search,B.replace)});n.qa=b(e,n);n.B={};n.i.forEach(function(B){n.B[B]=e.getUniformLocation(n.qa,B)});n.attributes={};n.xa=[];n.Zg=0;void 0===n.K&&(n.K=["a0"]);void 0===n.S&&(n.S=[2]);n.K.forEach(function(B,E){var M=A&&3<=n.cd?n.kk.indexOf(B):e.getAttribLocation(n.qa,B);n.attributes[B]=M;n.xa.push(M);n.Zg+=4*n.S[E]});n.set=function(){g!==n.id&&(-1!==g&&F.M(),g=n.id,F=n,e.useProgram(n.qa),
n.xa.forEach(function(B){0!==B&&e.enableVertexAttribArray(B)}))};n.M=function(){g=-1;n.xa.forEach(function(B){0!==B&&e.disableVertexAttribArray(B)})};n.pi=!0}function q(e,n){l(e,n);n.set();g=-1;return n}function w(){return{name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:D.high}}function h(){G.j("s107",[{type:"1i",name:"u1",value:0}]);G.j("s108",[{type:"1i",name:"u156",value:0}]);G.j("s109",[{type:"1i",name:"u75",value:0}])}function m(){var e=
"u41 u146 u147 u148 u149 u42 u80".split(" ").concat(y,z);k.s110={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",v:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u87*e;vec3 c=u87*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u81,0.,0.),u84,c);float u=mix(texture2D(u41,r).r,0.,u87);a.z+=u;mat3 v=s(a);vec3 w=mix(u146,u85,c);float x=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u83,1.,u87);vec2 j=u82/t;vec3 k=a0;float A=max(0.,-a0.z-u148)*u149;k.x+=A*sign(a0.x)*(1.-u87);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u152,u153,a0.z);}",
i:["u152","u153"].concat(e),K:["a0"],precision:D.high};k.s111={name:"_",g:"uniform sampler2D u1;uniform vec3 u150;uniform float u73,u74;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u150,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u150,b,u73),a.a*(1.-u74));gl_FragColor=c;}",v:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u87*e;vec3 c=u87*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u81,0.,0.),u84,c);float s=mix(texture2D(u41,p).r,0.,u87);a.z+=s;mat3 t=q(a);vec3 u=mix(u146,u85,c);float v=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u83,1.,u87);vec2 j=u82/r;vec3 k=a0;float y=max(0.,-a0.z-u148)*u149;k.x+=y*sign(a0.x)*(1.-u87);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u150"].concat(H,e),K:["a0","a1"],S:[3,2],precision:D.low};k.s112={name:"_",g:"uniform vec3 u150;void main(){gl_FragColor=vec4(u150,0.);}",v:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u87*e;vec3 c=u87*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u81,0.,0.),u84,c);float r=mix(texture2D(u41,o).r,0.,u87);a.z+=r;mat3 s=p(a);vec3 t=mix(u146,u85,c);float u=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u83,1.,u87);vec2 j=u82/q;vec3 k=a0;float x=max(0.,-a0.z-u148)*u149;k.x+=x*sign(a0.x)*(1.-u87);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(A,1.));}",
i:["u150"].concat(e),S:[3],precision:D.low};k.s113={name:"_",g:"uniform vec4 u13;varying vec3 vv0;varying float vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",v:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u87*e;vec3 c=u87*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u81,0.,0.),u84,c);float u=mix(texture2D(u41,r).r,0.,u87);a.z+=u;mat3 h=s(a);vec3 v=mix(u146,u85,c);float w=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u83,1.,u87);vec2 k=u82/t;vec3 l=a0;float z=max(0.,-a0.z-u148)*u149;l.x+=z*sign(a0.x)*(1.-u87);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u13","u80"].concat(e),K:["a0","a2"],precision:D.high};k.s114={name:"_",g:"uniform sampler2D u156;uniform vec4 u13;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u156,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3);gl_FragColor=vec4(a,m);}",v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 f=u87*e;vec3 c=u87*q;vec2 v=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u81,0.,0.),u84,c);float w=mix(texture2D(u41,t).r,0.,u87);a.z+=w;mat3 h=u(a);vec3 x=mix(u146,u85,c);float y=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u83,1.,u87);vec2 k=u82/v;vec3 l=a0;float B=max(0.,-a0.z-u148)*u149;l.x+=B*sign(a0.x)*(1.-u87);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u13","u80","u156"].concat(e),K:["a3","a0","a2","a1"],S:[4,3,3,2],precision:D.high};k.s115={name:"_",g:"uniform vec4 u114;uniform float u151;void main(){float b=u151;vec4 a=u114;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",v:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u87*e;vec3 c=u87*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u81,0.,0.),u84,c);float r=mix(texture2D(u41,o).r,0.,u87);a.z+=r;mat3 s=p(a);vec3 t=mix(u146,u85,c);float u=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u83,1.,u87);vec2 j=u82/q;vec3 k=a0;float x=max(0.,-a0.z-u148)*u149;k.x+=x*sign(a0.x)*(1.-u87);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(A,1.));}",
i:["u114","u151"].concat(e),precision:D.low};k.s116={name:"_",g:"uniform sampler2D u75;uniform vec4 u114,u76;uniform float u151;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u151;vec4 a=u114,d=texture2D(u75,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u76*e),c=mix(c,l,u76.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
v:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u148,u149,u155;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u87*e;vec3 c=u87*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u81,0.,0.),u84,c);float s=mix(texture2D(u41,p).r,0.,u87);a.z+=s;mat3 t=q(a);vec3 u=mix(u146,u85,c);float v=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u83,1.,u87);vec2 j=u82/r;vec3 k=a0;float y=max(0.,-a0.z-u148)*u149;k.x+=y*sign(a0.x)*(1.-u87);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u114","u151"].concat(t,e),K:["a0","a1"],S:[3,2],precision:D.low};e=["u139","u127","u140"];k.s117={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",v:"attribute vec3 a0;uniform mat4 u139,u127,u140;varying vec3 vv0;varying float vv1;void main(){vec4 a=u140*vec4(a0,1.);gl_Position=u139*u127*a,vv0=a.xyz,vv1=1.;}",i:e,precision:D.high};k.s118={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",v:"attribute vec3 a0,a2;uniform mat4 u139,u127,u140;varying vec3 vv0;varying float vv1;void main(){vec4 a=u140*vec4(a2,0.);gl_Position=u139*u127*u140*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:e,K:["a0","a2"],precision:D.high};k.s108={name:"_",g:"uniform sampler2D u156;uniform vec3 u157;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u157),c=normalize(vv2),b=texture2D(u156,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u140*vec4(a2,0.),a=u140*vec4(a0,1.);gl_Position=u139*u127*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u156","u157"].concat(e),K:["a0","a2","a1","a3"],precision:D.high};k.s107={name:"_",g:"uniform sampler2D u1;uniform vec3 u150;uniform float u73,u74;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u150,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u150,b,u73),a.a*(1.-u74));gl_FragColor=c;}",v:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u139*u127*u140*vec4(a0,1.)+f,vv0=a1;}",i:["u150"].concat(H,e),
K:["a0","a1"],Ia:[{search:"0.0005",replace:Ja.ja()?"0.0005":"0.0"}],precision:D.low};k.s119={name:"_",g:"uniform vec4 u114;uniform float u151;void main(){float b=u151;vec4 a=u114;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",v:"attribute vec3 a0;uniform mat4 u139,u127,u140;void main(){gl_Position=u139*u127*u140*vec4(a0,1.);}",i:["u114"].concat(e),precision:D.high};k.s109={name:"_",g:"uniform sampler2D u75;uniform vec4 u114,u76;uniform float u151;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u151;vec4 a=u114,d=texture2D(u75,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u76*e),c=mix(c,l,u76.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
v:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec2 vv0;void main(){gl_Position=u139*u127*u140*vec4(a0,1.),vv0=a1;}",i:["u114"].concat(t,e),K:["a0","a1"],S:[3,2],precision:D.high}}function r(){for(var e in k)l(c,k[e])}var x=!1,H=["u1","u73","u74"],t=["u75","u76"],y="u77 u78 u79 u80 u81 u82 u83".split(" "),z="u84 u85 u86 u87 u88 u89".split(" "),k={},g=-1,F=null,L=0,D={high:"highp",xq:"mediump",low:"lowp"},G={oa:function(e,n){k[e]=n;x&&l(c,k[e])},Dq:function(e,n){k[e]=n;
n.pi=!1;l(c,k[e])},zb:function(){return x},m:function(){k.s0=w();k.s75={name:"_",g:"uniform sampler2D u1;uniform vec2 u90;uniform float u91;varying vec2 vv0;void main(){vec4 a=texture2D(u1,u90*vv0);gl_FragColor=vec4(pow(a.rgb,u91*vec3(1.)),a.a);}",i:["u1","u91","u90"],precision:D.high};k.s1={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:D.low};k.s76={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(-1.,1.)*vv0+vec2(1.,0.));}",
i:["u1"],precision:D.low};k.s77={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec3 f=vec3(1.);void main(){gl_FragColor=vec4(mix(texture2D(u12,vv0).rgb,texture2D(u1,vv0).rgb,u13*f),1.);}",i:["u1","u12","u13"],precision:D.high};k.s78={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u12,vv0),texture2D(u1,vv0),u13*f);}",i:["u1","u12","u13"],precision:D.high};k.s12={name:"_",g:"uniform sampler2D u1,u92;uniform vec2 u93;uniform float u94;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 b=texture2D(u92,vv0*u93),c=texture2D(u1,vv0*u93);float a=smoothstep(u94,0.,vv0.y);a+=smoothstep(1.-u94,1.,vv0.y),gl_FragColor=mix(c,b,a*f);}",
i:["u1","u93","u92","u94"],precision:D.high};k.s80={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:D.low};k.s81={name:"_",g:"uniform sampler2D u1,u95;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u14"],precision:D.low};k.s82={name:"_",g:"uniform sampler2D u1,u95,u41;uniform vec2 u14,u96;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;float c=texture2D(u41,vec2(.5,.5)).a,d=u96.x+pow(c,2.)*(u96.y-u96.x);vec3 j=mix(b/5.,texture2D(u95,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u95","u14","u41","u96"],precision:D.low};k.s83={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u14).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u14).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u14).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u14).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u14;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u14"],precision:D.low};k.s84={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);gl_FragColor=b/5.;}",i:["u1","u14"],precision:D.low};k.RGBEtoRGB={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",
i:["u1"],precision:D.high};k.s13={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:D.high};k.s85={name:"_",g:"uniform sampler2D u1;uniform vec2 u90;uniform float u91;varying vec2 vv0;const vec3 j=vec3(0.),f=vec3(1.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0*u90).rgb,b=pow(a,u91*f);gl_FragColor=g(b);}",
i:["u1","u91","u90"],precision:D.high};k.s86={name:"_",g:"uniform sampler2D u97,u98;uniform float u99,u100;varying vec2 vv0;void main(){vec3 a=texture2D(u98,vv0).rgb,b=texture2D(u97,vv0).rgb;gl_FragColor=vec4(b*u100+u99*a,1.);}",i:["u97","u98","u99","u100"],precision:D.high};k.s87={name:"_",g:"uniform sampler2D u101,u102;uniform float u91;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u102,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u101,g).rgb,u91*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u101","u102","u91"],precision:D.low,Ia:[{search:"8888",replace:W.Fm[ia.X()]}]};k.s88={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u14).a+.110236*texture2D(u1,vv0-2.*u14).a+.220472*texture2D(u1,vv0-u14).a+.275591*a.a+.220472*texture2D(u1,vv0+u14).a+.110236*texture2D(u1,vv0+2.*u14).a+.031496*texture2D(u1,vv0+3.*u14).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u14"],precision:D.low};k.s89={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:D.low};k.s90={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u14)+.110236*texture2D(u1,vv0-2.*u14)+.220472*texture2D(u1,vv0-u14)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u14)+.110236*texture2D(u1,vv0+2.*u14)+.031496*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u1","u14"],precision:D.low};k.s91={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u14)+texture2D(u1,vv0-2.*u14)+texture2D(u1,vv0-u14)+texture2D(u1,vv0)+texture2D(u1,vv0+u14)+texture2D(u1,vv0+2.*u14)+texture2D(u1,vv0+3.*u14);gl_FragColor=a/7.;}",
i:["u1","u14"],precision:D.low};k.s92={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:D.high};k.s93={name:"_",g:"uniform sampler2D u1,u92;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u92,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u92"],precision:D.high};k.s94={name:"_",g:"uniform sampler2D u1,u92;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u92,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u92"],precision:D.high};k.s95=
{name:"_",g:"uniform sampler2D u1,u103,u2,u104;uniform vec4 u105;uniform vec2 u106;uniform float u107,u108,u109,u110;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u103,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u104,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u106*.5+h).r,l=atan(a.x,a.y),m=-(mod(u107,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u108,b),c=.5+u110*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u105*k;gl_FragColor=mix(d,o,j*u109);}",
i:"u1 u2 u104 u103 u105 u107 u108 u109 u106 u110".split(" "),precision:D.low};var e="u111 u112 u113 u114 u101 u115 u3 u116 u103 u117 u118 u119 u120 u121 u14".split(" ");W.ga_&&(k.s96={name:"_",g:"uniform sampler2D u111,u112,u113,u114,u101,u115,u122,u103;uniform vec3 u116,u119;uniform vec2 u14;uniform float u3,u123,u118,u120,u117;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u117;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u111,vv0);vec3 k=texture2D(u103,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u116;vec4 b=texture2D(u114,vv0),m=texture2D(u112,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u113,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u115,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u3));float I=acos(-s.z),J=smoothstep(u118-u120,u118+u120,I);h=mix(l(texture2D(u101,H)),u119,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u123*texture2D(u122,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:e.concat(["u122","u123"]),precision:D.high});k.s97={name:"_",g:"uniform sampler2D u111,u112,u113,u114,u101,u115,u103;uniform vec3 u116,u119;uniform vec2 u14;uniform float u3,u118,u120,u121,u124,u125,u117,u126;varying vec2 vv0;const float g=3.141592;const vec3 G=vec3(0.),l=vec3(1.),H=vec3(.299,.587,.114);const float I=2.;vec3 r(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 J(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 K(vec3 b,float c){float a=pow(2.,c),e=u117/8.;a=min(a,e);vec2 f=vec2(1.,.5)/a,h=vec2(-.5/u117,1.-1./a-.5/u117);float i=atan(b.x,b.z),j=acos(-b.y);vec2 k=vec2(.5+.5*i/g,j/g);return h+k*f;}float m(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float n(vec2 a){float b=texture2D(u111,a).a;return step(.01,b);}vec3 o(vec2 a){return texture2D(u103,vec2(1.-a.x,a.y)).rgb;}void main(){vec4 h=texture2D(u111,vv0);if(h.a<.01)gl_FragColor=vec4(o(vv0),0.);float i=h.a;vec3 L=h.rgb,M=L+u116;vec4 c=texture2D(u114,vv0),s=texture2D(u112,vv0);vec3 a=s.rgb;float j=s.a;vec4 k=texture2D(u113,vv0);vec3 e=k.rgb;if(i>1.){gl_FragColor=vec4(mix(o(vv0),e,k.a),1.);return;}e=pow(e,u124*l);float t=c.r,N=c.g,O=c.a,u=floor(c.b*255.),p=floor(u/16.),P=(u-16.*p)/16.;p/=16.,j=1.-(1.-j)*(1.-k.a);vec2 v=vv0+vec2(-1.,0.)*u14,w=vv0+vec2(1.,0.)*u14,x=vv0+vec2(0.,1.)*u14,y=vv0+vec2(0.,-1.)*u14;vec3 Q=texture2D(u112,v).rgb,R=texture2D(u112,w).rgb,S=texture2D(u112,x).rgb,T=texture2D(u112,y).rgb;float U=m(a,Q)*n(v),V=m(a,R)*n(w),W=m(a,S)*n(x),X=m(a,T)*n(y),Y=2.*max(max(U,V),max(W,X)),Z=1.2*clamp(Y/g,0.,1.),_=max(N,Z);vec2 aa=J(a);vec3 ba=r(texture2D(u115,aa)),ca=(1.-O)*ba,z=normalize(M),A=G,B=reflect(-z,a);float da=floor(_*u3);vec2 ea=K(B,da);float fa=acos(-B.z),ga_=smoothstep(u118-u120,u118+u120,fa);vec3 ha=r(texture2D(u101,ea));A=mix(ha,u119,ga_*u121);float b=t+(P-t)*pow(1.+dot(a,z),p*15.);b=clamp(b,0.,1.);vec2 C=vv0;vec3 D=refract(vec3(0.,0.,-1.),a,.666667);float ia=smoothstep(.1,.3,length(D.xy)),E=sqrt(u14.y/u14.x),ja=smoothstep(.3,.8,i);C+=ja*D.xy*vec2(1./E,E)*ia*.03;vec3 ka=e*mix(ca,A,b);float q=i*(j*(1.-b)+b);vec3 f=mix(o(C),pow(ka,l/u124),q);float F=dot(f,H),la=max(0.,(F-1.)/(I-1.));f=mix(F*l,f,mix(1.,u125,q)*l);float ma=mix(la,q,u126);gl_FragColor=vec4(f,ma);}",
i:e.concat(["u126","u124","u125"]),precision:D.high};W.ga_&&(k.s98={name:"_",g:"uniform sampler2D u111,u112;uniform mat4 u127;uniform vec2 u128,u14,u129;uniform float u130,u131,u132,u133,u134,u135,u136,u137,u123;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u129;vec4 pos=texture2D(u111,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u130),s=sin(u130);vec3 no0=texture2D(u112,uvt).rgb;float zv=(u127*vec4(co0,1.)).z;vec3 co;vec2 scale=u128/abs(zv),uv,duv=u14*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u111,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u136,u137,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u111,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u136,u137,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u14*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u111,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u136,u137,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u111,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u136,u137,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u133,u134,1.),ao=dzFactor*clamp(u132*omegaMin*u135,0.,u123);gl_FragColor=vec4(ao,ao,ao,u131);}",
i:"u111 u112 u132 u131 u130 u14 u138 u133 u134 u135 u136 u137 u127 u128 u123".split(" "),Ia:[{search:"8888.8",replace:W.Fk[ia.X()].toFixed(1)}],precision:D.low},k.s99={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);b+=texture2D(u1,a+u14*j)+texture2D(u1,a+u14*k)+texture2D(u1,a+u14*l)+texture2D(u1,a+u14*m),gl_FragColor=b/9.;}",
i:["u1","u14"],precision:D.low});k.s100={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",v:"attribute vec3 a0;uniform mat4 u139,u127,u140;varying vec3 vv0;void main(){vec4 a=u139*u127*u140*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u139","u127","u140"],precision:D.low};k.s101={name:"_",g:"uniform sampler2D u141,u115,u102;uniform mat4 u139,u142;uniform vec2 u143;uniform float u144;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u143*(z-f),0.),B=vec3(u142*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u102,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u139*u,i=h.xyz/h.w;if(texture2D(u141,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u142*vec4(g,0.)),t+=texture2D(u115,y(s));}gl_FragColor=vec4(u144*t.rgb/n,1.);}",
i:"u141 u115 u102 u139 u142 u143 u144".split(" "),Ia:[{search:"8888.8",replace:W.Ho[ia.X()].toFixed(1)},{search:"9999.9",replace:W.Io[ia.X()].toFixed(1)}],precision:D.low};k.s102={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u14)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u14);gl_FragColor=a;}",i:["u1","u14"],precision:D.low};k.s103={name:"_",g:"uniform sampler2D u1,u145;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
v:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u139,u127;varying vec2 vv0;void main(){vec4 a=u139*u127*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u139","u127","u1"],K:["a0","a1"],precision:D.low};if(ia.ca()){e="u41 u146 u147 u148 u149 u42 u114 u150 u151 u13 u152 u153 u80".split(" ").concat(y,z);ia.Ci()||(k.s104={name:"_",v:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:D.low,fa:!0});k.s105={name:"_",v:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],fa:!0};k.s106NNGLcolor={name:"_",g:"uniform vec4 u114,u13;uniform vec3 u150;uniform float u151;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u151;vec4 a=u114;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u150,0.),gl_FragData[3]=a;}",
v:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.);const vec3 r=vec3(1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,s);vec2 f=u87*e;vec3 c=u87*r;vec2 w=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,t).rgb+vec3(u81,0.,0.),u84,c);float x=mix(texture2D(u41,u).r,0.,u87);a.z+=x;mat3 h=v(a);vec3 y=mix(u146,u85,c);float z=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u83,1.,u87);vec2 k=u82/w;vec3 l=a0;float C=max(0.,-a0.z-u148)*u149;l.x+=C*sign(a0.x)*(1.-u87);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u152,u153,a0.z),vv0=m,vv3=a0.y;}",
i:e,K:["a0","a2"],S:[3,3],fa:!0};k.s106NNGLtexture={name:"_",g:"uniform sampler2D u1;uniform vec4 u114,u13;uniform vec3 u150;uniform float u151,u73,u74;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u151;vec4 b=u114;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u150,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u150,l,u73),a.a*(1.-u74));gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
v:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u87*e;vec3 c=u87*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u81,0.,0.),u84,c);float y=mix(texture2D(u41,v).r,0.,u87);a.z+=y;mat3 h=w(a);vec3 z=mix(u146,u85,c);float A=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u83,1.,u87);vec2 k=u82/x;vec3 l=a0;float D=max(0.,-a0.z-u148)*u149;l.x+=D*sign(a0.x)*(1.-u87);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u152,u153,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:e.concat(H),K:["a0","a2","a1"],S:[3,3,2],fa:!0};k.s106NNGLtextureNormalMap={name:"_",g:"uniform vec4 u114,u13;uniform vec3 u150;uniform sampler2D u1,u156;uniform float u151,u73,u74;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u156,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u151;vec4 c=u114;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u150,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u150,t,u73),a.a*(1.-u74));gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u87*e;vec3 c=u87*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u81,0.,0.),u84,c);float z=mix(texture2D(u41,w).r,0.,u87);a.z+=z;mat3 h=x(a);vec3 A=mix(u146,u85,c);float B=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u83,1.,u87);vec2 k=u82/y;vec3 l=a0;float E=max(0.,-a0.z-u148)*u149;l.x+=E*sign(a0.x)*(1.-u87);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u152,u153,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:e.concat(H,["u156"]),K:["a3","a0","a2","a1"],S:[4,3,3,2],fa:!0};k.s106NNGLtextureParamsMap={name:"_",g:"uniform sampler2D u1,u75;uniform vec4 u114,u13,u76;uniform vec3 u150;uniform float u151,u73,u74;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u151;vec4 a=u114,e=texture2D(u75,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u76*f),d=mix(d,r,u76.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u150,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u150,u,u73),c.a*(1.-u74));gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
v:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u87*e;vec3 c=u87*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u81,0.,0.),u84,c);float y=mix(texture2D(u41,v).r,0.,u87);a.z+=y;mat3 h=w(a);vec3 z=mix(u146,u85,c);float A=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u83,1.,u87);vec2 k=u82/x;vec3 l=a0;float D=max(0.,-a0.z-u148)*u149;l.x+=D*sign(a0.x)*(1.-u87);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u152,u153,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:e.concat(H,t),K:["a0","a2","a1"],S:[3,3,2],fa:!0};k.s106NNGLtextureNormalParamsMap={name:"_",g:"uniform sampler2D u1,u156,u75;uniform vec4 u114,u13,u76;uniform vec3 u150;uniform float u151,u73,u74;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u156,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u151;vec4 a=u114,f=texture2D(u75,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u76*l),e=mix(e,z,u76.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u150,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u150,C,u73),c.a*(1.-u74));gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u154;uniform float u147,u152,u153,u148,u149,u155;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u87*e;vec3 c=u87*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u81,0.,0.),u84,c);float z=mix(texture2D(u41,w).r,0.,u87);a.z+=z;mat3 h=x(a);vec3 A=mix(u146,u85,c);float B=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u83,1.,u87);vec2 k=u82/y;vec3 l=a0;float E=max(0.,-a0.z-u148)*u149;l.x+=E*sign(a0.x)*(1.-u87);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u152,u153,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:e.concat(H,["u156"],t),K:["a3","a0","a2","a1"],S:[4,3,3,2],fa:!0};e="u139 u127 u140 u114 u150 u151 u13".split(" ");k.s106color={name:"_",g:"uniform vec4 u114,u13;uniform vec3 u150;uniform float u151;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u151;vec4 a=u114;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u150,0.),gl_FragData[3]=a;}",
v:"attribute vec3 a0,a2;uniform mat4 u139,u127,u140;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u140*vec4(a0,1.),b=u140*vec4(a2,0.);gl_Position=u139*u127*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",i:e,K:["a0","a2"],fa:!0};k.s106={name:"_",g:"uniform sampler2D u1;uniform vec4 u114,u13;uniform vec3 u150;uniform float u151,u73,u74;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u151;vec4 b=u114;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u150,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u150,l,u73),a.a*(1.-u74));gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
v:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u140*vec4(a0,1.),b=u140*vec4(a2,0.);gl_Position=u139*u127*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:e.concat(H),K:["a0","a2","a1"],fa:!0};var n=["u156","u157"];k.s106NormalMap={name:"_",g:"uniform sampler2D u1,u156;uniform vec4 u114,u13;uniform vec3 u157,u150;uniform float u151,u73,u74;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u156,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u151;vec4 c=u114;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u150,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u150,t,u73),a.a*(1.-u74));gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u140*vec4(a0,1.),b=u140*vec4(a2,0.);gl_Position=u139*u127*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:e.concat(H,n),K:["a0","a2","a1","a3"],fa:!0};k.s106ParamsMap={name:"_",g:"uniform sampler2D u1,u75;uniform vec4 u114,u13,u76;uniform vec3 u150;uniform float u151,u73,u74;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u151;vec4 a=u114,e=texture2D(u75,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u76*f),d=mix(d,r,u76.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u150,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u150,u,u73),c.a*(1.-u74));gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
v:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u140*vec4(a0,1.),b=u140*vec4(a2,0.);gl_Position=u139*u127*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:e.concat(H,t),K:["a0","a2","a1"],fa:!0};k.s106NormalParamsMap={name:"_",g:"uniform sampler2D u1,u156,u75;uniform vec4 u114,u13,u76;uniform vec3 u157,u150;uniform float u151,u73,u74;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u156,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u151;vec4 a=u114,f=texture2D(u75,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u76*l),e=mix(e,z,u76.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u150,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u150,C,u73),c.a*(1.-u74));gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
v:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u139,u127,u140;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u140*vec4(a0,1.),b=u140*vec4(a2,0.);gl_Position=u139*u127*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:e.concat(H,n,t),K:["a0","a2","a1","a3"],fa:!0}}else m();r();e=[{type:"1i",name:"u1",value:0}];G.j("s0",e);G.j("s75",e);G.j("s1",e);G.j("s77",[{type:"1i",name:"u12",value:1}].concat(e));G.j("s78",[{type:"1i",
name:"u12",value:1}].concat(e));G.j("s12",[{type:"1i",name:"u92",value:1}].concat(e));G.j("s80",e);G.j("s81",e);G.j("s82",[{type:"1i",name:"u95",value:1},{type:"1i",name:"u41",value:2}].concat(e));G.j("s83",e);G.j("s84",e);G.j("s13",e);G.j("s85",e);G.j("s86",[{type:"1i",name:"u97",value:0},{type:"1i",name:"u98",value:1}]);G.j("s87",[{type:"1i",name:"u101",value:0},{type:"1i",name:"u102",value:1}]);G.j("s88",e);G.j("s89",e);G.j("s90",e);G.j("s91",e);G.j("s92",e);G.j("s93",[{type:"1i",name:"u92",value:1}].concat(e));
G.j("s94",[{type:"1i",name:"u92",value:1}].concat(e));W.ga_&&(G.j("s98",[{type:"1i",name:"u111",value:0},{type:"1i",name:"u112",value:1},{type:"1f",name:"u133",value:W.tk},{type:"1f",name:"u134",value:W.uk},{type:"1f",name:"u135",value:W.Gk},{type:"1f",name:"u136",value:W.xk},{type:"1f",name:"u137",value:W.yk},{type:"1f",name:"u132",value:1},{type:"1f",name:"u123",value:1}]),G.j("s99",e));n=[{type:"1i",name:"u111",value:0},{type:"1i",name:"u112",value:1},{type:"1i",name:"u113",value:2},{type:"1i",
name:"u101",value:3},{type:"1i",name:"u115",value:4},{type:"1i",name:"u114",value:6},{type:"1i",name:"u103",value:7},{type:"1f",name:"u121",value:0},{type:"1f",name:"u118",value:0},{type:"1f",name:"u120",value:0}];W.ga_&&G.j("s96",n.concat([{type:"1f",name:"u123",value:W.wk[ia.X()]},{type:"1i",name:"u122",value:5}]));G.j("s97",n.concat([{type:"1f",name:"u124",value:W.Rc},{type:"1f",name:"u125",value:W.jg},{type:"1f",name:"u126",value:0}]));G.j("s101",[{type:"1i",name:"u141",value:0},{type:"1i",name:"u115",
value:1},{type:"1i",name:"u102",value:2},{type:"1f",name:"u144",value:W.Go}]);G.j("s102",e);G.j("s103",e);G.j("s95",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u104",value:2},{type:"1i",name:"u103",value:3},{type:"1f",name:"u109",value:1},{type:"2f",name:"u106",value:[0,0]}].concat(e));ia.ca()?(G.j("s106",e),G.j("s106NormalMap",[{type:"1i",name:"u156",value:1}].concat(e)),G.j("s106ParamsMap",[{type:"1i",name:"u75",value:1}].concat(e)),G.j("s106NormalParamsMap",[{type:"1i",name:"u156",value:1},
{type:"1i",name:"u75",value:2}].concat(e))):h();x=!0},to:function(){m();r();h()},Ad:function(){return F.id},Cd:function(){return y},Dd:function(){return z},set:function(e){Cb.Cj(G);k[e].set()},Eb:function(e){return q(e,w())},he:function(e){return q(e,{name:"_",g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:D.high})},wo:function(e){return q(e,{name:"_",g:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:D.high,
fa:!0})},M:function(){-1!==g&&F.M()},je:function(){var e=0;F.xa.forEach(function(n,A){A=F.S[A];c.vertexAttribPointer(n,A,c.FLOAT,!1,F.Zg,e);e+=4*A})},fc:function(){G.hc(c)},hc:function(e){e.vertexAttribPointer(F.xa[0],2,e.FLOAT,!1,8,0)},Hq:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,12,0)},Sa:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,32,0)},bb:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,24,0)},uj:function(){c.vertexAttribPointer(F.attributes.a2,
3,c.FLOAT,!1,32,12)},vj:function(){c.vertexAttribPointer(F.attributes.a2,3,c.FLOAT,!1,24,12)},Uc:function(){c.vertexAttribPointer(F.attributes.a1,2,c.FLOAT,!1,32,24)},Iq:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(F.attributes.a1,2,c.FLOAT,!1,20,12)},ho:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(F.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(F.attributes.a1,2,c.FLOAT,!1,32,24)},io:function(){c.vertexAttribPointer(F.attributes.a0,
3,c.FLOAT,!1,32,0);c.vertexAttribPointer(F.attributes.a2,3,c.FLOAT,!1,32,12)},jo:function(){c.vertexAttribPointer(F.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(F.attributes.a2,3,c.FLOAT,!1,24,12)},fe:function(){c.vertexAttribPointer(F.attributes.a3,4,c.FLOAT,!1,16,0)},ie:function(e,n){c.uniform1i(F.B[e],n)},C:function(e,n){c.uniform1f(F.B[e],n)},O:function(e,n,A){c.uniform2f(F.B[e],n,A)},Bg:function(e,n){c.uniform2fv(F.B[e],n)},Cg:function(e,n,A,Q){c.uniform3f(F.B[e],n,A,Q)},Dg:function(e,
n){c.uniform3fv(F.B[e],n)},Ba:function(e,n){c.uniform4fv(F.B[e],n)},Ao:function(e,n){c.uniformMatrix2fv(F.B[e],!1,n)},Bo:function(e,n){c.uniformMatrix3fv(F.B[e],!1,n)},Vc:function(e,n){c.uniformMatrix4fv(F.B[e],!1,n)},j:function(e,n){G.set(e);n.forEach(function(A){switch(A.type){case "4f":c.uniform4fv(F.B[A.name],A.value);break;case "3f":c.uniform3fv(F.B[A.name],A.value);break;case "2f":c.uniform2fv(F.B[A.name],A.value);break;case "1f":c.uniform1f(F.B[A.name],A.value);break;case "1i":c.uniform1i(F.B[A.name],
A.value);break;case "mat2":c.uniformMatrix2fv(F.B[A.name],!1,A.value);break;case "mat4":c.uniformMatrix4fv(F.B[A.name],!1,A.value)}})},I:function(){for(var e in k){var n=k[e];c.detachShader(n.qa,n.uf);c.detachShader(n.qa,n.tf);c.deleteShader(n.uf);c.deleteShader(n.tf);c.deleteProgram(n.qa)}},A:function(){c.disableVertexAttribArray(0);G.M();G.I();L=0;x=!1;F=null;g=-1}};return G}(),Za=function(){var a={},b=[],d=!1,f=0,l=0,q=-1,w=-1,h=1,m=null,r=!1,x=null,H=!1,t=!1,y=!1,z=!1,k=!1,g=!1,F=-1,L=-1,D=!1,
G=!1,e=null,n=null,A=-1,Q=-1,B=null,E=-1,M,u=null,v=null,P=null,Y=null,U=null,fa=null,N=null,sa=[{type:"1f",name:"u87",value:0},{type:"1f",name:"u152",value:0},{type:"1f",name:"u153",value:0},{type:"1f",name:"u82",value:1},{type:"1f",name:"u78",value:0},{type:"1f",name:"u79",value:0},{type:"1f",name:"u89",value:1}],za={m:function(J,p){a.Fg=J;ia.Vg();Xc.ef();Xb.ef(J.Be);q=J.hf;w=J.np;h=J.Ae;F=J.$f;L=J.ag;var O=[{type:"1f",name:"u82",value:q},{type:"1f",name:"u78",value:F},{type:"1f",name:"u79",value:L},
{type:"1f",name:"u83",value:J.Yn},{type:"mat4",name:"u77",value:J.Cn},{type:"2f",name:"u42",value:J.ek}];J.Tg=O;var ba=[{type:"3f",name:"u84",value:[0,0,0]},{type:"3f",name:"u85",value:J.dh},{type:"3f",name:"u86",value:J.bh},{type:"1f",name:"u87",value:0},{type:"1f",name:"u88",value:J.Be},{type:"1f",name:"u89",value:1}];J.Vj=ba;za.Bm(J,p);d||void 0!==J.Ha||(J.Ha=[0,0,120]);G=D=I.vf;if(!d&&D){p=1*ia.vb();var la=1*ia.ub(),ha={isLinear:!0,isPot:!1,width:p,height:la};e=ca.instance(ha);n=ca.instance(ha);
A=1/p;Q=1/la}O=[{type:"1i",name:"u41",value:1},{type:"3f",name:"u80",value:J.Ha},{type:"1f",name:"u148",value:J.gd},{type:"1f",name:"u149",value:J.Mb}].concat(O,ba);m=J.Oc;ba=[{type:"1f",name:"u152",value:m[0]},{type:"1f",name:"u153",value:m[1]}];ia.ca()?(p=[{type:"1i",name:"u1",value:0}],la=[{type:"1i",name:"u156",value:2}],C.j("s106NNGLcolor",O.concat(ba)),C.j("s106NNGLtexture",[].concat(p,O,ba)),C.j("s106NNGLtextureNormalMap",[].concat(p,la,O,ba)),C.j("s106NNGLtextureParamsMap",[{type:"1i",name:"u75",
value:2}].concat(p,O,ba)),C.j("s106NNGLtextureNormalParamsMap",[{type:"1i",name:"u75",value:3}].concat(p,la,O,ba))):(C.j("s110",O.concat(ba)),C.j("s111",[{type:"1i",name:"u1",value:0}].concat(O)),C.j("s112",O),C.j("s113",O),C.j("s114",O.concat([{type:"1i",name:"u156",value:0}])),C.j("s115",O),C.j("s116",O.concat([{type:"1i",name:"u75",value:0}])));C.j("s82",[{type:"2f",name:"u96",value:J.Mg}]);C.j(W.ga_?"s96":"s97",[{type:"1f",name:"u118",value:J.Ie},{type:"3f",name:"u119",value:J.pg},{type:"1f",
name:"u120",value:J.Ve},{type:"1f",name:"u121",value:1},{type:"3f",name:"u116",value:J.jk}]);if(M=J.Sd)B=J.bn,E=J.Td,C.j("s95",[{type:"4f",name:"u105",value:J.Rd},{type:"1f",name:"u108",value:J.Qf},{type:"2f",name:"u106",value:J.an},{type:"1f",name:"u110",value:Math.sign(E)}]);b.forEach(function(xa){xa.pj(J)});d=!0},dc:function(J){t&&ya.ia.dc(J);z&&ya.ua.dc(J)},Bm:function(J,p){void 0!==ya.ia&&J.jc&&ia.ca()&&(ya.ia.m(J),H=!0,p.push(function(O){ya.ia.dc(O);t=!y}));void 0!==ya.ua&&J.od&&(ya.ua.m(J),
p.push(function(O){ya.ua.dc(O);z=!0}));void 0!==ya.rc&&J.Le&&(ya.rc.m(J),g=k=!0);void 0!==ya.mb&&(ya.mb.m(J),x=ya.mb.Dm({width:J.Gc,height:2*J.Gc,depth:1.5*J.Gc,Gl:-J.zf,Wa:J.xf,kl:J.yf}),r=!0)},yo:function(J,p,O,ba){J&&(N=J,H&&ya.ia.ec(J),z&&ya.ua.ec(J),k&&ya.rc.ec(J),b.forEach(function(la){la.ec(J)}));O&&(Y=O);ba&&(U=ba)},Fb:function(J){ia.ca()?(C.j("s106NNGLcolor",J),C.j("s106NNGLtexture",J),C.j("s106NNGLtextureNormalMap",J),C.j("s106NNGLtextureParamsMap",J),C.j("s106NNGLtextureNormalParamsMap",
J)):(C.j("s110",J),C.j("s111",J),C.j("s112",J),C.j("s113",J),C.j("s114",J),C.j("s115",J),C.j("s116",J))},eb:function(J,p,O){var ba=[J[0]+p[0],J[1]+p[1],J[2]+p[2]];ba=[ba[0]+O[0],ba[1]+O[1],ba[2]+O[2]];a.ce=ba;a.ln=p;a.$o=O;za.Fb([{type:"3f",name:"u146",value:ba}]);ia.ca()&&(H&&ya.ia.eb(J,p,O),z&&ya.ua.eb(ba));r&&ya.mb.eb(J,O)},fb:function(J,p,O){var ba=J*p*O;a.mn=p;a.ap=O;a.vm=J;za.Fb([{type:"1f",name:"u147",value:ba}]);ia.ca()&&(H&&ya.ia.fb(J*p,O),z&&ya.ua.fb(ba));r&&ya.mb.fb(J,O)},jj:function(){za.eb(a.ce,
a.ln,a.$o);za.fb(a.vm,a.mn,a.ap);za.Aj(a.rx);za.m(a.Fg);za.wj(a.Ok,a.Mb)},Aj:function(J){a.rx=J;za.Fb([{type:"1f",name:"u81",value:J}]);ia.ca()&&(H&&ya.ia.zg(J),z&&ya.ua.zg(J))},wj:function(J,p){a.Ok=J;a.Mb=p;za.Fb([{type:"1f",name:"u148",value:J},{type:"1f",name:"u149",value:p}])},qo:function(J){m=J;0===f&&za.Fb([{type:"1f",name:"u152",value:m[0]},{type:"1f",name:"u153",value:m[1]}])},cb:function(J){function p(){r&&ya.mb.toggle(!1);M&&C.j("s95",[{type:"1f",name:"u109",value:0}])}0>=J?(l=0,0!==f&&
(f=0,Xb.Sn(),r&&ya.mb.toggle(!0),M&&C.j("s95",[{type:"1f",name:"u109",value:1}]))):1<=J?(l=1,1!==f&&(f=1,Xb.Ij(!0)),p()):(l=J,2!==f&&(Xb.Ij(!1),f=2,p()));C.j("s97",[{type:"1f",name:"u121",value:1-J}]);var O=1-J;sa[0].value=l;sa[1].value=m[0]*O+-300*J;sa[2].value=m[1]*O+-300*J;sa[3].value=q*O+J*w;sa[4].value=F*O;sa[5].value=L*O;sa[6].value=O+J*h;t&&ya.ia.Ag(l,sa);z&&ya.ua.Ag(l,sa);za.Fb(sa)},Dl:function(J){N.h(1);J.forEach(function(p){p.yl()});r&&x.W()},Vm:function(){return 1===f},Je:function(J){N.ya(J)},
mk:function(J){b.push(J)},Kg:function(J){y=!J;t=J&&H},Jg:function(J){g=J&&k},vg:function(J){z&&ia.ca()&&ya.ua.Co(J)},Gb:function(J){ia.ca()&&(H&&ya.ia.Gb(J),z&&ya.ua.Gb(J))},Al:function(J,p){if(!G)return!1;e.J();J.h(0);C.set("s88");C.O("u14",0,Q);X.l(!1,!1);n.u();e.h(0);C.O("u14",A,0);X.l(!1,!1);C.set("s89");p.J();n.h(0);X.l(!1,!1);return!0},Hj:function(J){G=J&&D},resize:function(J,p,O){D&&(J*=O,p*=O,e.resize(J,p),n.resize(J,p),A=1/J,Q=1/p)},tg:function(J,p){var O=J.P(),ba=J.$(),la={width:O,height:ba,
isPot:!1};H&&(P&&P.remove(),P=ca.instance(la));u&&u.remove();u=Fa.instance({width:O,height:ba});k||z?(ya.rc.ug(O,ba),v&&v.remove(),v=ca.instance(la)):v=J;H&&ya.ia.ug(O,ba);p&&(fa&&fa.remove(),fa=ca.instance(la))},wl:function(J){var p=null;switch(f){case 0:p=J;break;case 2:u.bind(!1,!0);fa.u();C.set("s77");C.C("u13",l);J.h(1);U.h(0);X.l(!0,!0);p=fa;break;case 1:p=U}if(!t||1===f||!ia.ca())return p;p.ya(0);g&&ya.rc.W(p,v);u.bind(!1,!g);z&&(g?p.h(0):(v.u(),C.set("s1"),X.l(!0,!0)),ya.ua.W());v.h(0);Y.ya(2);
ya.ia.W();P.u();C.set("s1");g||z?v.h(0):p.h(0);X.l(!0,!W.ga_);ya.ia.add();return P},nk:function(J,p){if(!t)return J;Y.ya(2);ya.ia.W();Fa.ba();C.set("s76");p.J();ya.ia.om().h(0);X.l(!0,!0);C.set("s1");c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);J.h(0);X.l(!1,!1);c.disable(c.BLEND);return p},Bl:function(J,p){if(!M)return!1;C.set("s95");C.C("u107",J*E);B.h(1);Za.Je(2);v?v.h(3):p.h(3);return!0},A:function(){d=!1;l=f=0;w=q=-1;h=1;m=null;L=F=-1;r=!1;x=null;g=k=z=y=t=H=!1;ya.ia.A();ya.La.A()}};
return za}(),Ba=function(){function a(){h.forEach(function(p){p.El(v)})}function b(){h.forEach(function(p){p.sd(v)})}function d(){h.forEach(function(p){p.Cl(v)})}function f(){h.forEach(function(p){p.td(v)})}function l(){v?Za.Dl(h):h.forEach(function(p){p.zl()})}function q(){E&&clearTimeout(E);E=setTimeout(function(){e=!1;E=null},16)}function w(p){p()}var h=[],m=[],r={ha:!1,position:!1,Cb:!1},x=[],H=[],t=null,y=0,z=null,k=null,g=null,F=null,L=!1,D=!1,G=!1,e=!1,n=!1,A=!1,Q=null,B=null,E=null,M=null,
u=!1,v=!1,P=!1,Y=!1,U=!0,fa=!1,N=!1,sa=null,za=null,J={m:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);W.il?(c.enable(c.CULL_FACE),c.frontFace("CCW"===W.jl?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);J.xh();var p={isPot:!1,isLinear:!1,width:ia.vb(),height:ia.ub(),L:4,isFloat:!1};z=ca.instance(p);p=Object.assign({},p,{isLinear:!0,width:ia.P(),height:ia.$()});k=ca.instance(p);g=ca.instance(p);W.Qa&&(p=Object.assign({},p,{isLinear:!1}),F=ca.instance(p));A=Ja.ja();
W.Qa||(t=qc.instance({Lb:W.Lb,wc:W.wc,xc:W.xc,vc:W.vc}));L=!0},xh:function(){ia.ca()?r=tc.instance({}):(r.ha=Jb.instance({ic:W.Qa?!1:"s107",isFloat:!1,Vb:!0,clearColor:[0,0,0,0],L:4}),r.position=Jb.instance({ic:W.Qa?!1:"s117",isFloat:!0,Vb:!0,clearColor:[0,0,0,0],L:4}),r.Cb=Jb.instance({ic:!1,isFloat:!0,Vb:!0,clearColor:[0,0,0,0],L:4}),r.Pc=Jb.instance({ic:!1,isFloat:!1,Vb:!0,clearColor:[0,0,0,0],L:4}))},dm:function(){return t},ra:function(p){t=p},Zq:function(){},Gb:function(p){Za.Gb(p)},pj:function(p){Za.m(p,
x);ia.ca()||(r.ha.Bj(!1),r.position.Bj("s110"));v=Y=!0},Fq:function(){Za.jj()},up:function(p){Za.mk(p)},co:function(p,O,ba){Za.eb(p,O,ba)},eo:function(p,O,ba){Za.fb(p,O,ba)},ao:function(p,O){Za.wj(p,O)},bo:function(p){Za.qo(p)},fo:function(p){Za.Aj(p)},cb:function(p){Za.cb(p)},qj:function(p,O,ba,la){Za.yo(p,O,ba,la);O&&J.tg(O,la?!0:!1);P=!0},Kg:function(p){Za.Kg(p)},vg:function(p){Za.vg(p)},Jg:function(p){Za.Jg(p)},Hj:function(p){Za.Hj(p)},vp:function(p){u&&(N=!0,sa&&sa.remove(),sa=ca.instance({width:M.P(),
height:M.$(),isPot:!1}),za=p)},tg:function(p,O){M="string"===typeof p?ca.instance({url:p,isFloat:!1}):p;v&&Za.tg(M,O);u=!0},lk:function(p){h.push(p);0!==x.length&&(x.forEach(function(O){O(p)}),x.splice(0,x.length))},Nn:function(p){p=h.indexOf(p);-1!==p&&h.splice(p,1)},wp:function(p){m.push(p)},Cq:function(p){p=m.indexOf(p);-1!==p&&m.splice(p,1)},oe:function(p){v&&(D=p)},animate:function(p){!W.Qa||v&&P?D&&(e||y>W.nn&&n?(Q&&clearTimeout(Q),++y,window.cancelAnimationFrame(J.animate),Q=setTimeout(function(){window.requestAnimationFrame(J.animate)},
16)):(J.ej(p),++y,v||D&&window.requestAnimationFrame(J.animate))):setTimeout(J.animate,100)},yp:function(p){H.push(p)},ej:function(p){if((!W.Qa||v&&P)&&L){H.forEach(w);ia.ca()?r.set()||ia.na()?(v||Nc.Pn(),l(),r.M(),A&&c.depthMask(!1)):(ia.Qo(),J.xh(),Jb.ed(),C.to(),W.Qa&&Za.jj(),c.flush(),window.requestAnimationFrame(J.animate)):(v&&Za.Je(1),r.ha.set(!0,!0,!0),b(),r.ha.M(),A&&c.depthMask(!1),r.Pc.set(!1,!A,!1),d(),r.Pc.M(),r.position.set(!0,!A,!1),yb.W(),a(),r.position.M(),r.Cb.set(!1,!A,!1),f(),
r.Cb.M());c.disable(c.DEPTH_TEST);A||c.depthMask(!1);W.ga_&&Kb.W();var O=J.Vh();if(null!==O){O.h(7);C.set(W.ga_?"s96":"s97");C.O("u14",1/ia.vb(),1/ia.ub());Jb.Pk();z.J();fa?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),C.C("u126",1)):c.disable(c.BLEND);v||yb.df();r.position.h(0);r.Cb.h(1);r.ha.h(2);t.hd(3);r.Pc.h(6);t.jd(4);t.Ch();W.ga_&&Kb.h(5);X.l(!0,!0);fa&&C.C("u126",0);Fa.ba();if(fa){c.disable(c.BLEND);var ba=Za.nk(z,k);C.set("s84");
g.J();ba.h(0);X.l(!1,!1);k.u();g.h(0);X.l(!1,!1);k.h(0)}else Za.Al(z,k)||(C.set("s1"),k.J(),z.h(0),X.l(!1,!1)),U?(C.set("s83"),g.J(),k.h(0),X.l(!1,!1),k.u(),g.h(0),Y&&v?(C.set("s82"),F.h(1),Za.Je(2),X.l(!1,!1),C.set("s1"),F.J(),k.h(0),X.l(!1,!1)):(C.set("s81"),X.l(!1,!1),k.h(0))):k.h(0);Fa.aa();c.viewport(0,0,ia.P(),ia.$());!fa&&v&&Za.Bl(p,O)||C.set("s1");X.l(!1,!1);c.enable(c.DEPTH_TEST);c.depthMask(!0);c.flush()}}},Vh:function(){if(!u||fa)return ca.ii();if(!v)return M;if(N&&!Za.Vm()){C.set(za);
Fa.ba();sa.Wc();sa.u();M.h(0);var p=sa;X.l(!0,!0)}else p=M;return Za.wl(p)},Vq:function(){W.nl||D||(D=!0,J.animate(Date.now()),G||Ic.Lo(),G||Xb.ib(!1),B&&clearTimeout(B),W.ga_&&Kb.ge(),B=setTimeout(J.va,W.Lk),G||ia.xm(),G=!0)},Wq:function(){D&&(n=D=!1,cancelAnimationFrame(J.animate))},va:function(){n||!G||e||W.zh||(n=e=!0,B&&clearTimeout(B),E&&clearTimeout(E),yb.lf().gj(),B=setTimeout(function(){ia.Xg(W.tn);W.ga_&&Kb.Wj();y=0;q()},24))},wake:function(){n&&G&&!e&&(e=!0,n=!1,y=0,yb.lf().gj(),B&&clearTimeout(B),
E&&clearTimeout(E),B=setTimeout(function(){ia.Xg(1);W.ga_&&Kb.ge();q()},16))},hq:function(){},Np:function(){},me:function(p){Y=p},Yq:function(p){U=p},Jj:function(p){fa=p},cr:function(){C.j("s97",[{type:"1f",name:"u124",value:W.Rc},{type:"1f",name:"u125",value:W.jg}])},resize:function(p,O,ba){z.resize(p*ba,O*ba);k.resize(p,O);g.resize(p,O);W.Qa&&F.resize(p,O);Za.resize(p,O,ba);p=[{type:"2f",name:"u14",value:[1/p,1/O]}];C.j("s83",p);C.j("s81",p);C.j("s84",p)},I:function(){Q&&clearTimeout(Q);B&&clearTimeout(B);
E&&clearTimeout(E);h.concat(m).forEach(function(p){p.I()});h.splice(0,h.length);m.splice(0,m.length);r.ha.remove();r.Cb.remove();r.Pc.remove();r.position.remove();z.remove();k.remove();g.remove();F&&F.remove();e=!0},A:function(){J.I();A=n=e=G=D=v=P=e=!1}};return J}(),ya={},ia=function(){function a(){Jb.resize(d*m,f*m);z.ca()&&tc.resize(d*m,f*m);Ba.resize(d,f,m);W.ga_&&Kb.resize(d*m,f*m,m);z.Vg()}var b=null,d=0,f=0,l=-1,q=!1,w={qe:!1,Ng:!1,Tj:!1,Gg:!1,drawBuffers:!1,Om:!1,zi:!1,Qm:!1,Gf:!1,$a:!1},
h=Object.assign({},w),m=1,r=!1,x=!1,H=!1,t=!1,y=!1,z={m:function(k){void 0!==k.onload&&k.onload&&(x=k.onload);void 0===k.expand&&(k.expand=!1);void 0===k.Id&&(k.Id=!1);void 0===k.sa&&(k.sa=!1);void 0===k.Rb&&(k.Rb=!1);void 0===k.alpha&&(k.alpha=!1);void 0===k.preserveDrawingBuffer&&(k.preserveDrawingBuffer=!1);k.Id&&(q=!0);b=k.sa?k.sa:document.getElementById(k.cl);k.expand&&z.expand();try{c=k.Rb?k.Rb.Ql():b.getContext("webgl",{antialias:!1,alpha:k.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:k.preserveDrawingBuffer});
window.gk||(window.gk=c);t=k.Rb?k.Rb.na():!1;H=!t;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&z.pd("too few texture image units");if(!Ja.m())return z.pd("invalid config");W.Xo&&(h.Ng=c.getExtension("EXT_texture_filter_anisotropic"),h.Ng&&(h.zi=!0));W.Yo&&(h.qe=c.getExtension("WEBGL_compressed_texture_s3tc"),h.qe&&void 0!==h.qe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&h.qe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(h.Om=!0));H&&(h.Tj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||
c.getExtension("WEBKIT_OES_element_index_uint"),h.Tj&&(h.Qm=!0));!t&&W.Zo&&(h.Gg=c.getExtension("EXT_sRGB"),h.Gg&&(h.Gf=!0));H?(h.drawBuffers=c.getExtension("WEBGL_draw_buffers"),h.drawBuffers&&!W.yh&&(h.$a=!0)):h.$a=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(h.$a){var g=z.pl();h.$a=h.$a&&g}}catch(F){return z.pd(F)}if(null===c||!c)return z.pd("NO_GL");k.expand&&window.addEventListener("resize",z.expand,!1);b.addEventListener("contextmenu",function(F){F.preventDefault();return!1},!1);d=b.width;f=b.height;
z.Cf();return!0},Cf:function(){l=q?3:2;Ja.ja()||(l=Math.min(l,1));Ja.Zk()||(l=Math.min(l,0));Xc.m();Jb.m();for(var k in ya)ya[k].Sc();C.m();yb.m();Xb.m();Ba.m();Ic.m();W.ga_&&Kb.m();z.Vg();z.rl();r=!0;x&&x();return!0},rl:function(){if(h.$a){var k=tc.instance({width:256,height:1});k.bind();c.viewport(0,0,256,1);C.set("s105");C.Ba("color",[1,0,0,1]);X.l(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);Fa.aa();C.set("s1");k.Cb.h(0);X.l(!1,!1);k=new Uint8Array(1024);c.readPixels(0,
0,256,1,c.RGBA,c.UNSIGNED_BYTE,k);y=1>=k[1020]}},pl:function(){var k=tc.instance({width:1,height:1});if(!k.set())return k.remove(),!1;C.wo(c);X.Qb(c);c.bindFramebuffer(c.FRAMEBUFFER,null);C.Eb(c);k.ha.ya(0);X.Qb(c);var g=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,g);k.remove();return 3<Math.abs(g[0]-127)?!1:!0},na:function(){return t},P:function(){return d},$:function(){return f},vb:function(){return m*z.P()},ub:function(){return m*z.$()},Rl:function(){return d/f},X:function(){return l},
pq:function(){return 3===l},zb:function(){return r},Ci:function(){return y},ca:function(){return h.$a},Qo:function(){h.$a=!1},sq:function(){return!1},al:function(){return 0<z.X()},Ep:function(){return z.ca()&&0<z.X()},kf:function(k){var g=c,F="";t||(g=h.drawBuffers,F="_WEBGL");return[g["COLOR_ATTACHMENT0"+F],g["COLOR_ATTACHMENT1"+F],g["COLOR_ATTACHMENT2"+F],g["COLOR_ATTACHMENT3"+F]].splice(0,k)},zd:function(k){return z.kf(4)[k]},sm:function(){return t?c.SRGB?c.SRGB:c.RGBA:h.Gf?h.Gg.SRGB_ALPHA_EXT:
c.RGBA},Rm:function(){return h.zi},Wl:function(){return h.Ng},en:function(k){z.na()?c.drawBuffers(z.kf(k)):h.drawBuffers.drawBuffersWEBGL(z.kf(k))},expand:function(){Ba.wake();z.resize(window.innerWidth,window.innerHeight);Ba.va()},resize:function(k,g){!b||k===d&&g===f||(d=k,f=g,b.width=d,b.height=f,r&&(yb.resize(),a()))},Vg:function(){var k=[{type:"2f",name:"u14",value:[1/ia.vb(),1/ia.ub()]}];C.j("s83",k);C.j("s81",k)},Xg:function(k){m=k;a()},Ma:function(k,g){b.addEventListener(k,g,!1)},pd:function(){l=
-1;return!1},sh:function(){return 0<=l},vq:function(){},Gq:function(){},Tq:function(){var k=document.getElementById("loading");k&&(k.style.display="block")},xm:function(){var k=document.getElementById("loading");k&&(k.style.display="none")},I:function(){z.sh()&&(ca.Uj(),Ba.I(),X.I(),Jb.I(),W.ga_&&Kb.I(),qc.I(),Ic.I(),C.I(),ca.I(),c.flush(),c=null)},A:function(){Ba.A();Za.A();C.A();tc.A();Jb.A();Object.assign(h,w);r=H=!1}};return z}(),yb=function(){var a=!1,b=!1,d=[];return{m:function(){},instance:function(f){void 0===
f.hj&&(f.hj=!0);void 0===f.Ee&&(f.Ee=.1);void 0===f.De&&(f.De=100);void 0===f.direction&&(f.direction=[0,0,-1]);void 0===f.Uh&&(f.Uh=45);var l=new hc,q=new Xa(50,-50,-400),w=null;l.setPosition(q);var h=new Int8Array(20),m=new Int8Array(20),r=0,x=0,H=0,t=0,y={W:function(){m[C.Ad()]||(C.Vc("u127",l.elements),m[C.Ad()]=1);h[C.Ad()]||(C.Vc("u139",w),h[C.Ad()]=1)},cf:function(){x||(C.Vc("u127",l.elements),x=1);r||(C.O("u128",w[0],w[5]),r=1)},df:function(){H||(C.Cg("u116",q.x,q.y,q.z),H=1)},Nb:function(){t||
(C.Cg("u157",q.x,q.y,q.z),t=1)},uh:function(){var z=f.Ee,k=f.De,g=Math.tan(.5*f.Uh*Math.PI/180);w=[.5/g,0,0,0,0,.5*ia.Rl()/g,0,0,0,0,-(k+z)/(k-z),-1,0,0,-2*k*z/(k-z),0];for(z=0;20>z;++z)h[z]=0;r=0},ro:function(z,k){q.nj(k[0]).oj(k[1]).z=k[2];l.elements.set(z);for(z=0;20>z;++z)m[z]=0;t=H=x=0},gj:function(){for(var z=t=H=0;20>z;++z)m[z]=0}};y.uh();a=y;b=!0;f.hj&&d.push(y);return y},W:function(){b&&a.W()},cf:function(){b&&a.cf()},df:function(){b&&a.df()},Nb:function(){b&&a.Nb()},resize:function(){d.forEach(function(f){f.uh()})},
lf:function(){return a}}}(),Jb=function(){var a=[],b=null;return{m:function(){b=Fa.instance({width:ia.vb(),height:ia.ub(),Hc:!ia.ca()})},instance:function(d){void 0===d.width&&(d.width=ia.vb());void 0===d.height&&(d.height=ia.ub());void 0===d.isFloat&&(d.isFloat=!1);void 0===d.Vb&&(d.Vb=!1);void 0===d.clearColor&&(d.clearColor=[0,0,0,0]);void 0===d.L&&(d.L=4);var f=ca.instance({isFloat:d.isFloat&&Ja.ja(),U:d.isFloat,width:d.width,height:d.height,isPot:!1,isLinear:!1,L:d.L}),l=void 0!==d.ic&&d.ic?
!0:!1,q=d.ic,w={set:function(h,m,r){r&&b.bind(!1,r);f.u();h&&(c.clearColor(d.clearColor[0],d.clearColor[1],d.clearColor[2],d.clearColor[3]),b.Qe());m&&b.th();l&&C.set(q)},Bj:function(h){l=(q=h)?!0:!1},M:function(){f.se()},h:function(h){f.h(h)},resize:function(h,m){f.resize(h,m)},debug:function(){f.debug()},remove:function(){f.remove()}};d.Vb&&a.push(w);return w},resize:function(d,f){b.resize(d,f);a.forEach(function(l){l.resize(d,f)})},Pk:function(){b.mh()},ed:function(){b.ed()},Wc:function(){b.Wc()},
Hp:function(){b.th()},Gp:function(){b.Qe()},Fp:function(){b.clear()},I:function(){b.remove()},A:function(){b.remove();a.forEach(function(d){d.remove()});a.splice(0)}}}(),tc=function(){var a=[];return{instance:function(b){void 0===b.width&&(b.width=ia.vb());void 0===b.height&&(b.height=ia.ub());var d=c.createFramebuffer(),f=b.width,l=b.height,q=!0;b={isFloat:Ja.ja(),U:!0,width:f,height:l,isPot:!1,isLinear:!1,L:4};var w=ca.instance(b),h=ca.instance(b),m=ca.instance(b),r=ca.instance(b),x=Fa.Xl(),H=Fa.$h();
c.bindFramebuffer(x,d);var t=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,t);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,f,l);c.framebufferRenderbuffer(x,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,t);c.clearDepth(1);c.framebufferTexture2D(x,ia.zd(0),c.TEXTURE_2D,w.get(),0);c.framebufferTexture2D(x,ia.zd(1),c.TEXTURE_2D,h.get(),0);c.framebufferTexture2D(x,ia.zd(2),c.TEXTURE_2D,r.get(),0);c.framebufferTexture2D(x,ia.zd(3),c.TEXTURE_2D,m.get(),0);ia.en(4);c.bindFramebuffer(x,null);Fa.reset();
var y={position:w,Cb:h,Pc:m,ha:r,bind:function(){c.bindFramebuffer(x,d);Fa.reset()},set:function(){q&&c.checkFramebufferStatus(H);c.bindFramebuffer(x,d);Fa.reset();if(q){if(c.checkFramebufferStatus(H)!==c.FRAMEBUFFER_COMPLETE)return!1;q=!1}c.viewport(0,0,f,l);c.clearColor(0,0,0,0);C.zb()&&!ia.Ci()&&(C.set("s104"),X.l(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},M:function(){},resize:function(z,k){f=z;l=k;w.resize(z,k);h.resize(z,k);r.resize(z,k);m.resize(z,k);c.bindRenderbuffer(c.RENDERBUFFER,
t);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,f,l);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){w.remove();h.remove();r.remove();m.remove();c.deleteRenderbuffer(t);c.deleteFramebuffer(d);var z=a.indexOf(y);-1!==z&&a.splice(z,1)}};a.push(y);return y},resize:function(b,d){a.forEach(function(f){f.resize(b,d)})},A:function(){a.forEach(function(b){b.remove()});a.splice(0)}}}(),qc=function(){var a=[],b=W.kh;return{instance:function(d){function f(){m?l():(r=fe.instance({V:t.pb,
Nm:b}),h=W.Mk[ia.X()],t.yb=ca.instance({isFloat:Ja.ja(),U:!0,isPot:!0,isLinear:!1,isMirrorY:!0,width:h,height:h/2,L:3}),t.Jd=ca.instance({isFloat:Ja.ja(),U:!0,isPot:!0,isLinear:!1,isMirrorY:!0,width:h,height:h/2,L:3}),t.Qd=ca.instance({isFloat:Ja.ja(),U:!0,isPot:!0,width:1,height:h/2,L:3}),t.Kd=ca.instance({isFloat:Ja.ja()&&!b,U:!b,isPot:!1,isLinear:!0,isMirrorY:!0,isMipmap:!1,width:h,height:h/2,L:b?4:3}),m=!0,l(),H.forEach(function(y){y()}),H.splice(0,H.length))}function l(){if(m){Fa.ba();r.ko(t.pb);
r.Ln();t.yb.J();C.set("s87");t.pb.h(0);C.C("u91",W.Rc);ca.Uk(1);X.l(!0,!0);for(var y=W.Em[ia.X()],z=0;z<y;++z)t.Jd.u(),C.set("s90"),C.O("u14",1/h,0),t.yb.h(0),X.l(!1,!1),t.yb.u(),C.O("u14",0,2/h),t.Jd.h(0),X.l(!1,!1);t.Qd.J();C.set("s92");t.yb.h(0);X.l(!1,!1);C.set(b?"s94":"s93");t.Kd.J();t.yb.h(0);t.Qd.h(1);X.l(!1,!1);ca.aa(0);ca.aa(1)}}var q=Object.assign({Lb:null,wc:null,vc:0,xc:0},d),w=0,h=0,m=!1,r=null,x=0,H=[],t={xd:null,pa:null,pb:null,yb:null,Jd:null,Kd:null,Qd:null};d={m:function(){function y(){2===
++z&&(t.pb=ca.instance({isFloat:Ja.ja(),U:!0,isPot:!1,isLinear:!0,width:w,height:w/2,L:3}),Fa.ba(),t.pb.J(),C.set("s86"),C.C("u99",q.xc),C.C("u100",q.vc),t.xd.h(0),t.pa.h(1),X.l(!0,!0),f())}var z=0;w=W.Nk[ia.X()];x=Math.log2(w)-1;q.Lb&&(t.xd=ca.instance({isPot:!1,url:q.Lb,D:y,L:3,isFlipY:!1}),t.pa=ca.instance({isPot:!1,url:q.wc,D:y,L:3,isFlipY:!1}))},wg:function(y){t.pb=y;f()},hd:function(y){m&&(r.h(y),C.C("u117",r.P()))},jd:function(y){m&&t.Kd.h(y)},Ch:function(){C.C("u3",x)},Wh:function(){return x},
P:function(){return w},zc:function(y){m?y():H.push(y)},I:function(){t.xd&&t.xd.remove();t.pa&&t.pa.remove();t.yb.remove();t.Qd.remove();t.Jd.remove();r.remove();t.Kd.remove();t.pb.remove()}};a.push(d);d.m();return d},I:function(){a.forEach(function(d){d.I()})}}}(),Md={instance:function(a){var b=a.Zm,d=a.Xm,f=0,l=b.P();a=W.kh;var q=ca.instance({isFloat:Ja.ja()&&!a,U:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:l,L:a?4:3,isFlipY:!1}),w=ca.instance({isFloat:Ja.ja()&&!a,U:!a,isPot:!1,isLinear:!0,kq:!0,isMipmap:!1,
width:l,height:l/2,L:a?4:3}),h=Fa.instance({width:l,height:l}),m=a?"s78":"s77";return{xo:function(r){f=r;C.set(m);c.viewport(0,0,l,l);h.u();q.u();C.C("u13",f);b.hd(1);d.hd(0);X.l(!0,!0);c.viewport(0,0,l,l/2);w.u();b.jd(1);d.jd(0);X.l(!1,!1);c.flush()},hd:function(r){q.h(r)},jd:function(r){w.h(r)},Ch:function(){C.C("u3",b.Wh()*(1-f)+d.Wh()*f)}}}},Xb=function(){function a(M){var u=(e-W.Oe)/(W.ph-W.Oe);u=1-Math.pow(1-u,W.rp);e+=M*(1+u*W.sp);e=Math.min(Math.max(e,W.Oe),W.ph);E.ib()}function b(M){-1!==
h&&(F=g=0,w(),a(W.pp*M.deltaY/window.innerHeight),M.preventDefault())}function d(){D+=g;G+=F;G=Math.min(Math.max(G,W.xn),W.wn);E.ib()}function f(M){if(0===h||-1===h)return!1;var u=void 0!==M.touches&&M.touches.length;M.preventDefault();if(2===h){var v=td(M.touches[0].pageX,M.touches[0].pageY,M.touches[1].pageX,M.touches[1].pageY);a(-(z-v)*W.yn);z=v}else v=u?M.touches[0].clientX:M.clientX,M=u?M.touches[0].clientY:M.clientY,g=2*(v-t)*Math.PI/ia.P(),F=2*(M-y)*Math.PI/ia.$(),4===h?(B[0]+=g*W.Ui,B[1]-=
F*W.Ui,B[0]=Math.min(Math.max(B[0],-W.Xi),W.Xi),B[1]=Math.min(Math.max(B[1],-W.Yi),W.Yi),E.ib()):d(),t=v,y=M}function l(){0!==h&&-1!==h&&(0===g&&0===F||1!==h||!A?Ba.va():(w(),k=Date.now(),n=setInterval(E.Wm,L)),h=0)}function q(M){if(2!==h&&-1!==h){F=g=0;w();Ba.wake();var u=void 0!==M.changedTouches&&M.touches.length;M.preventDefault();u&&2===M.touches.length?(h=2,z=td(M.touches[0].pageX,M.touches[0].pageY,M.touches[1].pageX,M.touches[1].pageY)):(h=u||2!==M.button?1:4,t=u?M.touches[0].clientX:M.clientX,
y=u?M.touches[0].clientY:M.clientY);return!1}}function w(){n&&(clearInterval(n),n=!1)}var h=0,m=!1,r=!1,x=!1,H=1,t=0,y=0,z=0,k=0,g=0,F=0,L=16,D=W.Oj,G=W.Wi,e=W.Ne,n=!1,A=0,Q=new Float32Array([0,0,0,0,0]),B=[W.Xk,W.Yk],E={m:function(){A=W.qk[ia.X()];L=W.ud[ia.X()];ia.Ma("mousedown",q);ia.Ma("mouseup",l);ia.Ma("mouseout",l);ia.Ma("mousemove",f);ia.Ma("mousemove",f);ia.Ma("wheel",b);ia.Ma("touchstart",q);ia.Ma("touchend",l);ia.Ma("touchmove",f)},ib:function(M){m?(r[0]=-G,r[1]=D,x[1].value=H/W.Ne*e,Za.Fb(x)):
(Q[0]=D,Q[1]=G,Q[2]=e,Q[3]=B[0],Q[4]=B[1],Ic.Zn(Q,M))},Wm:function(){if(1E-4>g&&1E-4>F||-1===h)w(),F=g=0,0===h&&Ba.va();var M=Date.now(),u=M-k;k=M;M=Math.pow(A,u/L);g*=M;F*=M;d()},ef:function(M){m||(m=!0,h=-1,r=[0,0,0],x=[{name:"u84",type:"3f",value:r},{name:"u88",type:"1f",value:1}],H=M)},Ij:function(M){-1===h&&M&&(h=0);M||(h=-1)},Sn:function(){F=g=0;D=W.Oj;G=W.Wi;e=W.Ne;E.ib()},Kq:function(M){e=M},Lq:function(M){B[0]=M[0];B[1]=M[1];W.qh=M[2]},Jq:function(M,u){D=M;G=u}};return E}(),Nc=function(){var a=
{s106:!1,s106color:!1,s106NormalMap:!1,s106ParamsMap:!1,s106NormalParamsMap:!1};return{instance:function(b){function d(p){if(!J)return Promise.reject("REMOVED");y.ld&&y.ld(p);M=p.partsNames||[];E.splice(0);E.push({n:0,offset:0});A.min.set(Infinity,Infinity,Infinity);A.max.set(-Infinity,-Infinity,-Infinity);var O=p.uvs;O&&(O=O.filter(function(ua){return ua}));N=O&&0<O.length&&0<O[0].length?!0:!1;var ba=p.normals&&p.normals.length?!0:!1;"undefined"!==typeof ac&&"string"===typeof p.faces&&(p.faces=ac(p.faces));
"undefined"!==typeof Nb&&("string"===typeof p.vertices&&(p.vertices=Nb(p.vertices)),ba&&"string"===typeof p.normals&&(p.normals=Nb(p.normals)),O&&O.length&&O.forEach(function(ua,Ua){"string"===typeof ua&&(O[Ua]=Nb(ua))}));var la=p.metadata.faces,ha=1+(N?1:0);la=(p.faces.length-la)/(p.metadata.faces*ha);6!==la&&8!==la||N||(++ha,la/=2);if(4===la){la=6*ha+2;for(var xa=4*ha+1,qa=Array(p.metadata.faces*la),na=0;na<p.metadata.faces;++na)for(var Da=0;Da<ha;++Da)qa[na*la+4*Da]=p.faces[na*xa+5*Da],qa[na*la+
4*Da+1]=p.faces[na*xa+5*Da+1],qa[na*la+4*Da+2]=p.faces[na*xa+5*Da+2],0===Da&&(qa[na*la+3]=p.faces[na*xa+4]),qa[na*la+4*Da+3*ha+1]=p.faces[na*xa+5*Da],qa[na*la+4*Da+3*ha+2]=p.faces[na*xa+5*Da+2],qa[na*la+4*Da+3*ha+3]=p.faces[na*xa+5*Da+3],0===Da&&(qa[na*la+3*ha+4]=p.faces[na*xa+4]);p.faces=qa;p.metadata.faces*=2}la=p.metadata.vertices;z=Array(la);for(xa=0;xa<la;++xa)z[xa]=new Xa(p.vertices[3*xa],p.vertices[3*xa+1],p.vertices[3*xa+2]),Rd(A,z[xa]);la=p.metadata.faces;k=Array(la);ha=3*ha+1;for(xa=0;xa<
la;++xa)k[xa]=new Tc(p.faces[ha*xa],p.faces[ha*xa+1],p.faces[ha*xa+2]),k[xa].$b=p.faces[ha*xa+3];if(ba)for(ba=p.metadata.normals,g=Array(ba),ha=0;ha<ba;++ha)g[ha]=new Xa(p.normals[3*ha],p.normals[3*ha+1],p.normals[3*ha+2]);else Ud(z,k),g=Vd(z,k);v=3<z.length;J&&(J.visible=v);if(N){ba=Array(z.length);ha=["a","b","c"];for(la=0;la<p.metadata.faces;++la)for(xa=0;3>xa;++xa)if(qa=p.faces[7*la+xa],na=p.faces[7*la+1+xa+3],"undefined"===typeof ba[qa])ba[qa]=[[qa,na]];else if(ba[qa][0][1]!==na){Da=-1;for(var T=
1;T<ba[qa].length;++T)if(ba[qa][T][1]===na){Da=ba[qa][T][0];break}T=-1;-1===Da?(T=z.length,z.push(z[qa].clone()),g.push(g[qa].clone()),ba[qa].push([T,na]),ba[T]=[[T,na]]):T=Da;p.faces[7*la+xa]=T;k[la][ha[xa]]=T}F=Array(z.length);for(p=0;p<z.length;++p)ha="undefined"===typeof ba[p]?p:ba[p][0][1],F[p]=new fc(O[0][2*ha],O[0][2*ha+1])}var ja=Hc(A);y.ih&&(z.forEach(function(ua){ua.x-=ja.x;ua.z-=ja.z;ua.y-=A.min.y}),A.min.x-=ja.x,A.max.x-=ja.x,A.min.z-=ja.z,A.max.z-=ja.z,A.max.y-=A.min.y,A.min.y=0);if(y.jh){var Ia=
W.Kk/Math.max(A.max.x-A.min.x,A.max.y-A.min.y,A.max.z-A.min.z);z.forEach(function(ua){ua.Fa(Ia)});A.min.Fa(Ia);A.max.Fa(Ia)}p=N?8:6;ba=new Float32Array(z.length*p);for(ha=0;ha<z.length;++ha)ba[p*ha]=z[ha].x,ba[p*ha+1]=z[ha].y,ba[p*ha+2]=z[ha].z,ba[p*ha+3]=g[ha].x,ba[p*ha+4]=g[ha].y,ba[p*ha+5]=g[ha].z,N&&(ba[p*ha+6]=F[ha].x,ba[p*ha+7]=F[ha].y);k.sort(function(ua,Ua){return ua.$b-Ua.$b});var ab=new (65536>3*k.length?Uint16Array:Uint32Array)(3*k.length),kb=0;k.forEach(function(ua,Ua){ua.$b===kb?E[kb].n+=
3:(E.push({n:3,offset:3*Ua}),++kb);ab[3*Ua]=ua.a;ab[3*Ua+1]=ua.b;ab[3*Ua+2]=ua.c});L&&L.remove();L=X.instance({ka:ba,indices:ab});e=G=!1;fa&&J.vh();P=!0;J.bf();return Promise.resolve()}function f(p){L.Na(p.n,p.offset)}function l(p,O){U[O]&&(C.set(U[O].mm()),L.bind(!1),N?(C.Sa(),C.uj()):(C.bb(),C.vj()),U[O].Mc()&&(C.Uc(),G.yc(!1),C.fe(),yb.Nb()),U[O].ul(),U[O].td(),L.Na(p.n,p.offset))}function q(p,O){U[O]&&(C.set(U[O].nm()),L.bind(!1),N?(C.Sa(),C.uj()):(C.bb(),C.vj()),U[O].Mc()&&(C.Uc(),G.yc(!1),C.fe(),
yb.Nb()),J.Dc(),U[O].td(),L.Na(p.n,p.offset))}function w(p,O){sa&&U[O]&&(U[O].vl(),L.Na(p.n,p.offset))}function h(p,O){sa&&U[O]&&(U[O].xl(N),L.Na(p.n,p.offset))}function m(p,O){U[O]&&(C.set(U[O].im()),U[O].Hh(),L.Na(p.n,p.offset))}function r(p,O){U[O]&&(C.set(U[O].jm()),J.Dc(),U[O].Hh(),L.Na(p.n,p.offset))}function x(p,O){U[O]&&(C.set(U[O].km()),U[O].Mc()&&(G.yc(!1),C.fe(),yb.Nb()),L.bind(!1),U[O].Eh(N),L.Na(p.n,p.offset))}function H(p,O){if(U[O]){var ba=U[O].lm();C.set(ba);U[O].Mc()&&(G.yc(!1),C.fe(),
yb.Nb(),L.bind(!1));a[ba]||(J.Dc(),L.bind(!1),a[ba]=!0);U[O].Eh(N);L.Na(p.n,p.offset)}}function t(p,O){return new Promise(function(ba,la){p?(p.D=function(ha){ha?(U[O]&&U[O].I(),U[O]=ha,fa=fa||ha.Mc(),ba()):la()},Xc.instance(p)):la()})}if(!ia.sh())return!1;var y=Object.assign({ih:!1,jh:!1,ac:null,url:"",D:null,ld:null,Me:null},b),z=null,k=null,g=null,F=null,L=null,D=null,G=null,e=!1,n=new hc,A=new Sc,Q=[],B=null,E=[{n:0,offset:0}],M=[],u=[],v=!1,P=!1,Y=[],U=[],fa=!1,N=!1,sa=!1,za=!1,J={visible:v,hl:function(){return E.length},
sf:function(){return M},vh:function(){!e&&N&&(k=k.filter(function(p){return null!==p}),D=Wd(z,g,F,k),G=X.instance({ka:D,indices:!1}),F=g=k=z=D=null,e=!0)},Dc:function(){yb.W();J.Gh()},Gh:function(){C.Vc("u140",n.elements)},Op:function(){v&&(J.Gh(),L.bind(!1),N?C.Sa():C.bb(),L.W())},El:function(p){v&&(p||J.Dc(),L.bind(!1),N?C.Sa():C.bb(),L.W())},Fl:function(){v&&(L.bind(!1),N?C.Sa():C.bb(),E.forEach(w))},Dh:function(){v&&(L.bind(!1),N?C.Sa():C.bb(),u.forEach(f))},Cl:function(p){sa&&v&&(L.bind(!1),
N?C.Sa():C.bb(),p?E.forEach(m):E.forEach(r))},sd:function(p){v&&(p||J.Dc(),L.bind(!1),p||(C.Sa(),C.Uc()),sa&&E.forEach(h))},td:function(p){sa&&v&&(p?E.forEach(l):E.forEach(q))},zl:function(){sa&&v&&E.forEach(H)},yl:function(){sa&&v&&E.forEach(x)},gi:function(){return B},ei:function(){return Y},Xj:function(p,O,ba){p=U[p];if(!p)return!1;p.update(O,ba);J.Zj();return!0},di:function(){return new Promise(function(p){J.zc(function(){p(U.map(function(O){return O.rm()}))})})},xg:function(p,O){Y=p;sa=!1;za=
!0;U.forEach(function(ba){ba.I()});U=Array(p.length);fa=!1;p=p.map(function(ba,la){return"string"===typeof ba?Td(-1===ba.indexOf(".json")?ba+".json":ba).then(function(ha){ha.name=ba;return t(ha,la,ba)}):t(ba,la,!1)});Promise.all(p).then(function(){J&&(sa=!0,za=!1,J.zc(function(){fa&&J.vh();J.Zj();Ba.Gb(J);Ba.oe(!0);O&&O(J)},4),J.bf())})},Zj:function(){u.splice(0);E.forEach(function(p,O){U[O]&&U[O].Um()&&u.push(p)})},zc:function(p,O){P&&sa&&!za?p(J):Q.push({sb:p,order:O?O:0})},bf:function(){P&&sa&&
!za&&(Q.sort(function(p,O){return 0>p.order-O.order?1:-1}),Q.forEach(function(p){p.sb(J)}),Q.splice(0))},remove:function(){J.I();J=null},I:function(){v=P=!1;L&&L.remove();U.forEach(function(p){p.I()});e&&G.remove();E.splice(0)},pm:function(){return A.size().x},qm:function(){return A.size().y},fq:function(){return A.size().z},Tl:function(){return Hc(A).x},Ul:function(){return Hc(A).y},Up:function(){return Hc(A).z},aq:function(){return A.min.y},replace:function(p,O,ba){if(p===B)return O&&J&&(J.bf(),
O(J)),!1;B=p;Ba.oe(!1);Uc(p,function(la){d(la).then(function(){O&&O(J)}).catch(function(ha){ba&&ba(ha)})},ba);return!0}};y.ac&&J.xg(y.ac,y.Me);B=y.url;Uc(y.url,function(p){d(p).then(function(){y.D&&y.D(J)})});return J},Pn:function(){a.s106=!1;a.s106color=!1;a.s106NormalMap=!1;a.s106ParamsMap=!1;a.s106NormalParamsMap=!1}}}(),Ic=function(){var a=null,b=!1,d=!1,f=null,l=new Float32Array(16),q=new Float32Array(3),w={data:0},h={m:function(){a=W.Ob?new Worker("js/worker.php"):{postMessage:function(m){w.data=
m;Yc.rn(w)},terminate:function(){}};a.onmessage=function(m){switch(m.data[0]){case 3:for(var r=0;16>r;++r)l[r]=m.data[r+1];for(r=0;3>r;++r)q[r]=m.data[r+17];yb.lf().ro(l,q);break;case 6:h.lo(),b=!0,Xb.ib(!1),W.ga_&&(Kb.enable(),Kb.ge())}};f=new Float32Array(6);f[0]=2;W.Ob||Yc.no(a)},Lo:function(){W.Ah||(d=!0)},Xq:function(){d=!1},Zn:function(m,r){if(r||b&&d)f[1]=m[0],f[2]=m[1],f[3]=m[2],f[4]=m[3],f[5]=m[4],a.postMessage(f)},lo:function(){a.postMessage([5,W.qh])},I:function(){W.Ob&&a.terminate()}};
return h}(),Yc=function(){var a=0,b=0,d=0,f=[0,0],l=new hc,q=new Gc,w=new Gc,h=new Xa,m=new Xa,r=new gc,x=0,H=new Float32Array(20);H[0]=3;var t=null,y={data:!1},z={m:function(){"undefined"===typeof W&&(self.tp={Ob:!0});W.Ob&&z.kg([6])},rn:function(k){switch(k.data[0]){case 2:z.yg(k.data);break;case 5:x=k.data[1]}},kg:function(k){W.Ob?postMessage(k):(y.data=k,t.onmessage(y))},yg:function(k){a=k[1];b=k[2];d=k[3];f[0]=k[4];f[1]=k[5];h.set(f[0],f[1],-d);r.set(b,a,0,"XYZ");if(!1===r instanceof gc)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
k=Math.cos(r.F/2);var g=Math.cos(r.G/2),F=Math.cos(r.H/2),L=Math.sin(r.F/2),D=Math.sin(r.G/2),G=Math.sin(r.H/2),e=r.order;"XYZ"===e?(q.F=L*g*F+k*D*G,q.G=k*D*F-L*g*G,q.H=k*g*G+L*D*F,q.T=k*g*F-L*D*G):"YXZ"===e?(q.F=L*g*F+k*D*G,q.G=k*D*F-L*g*G,q.H=k*g*G-L*D*F,q.T=k*g*F+L*D*G):"ZXY"===e?(q.F=L*g*F-k*D*G,q.G=k*D*F+L*g*G,q.H=k*g*G+L*D*F,q.T=k*g*F-L*D*G):"ZYX"===e?(q.F=L*g*F-k*D*G,q.G=k*D*F+L*g*G,q.H=k*g*G-L*D*F,q.T=k*g*F+L*D*G):"YZX"===e?(q.F=L*g*F+k*D*G,q.G=k*D*F+L*g*G,q.H=k*g*G-L*D*F,q.T=k*g*F-L*D*G):
"XZY"===e&&(q.F=L*g*F-k*D*G,q.G=k*D*F-L*g*G,q.H=k*g*G+L*D*F,q.T=k*g*F+L*D*G);h.y-=x;k=l.elements;G=q.x;var n=q.y,A=q.z;L=q.w;var Q=G+G,B=n+n;D=A+A;g=G*Q;F=G*B;G*=D;e=n*B;n*=D;A*=D;Q*=L;B*=L;L*=D;k[0]=1-(e+A);k[4]=F-L;k[8]=G+B;k[1]=F+L;k[5]=1-(g+A);k[9]=n-Q;k[2]=G-B;k[6]=n+Q;k[10]=1-(g+e);k[3]=0;k[7]=0;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;l.setPosition(h);w.N(q).inverse();k=m.N(h);n=k.x;Q=k.y;A=k.z;g=w.x;F=w.y;L=w.z;D=w.w;G=D*n+F*A-L*Q;e=D*Q+L*n-g*A;B=D*A+g*Q-F*n;n=-g*n-F*Q-L*A;k.x=G*D+n*-g+e*-L-
B*-F;k.y=e*D+n*-F+B*-g-G*-L;k.z=B*D+n*-L+G*-F-e*-g;for(k=1;17>k;++k)H[k]=l.elements[k-1];H[17]=m.x;H[18]=m.y;H[19]=m.z;z.kg(H)},no:function(k){t=k;z.kg([6])}};return z}();Yc.m();var Xc=function(){function a(w){var h=w.split(":").shift();return"data"===h||"blob"===h?w:("undefined"!==typeof I&&I.ea?I:W).ea+W.Mi+w}function b(w,h){return Math.min(h+w+h*w,1)}var d=!1,f=null,l=1,q={diffuseTexture:null,normalTexture:null,paramsTexture:null,isDisableColorTexture:!1,colorTextureUsage:0,metalness:.5,roughness:.5,
fresnelMin:0,fresnelMax:1,fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],alphaUsage:0,D:null};return{m:function(){f=ca.instance({width:1,height:1,isMipmap:!1,L:4,array:new Uint8Array([255,255,255,255]),Gf:!1})},ef:function(){d=!0;l=2},instance:function(w){function h(){"number"===typeof g.alpha?(z[0]=g.alpha,z[1]=0,z[2]=0,z[3]=0):(z[0]=g.alpha[0],z[1]=g.alpha[1]-g.alpha[0],z[2]=g.alpha[2],z[3]=g.alpha[3]);var v=1<=g.fresnelPow?g.fresnelMin:g.fresnelMax;k[0]=b(z[0],v);k[1]=
b(z[1],v);k[2]=z[2];k[3]=z[3];e={Vi:g.fresnelMax,Ii:[g.fresnelMin,g.roughness,g.fresnelPow/15,g.metalness],Li:g.paramsMapMask};F=[g.diffuseColor[0]/255,g.diffuseColor[1]/255,g.diffuseColor[2]/255]}function m(){return new Promise(function(v){(t=g.normalTexture&&ia.al()?!0:!1)&&!D.Ga?D.Ga=ca.instance({url:a(g.normalTexture),isLinear:!0,isMipmap:!0,isAnisotropicFiltering:!1,isPot:!0,L:3,D:v}):v()})}function r(){return new Promise(function(v){(y=g.diffuseTexture&&""!==g.diffuseTexture?!0:!1)&&!D.ha?(D.ha=
ca.instance({url:a(g.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,isAnisotropicFiltering:!0,isSrgb:!1,isMirrorY:!1,isMirrorX:!1,L:4,D:v}),L="s111"):(D.ha||(L="s112",D.ha=f),v())})}function x(){return new Promise(function(v){(G=g.paramsTexture?!0:!1)&&!D.ab?g.paramsTexture===g.diffuseTexture?(D.ab=D.ha,v()):D.ab=ca.instance({url:a(g.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,isAnisotropicFiltering:!1,isSrgb:!1,isMirrorY:!1,isMirrorX:!1,L:4,D:v}):v()})}function H(v,P){h();Promise.all([m(),
r(),x()]).then(function(){t||G||y?t||G?t&&!G?(n="s106NormalMap",A="s106NNGLtextureNormalMap"):!t&&G?(n="s106ParamsMap",A="s106NNGLtextureParamsMap"):(n="s106NormalParamsMap",A="s106NNGLtextureNormalParamsMap"):(n="s106",A="s106NNGLtexture"):(n="s106color",A="s106NNGLcolor");Q=t?"s114":"s113";B=t?"s108":"s118";E=G?"s116":"s115";M=G?"s109":"s119";P&&g.D&&setTimeout(g.D.bind(null,v),1)})}var t,y,z=[1,0,0,0],k=[0,0,0,0],g=Object.assign({},q,w),F=null,L=null,D={ha:null,Ga:null,ab:null},G=t=y=!1,e=null,
n=null,A=null,Q=null,B=null,E=null,M=null,u={update:function(v,P){void 0===P&&(P=!0);Object.assign(g,v);P?(u.I(),H(u,!1)):h()},Mc:function(){return t},Um:function(){return.99>z[0]},rm:function(){return g},nm:function(){return B},mm:function(){return Q},jm:function(){return M},im:function(){return E},lm:function(){return n},km:function(){return A},td:function(){t&&D.Ga.h(0)},xl:function(v){d&&C.set(L);v?C.Sa():C.bb();y&&C.Uc();u.sd()},sd:function(){y&&(C.C("u74",g.alphaUsage),C.C("u73",g.colorTextureUsage),
(g.isDisableColorTexture?f:D.ha).h(0));C.Dg("u150",F)},Hh:function(){G&&(D.ab.h(0),C.Ba("u76",e.Li),C.Uc());C.Ba("u114",e.Ii);C.C("u151",e.Vi)},Eh:function(v){G&&!t?D.ab.h(l):t&&(y||f.h(0),D.Ga.h(l),G&&D.ab.h(l+1));G&&C.Ba("u76",e.Li);y||t?C.ho():v?C.io():C.jo();u.sd();C.Ba("u13",z);C.Ba("u114",e.Ii);C.C("u151",e.Vi)},ul:function(){C.Ba("u13",z)},vl:function(){C.Ba("u13",k)},I:function(){y&&D.ha.remove();t&&D.Ga.remove();G&&g.paramsTexture!==g.diffuseTexture&&D.ab.remove();Object.assign(D,{ha:null,
Ga:null,ab:null})}};H(u,!0);return u}}}(),Kb=function(){var a=0,b=0,d=0,f=0,l=0,q=0,w=W.Ik,h=W.Hk,m=W.Jk,r=0,x=0,H=null,t=null,y=0,z=0,k=0,g=0,F=0,L=null,D=0,G=0,e=0,n=Date.now(),A=null,Q=!1,B=!1,E=!1,M=1,u=!1,v={m:function(){a=W.Dk[ia.X()];b=W.Ck[ia.X()];d=W.Bk[ia.X()];G=W.Ek[ia.X()];f=W.vk[ia.X()];l=W.zk[ia.X()];k=W.Ak[ia.X()];g=ia.P();F=ia.$();r=Math.round(g*a);x=Math.round(F*a);t=Fa.instance({width:r,height:x,Hc:!1});H=ca.instance({width:r,height:x,isPot:!1,isLinear:!0});L=ca.instance({width:r,
height:x,isPot:!1,isLinear:!0,L:1});Q=!0},resize:function(P,Y,U){M=U;g=P;F=Y;r=Math.round(P*a);x=Math.round(Y*a);t.resize(r,x);B=!0},W:function(){var P=Math.exp(-(Date.now()-n)/G);D=E?e+(1-P)*(1-e):e*P;y=b+D*(d-b);z=f+(1-D)*(1-f);q=l+(1-D)*(1-l);ca.aa(5);if(B&&Q)ca.aa(6),L.resize(r,x),C.set("s0"),C.ie("u1",6),t.bind(!1,!0),L.u(),t.Qe(),H.h(6),X.l(!0,!0),H.resize(r,x),H.u(),L.h(6),X.l(!1,!1),C.ie("u1",0),B=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,c.ONE_MINUS_SRC_ALPHA);P=y/k;c.blendColor(P,
P,P,P);c.colorMask(!0,!1,!1,!0);C.set("s98");yb.cf();C.C("u131",y);G&&(C.C("u132",z),C.C("u123",q));var Y=M*(w+Math.pow(Math.random(),m)*(h-w));C.O("u14",Y/g,Y/F);t.mh();t.Wc();H.u();Y=2*Math.PI*Math.random();for(var U=!0,fa=0;fa<k;++fa)1===fa&&(c.blendFunc(c.SRC_ALPHA,c.ONE),C.C("u131",P)),C.C("u130",Y+fa/k*(Math.PI/2)),C.O("u129",(Math.random()-.5)/g,(Math.random()-.5)/F),X.l(U,U),U=!1;c.disable(c.BLEND);C.set("s99");C.O("u14",1/r,1/x);L.u();H.h(7);X.l(!1,!1);c.colorMask(!0,!0,!0,!0)}},h:function(P){L.h(P)},
enable:function(){u=!0},An:function(){if(E||!u)return!1;A&&clearTimeout(A);v.ge();A=setTimeout(v.Wj,400)},ge:function(){A&&(clearTimeout(A),A=!1);!E&&u&&(window.ik.disable(),E=!0,n=Date.now(),e=D)},Wj:function(){E&&u&&(A&&(clearTimeout(A),A=null),window.ik.enable(),E=!1,n=Date.now(),e=D)},I:function(){H.remove();L.remove();t.remove()}};v.An();return v}(),fe={instance:function(a){var b=a.V.P(),d=a.Nm?!0:!1,f=d?"s85":"s75",l=a.V,q=a.V.Sm()&&Ja.ja(),w=ca.instance({isFloat:q&&!d,isLinear:!0,isMipmap:!1,
isPot:!0,width:b,height:b,L:d?4:3}),h=ca.instance({isFloat:q,isLinear:!0,isPot:!0,width:1,height:b/2,L:3});d=Math.round(Math.log(b)/Math.log(2));for(var m=[],r=0,x=0;x<=d;++x){var H=Math.pow(2,d-x),t=H/2;if(4>t)break;m.push({bp:b/H,da:H,Tb:t,qp:r,V:0===x?a.V:ca.instance({isFloat:q,isPot:!0,isLinear:!0,width:H,height:t})});r+=t;if(0!==r%1)break}w.ko=function(y){l=y;m[0].V=y};w.Ln=function(){h.J();C.set("s92");l.h(0);X.l(!0,!0);C.set("s12");h.h(1);var y=l;m.forEach(function(z,k){0!==k&&(z.V.J(),y.h(0),
ca.po(),C.O("u93",1,1),C.C("u94",Math.min(6/z.Tb,.5)),X.l(!1,!1),y=z.V)});C.set(f);C.C("u91",W.Rc);w.u();m.forEach(function(z){c.viewport(0,z.qp,b,z.Tb);C.O("u90",z.bp,1);z.V.h(0);ca.so();X.l(!1,!1)})};w.On=w.remove;w.remove=function(){w.On();h.remove();m.forEach(function(y){y.V.remove()});m.splice(0)};return w}};ya.La=function(){var a={Tc:45,sg:1,Db:"../../images/debug/picsou.png",ee:.8,Of:3.14/6,Pf:.314,Pd:4,Od:.5,Nf:-.25,Ym:1,da:256,Mf:.15},b={qb:null,Pb:null,screen:null},d=!1,f=!1,l=-1,q=null,
w=null,h=null,m=Math.PI/180,r=[1,1],x=!1,H={m:function(t){l=t.width;t={isFloat:Ja.ja(),U:!0,isPot:!1,isMipmap:!1,width:l,height:l/2,L:3};b.qb&&(b.qb.remove(),b.Pb.remove());b.Pb=ca.instance(Object.assign({isLinear:!1},t));b.qb=Pc.instance(Object.assign({isLinear:!0},t));C.j("s120",[{type:"1i",name:"u158",value:0}]);C.j("s121",[{type:"1i",name:"u95",value:0},{type:"1i",name:"u103",value:1},{type:"1i",name:"u163",value:2}]);H.$j();x=!0},$j:function(){C.j("s121",[{type:"1f",name:"u164",value:a.Of},{type:"1f",
name:"u165",value:a.Pf},{type:"1f",name:"u166",value:a.Pd},{type:"1f",name:"u167",value:a.Od},{type:"1f",name:"u168",value:a.Nf}])},tq:function(){return f},ra:function(t){q=t},Sc:function(){w="uniform sampler2D u158;uniform vec2 u159,u160,u10;uniform int u161;uniform float u162,u144;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5);const float e=1.2;const vec3 g=vec3(1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u10*(c-u159)/u160;float b=1.;if(u161==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u162*g,texture2D(u158,a).rgb*u144,b*g);gl_FragColor=vec4(d,1.);}";
h="uniform sampler2D u95,u103,u163;uniform float u164,u165,u166,u167,u168,u169;varying vec2 vv0;const float f=3.141593;const vec2 h=vec2(.5);const vec3 i=vec3(1.);void main(){float j=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u163,h);float d=a.r,k=u166*a.g,l=u167*(a.b+u168),b=a.a,g=asin(cos(b)*cos(d)),m=atan(cos(b)*sin(d),-sin(b)),n=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(j-m)),o=1.-smoothstep(u164-u165,u164+u165,n);vec3 p=i*(max(l,0.)+max(k,0.)*o),q=texture2D(u95,vv0).rgb,r=texture2D(u103,vv0).rgb;gl_FragColor=vec4(mix(p+r,q,u169),1.);}";
C.oa("s120",{name:"_",g:w,i:"u158 u159 u161 u160 u162 u144 u10".split(" "),precision:"highp"});C.oa("s121",{name:"_",g:h,i:"u163 u164 u165 u166 u167 u168 u103 u95 u169".split(" "),precision:"highp"})},Ig:function(t,y,z,k,g,F,L,D){C.O("u159",y,z);C.ie("u161",k?1:0);C.O("u160",g,g/F);C.Bg("u10",L);t.h(0);X.l(D,D)},hi:function(){return b.qb.bi()},oh:function(t){H.m({width:a.da});H.ak(t,!1,1);f=!0},nh:function(){d&&b.screen.tm()===a.Db||(d=!1,b.screen&&b.screen.remove(),b.screen=ca.instance({url:a.Db,
isFloat:!1,D:function(){d=!0}}))},yg:function(t){Object.assign(a,t)},ib:function(t){H.yg(t);x&&(H.$j(),H.nh())},ak:function(t,y,z){Fa.ba();b.Pb.J();C.set("s120");C.C("u162",a.Mf);C.C("u144",a.Ym);H.Ig(t,Math.PI,0,!0,90*m,t.P()/t.$(),r,!0);d&&(t=a.da,C.C("u144",a.ee),c.viewport(0,0,t/2,t/2),H.Ig(b.screen,0,0,!1,2*a.Tc*m,2*a.sg,r,!1),c.viewport(t/2,0,t/2,t/2),H.Ig(b.screen,2*Math.PI,0,!1,2*a.Tc*m,2*a.sg,r,!1));y?(C.set("s121"),C.C("u169",1-z),b.qb.tj(0),b.Pb.h(1),y.h(2),X.l(!1,!1),q.wg(b.qb.bi())):
q.wg(b.Pb)},A:function(){x=!1;Object.assign(b,{qb:null,Pb:null,screen:null});f=d=!1;l=-1;q=null}};return H}();ya.mb=function(){var a=!1,b=!0,d=null,f=null,l=1,q=null,w={Sc:function(){ia.ca()&&(C.oa("s122",{name:"_",v:"attribute vec3 a0;uniform sampler2D u41;uniform float u147;uniform vec2 u42;uniform vec3 u146;const float l=0.,m=0.,D=1.;const vec2 e=vec2(1.);const vec3 n=vec3(1.);const vec2 E=vec2(-1.,1.),o=vec2(.16,.5),p=vec2(.5,.5),q=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 r(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,o);vec2 f=u87*e;vec3 c=u87*n;vec2 s=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,p).rgb+vec3(u81,0.,0.),u84,c);float t=mix(texture2D(u41,q).r,0.,u87);a.z+=t;mat3 u=r(a);vec3 v=mix(u146,u85,c);float w=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 x=mat2(h,i,-i,h);b.xy=x*b.xy;float y=mix(u83,1.,u87);vec2 j=u82/s;vec3 k=a0;float z=max(0.,-a0.z-l)*m;k.x+=z*sign(a0.x)*(1.-u87);vec3 A=u*(k+v)*w+b;vec2 B=j*y;vec3 C=vec3(g*B,-j)+A*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(C,1.));}",
g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u41","u42","u80","u146","u147"].concat(C.Cd(),C.Dd()),K:["a0"],S:[3],fa:!0}),a=!0)},m:function(h){a&&C.j("s122",[{type:"1i",name:"u41",value:1},{type:"3f",name:"u80",value:h.Ha},{type:"1f",name:"u147",value:1},{type:"1f",name:"u81",value:0},{type:"1f",name:"u89",value:1}].concat(h.Tg))},fb:function(h,m){f=h;l=m;w.ni()},eb:function(h,m){d=h;q=m;w.ni()},
ni:function(){if(ia.ca()&&f&&d){var h=[d[0]*f,d[1]*f,d[2]*f],m=q;h[0]+=m[0];h[1]+=m[1];h[2]+=m[2];C.j("s122",[{type:"1f",name:"u147",value:l},{type:"3f",name:"u146",value:h}]);C.M()}},Dm:function(h){for(var m=h.width/2,r=h.height/2,x=h.depth,H=h.Gl,t=h.height/4,y=h.kl,z=2*y+4,k=[],g=[],F=-m+h.Wa,L=-H-h.Wa,D=m-h.Wa,G=-H-h.Wa,e=0;e<z;++e){var n=0,A=0;0===e?(n=-m,A=-H-x):1<=e&&e<=1+y?(A=(e-1)/y*Math.PI/2,n=F-Math.cos(A)*h.Wa,A=L+Math.sin(A)*h.Wa):e>=2+y&&e<=2+2*y?(A=(e-2-y)/y*Math.PI/2,n=D+Math.sin(A)*
h.Wa,A=G+Math.cos(A)*h.Wa):e===z-1&&(n=m,A=-H-x);k.push(n,r+t,A,n,-r+t,A);0!==e&&g.push(2*e,2*e-2,2*e-1,2*e,2*e-1,2*e+1)}return w.instance({ka:k,indices:g})},toggle:function(h){b=h},instance:function(h){var m=X.instance({ka:h.ka,indices:h.indices});return{W:function(){a&&b&&(C.set("s122"),m.bind(!0),m.W())}}}};return w}();ya.ia=function(){function a(u){C.j("s125",u);C.j("s126",u)}var b={wf:-87,wm:[85,95],mi:[90,90],li:[85,70],md:24,Ip:12,ll:2,lg:[-80,40],Ri:[0,-10],on:40,qn:20,Si:[70,50],pn:90,To:2,
ke:[0,-15],Ce:1024,lb:512,Xd:4,Jo:[6,30],Qi:1.2};b.aj=b.lg;var d=!1,f=!1,l=!1,q=null,w=null,h=null,m=null,r=null,x=null,H=!1,t=!1,y=null,z=null,k=null,g=null,F=.5,L=[{type:"1f",name:"u171",value:1}],D=null,G=null,e=0,n=["u41","u42","u147","u146"],A=null,Q=null,B=null,E=null,M={Sc:function(){C.oa("s123",{name:"_",v:"attribute vec3 a0;uniform vec3 u146;uniform vec2 u172,u173;uniform float u147,u174,u175,u176;varying float vv0,vv1;void main(){vec3 a=(a0+u146)*u147;float b=atan(a.x,a.z-u174),d=2.*(a.y-u175)/(u176-u175)-1.;vv0=a0.y;float g=1.-u172.x*u172.x/(u172.y*u172.y),c=u172.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u174);vv1=smoothstep(u173.x,u173.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
g:"uniform float u177;uniform vec4 u13;varying float vv0,vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv0),b=min(a,1.)*u177;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u147 u146 u172 u173 u174 u175 u176 u13 u177".split(" "),K:["a0"],S:[3],precision:"highp"});C.oa("s124",{name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u14),c=texture2D(u1,vv0-2.*u14),d=texture2D(u1,vv0-u14),f=texture2D(u1,vv0+u14),g=texture2D(u1,vv0+2.*u14),h=texture2D(u1,vv0+3.*u14);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u14"],precision:"lowp"});C.oa("s125",{name:"_",v:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u41;uniform vec2 u42;uniform float u147;uniform vec3 u146;const float o=0.,p=0.;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 g=u87*e;vec3 c=u87*q;vec2 v=mix(d.a*u42,e,g),h=(2.*d.gb-e)*(1.-g);h.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u81,0.,0.),u84,c);float w=mix(texture2D(u41,t).r,0.,u87);a.z+=w;mat3 i=u(a);vec3 x=mix(u146,u85,c);float y=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float j=cos(a.z),k=sin(a.z);mat2 z=mat2(j,k,-k,j);b.xy=z*b.xy;float A=mix(u83,1.,u87);vec2 l=u82/v;vec3 m=a0;float B=max(0.,-a0.z-o)*p;m.x+=B*sign(a0.x)*(1.-u87);vec3 C=i*(m+x)*y+b;vec2 D=l*A;vec3 E=vec3(h*D,-l)+C*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=i*a2;vv1=-F.z,vv1*=vv1*1e-5+smoothstep(5.,50.,abs(a0.x));}",
g:"uniform sampler2D u178,u163;uniform vec2 u93,u179;uniform float u180,u171;varying vec2 vv0;varying float vv1;void main(){vec2 b=u179*u180+u93*vv0;vec4 a=u171*texture2D(u178,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u178 u163 u80 u180 u179 u93 u171".split(" ").concat(C.Cd(),C.Dd(),n),K:["a0","a2","a1"],S:[3,3,2],precision:"lowp"});C.oa("s126",{name:"_",v:"attribute vec3 a0;uniform sampler2D u41;uniform vec2 u42;uniform float u147;uniform vec3 u146;const float l=0.,m=0.;const vec2 e=vec2(1.);const vec3 n=vec3(1.);const vec2 D=vec2(-1.,1.),o=vec2(.16,.5),p=vec2(.5,.5),q=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 r(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,o);vec2 f=u87*e;vec3 c=u87*n;vec2 s=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,p).rgb+vec3(u81,0.,0.),u84,c);float t=mix(texture2D(u41,q).r,0.,u87);a.z+=t;mat3 u=r(a);vec3 v=mix(u146,u85,c);float w=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 x=mat2(h,i,-i,h);b.xy=x*b.xy;float y=mix(u83,1.,u87);vec2 j=u82/s;vec3 k=a0;float z=max(0.,-a0.z-l)*m;k.x+=z*sign(a0.x)*(1.-u87);vec3 A=u*(k+v)*w+b;vec2 B=j*y;vec3 C=vec3(g*B,-j)+A*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(C,1.)),gl_Position*=vec4(-1.,1.,1.,1.);}",
g:"void main(){gl_FragColor=vec4(0.);}",i:["u80"].concat(C.Cd(),C.Dd(),n),K:["a0"],S:[3],precision:"lowp"});d=!0},m:function(u){if(d){if(void 0===u.jc||!u.jc)return!1;if(f)M.rj(u);else{m=ca.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:b.Ce,height:b.Ce/4});var v=b.lb/4,P={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:b.lb,height:v};h=ca.instance(P);x=ca.instance(P);r=ca.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:b.lb,height:v*b.Xd});v=[];P=[];var Y=b.Ri[0],U=b.Ri[1],
fa=b.on,N=b.qn,sa=-b.Si[0]+Y,za=b.Si[1]+U,J=b.pn;v.push(0,Y,U,.5*-N,sa,za,.5*N,sa,za,.5*-fa,Y-J,U,.5*fa,Y-J,U);P.push(0,2,1,0,1,3,1,4,3,1,2,4,0,4,2);B=X.instance({ka:new Float32Array(v),indices:new Uint16Array(P)});v=.5-.5/u.kc[1];P=.5+.5/u.kc[1];Y=new Float32Array(16*b.md);U=new Uint16Array(6*(b.md-1));for(fa=0;fa<b.md;++fa){N=2*fa/(b.md-1)-1;N=Math.sign(N)*Math.pow(Math.abs(N),b.ll);J=Math.PI*(N+1)/2-Math.PI/2;N=Math.sin(J);var p=Math.cos(J);sa=Math.sin(J*b.Qi);za=Math.cos(J*b.Qi);var O=J/(Math.PI*
u.kc[0])+.5;J=b.li[0]*N;var ba=b.aj[0],la=b.li[1]*p+b.wf,ha=O,xa=v,qa=b.aj[1];p=b.mi[1]*p+b.wf;var na=P,Da=16*fa;Y[Da]=b.mi[0]*N;Y[Da+1]=qa;Y[Da+2]=p;Y[Da+3]=sa;Y[Da+4]=0;Y[Da+5]=za;Y[Da+6]=O;Y[Da+7]=na;Y[Da+8]=J;Y[Da+9]=ba;Y[Da+10]=la;Y[Da+11]=sa;Y[Da+12]=0;Y[Da+13]=za;Y[Da+14]=ha;Y[Da+15]=xa;0!==fa&&(N=2*fa,sa=6*(fa-1),U[sa]=N,U[sa+1]=N-1,U[sa+2]=N-2,U[sa+3]=N,U[sa+4]=N+1,U[sa+5]=N-1)}E=X.instance({ka:Y,indices:U});M.rj(u);C.j("s124",[{type:"1i",name:"u1",value:0}]);f=!0}}},rj:function(u){F=u.Eo;
g=u.le;var v=[{type:"1i",name:"u41",value:1},{type:"3f",name:"u80",value:[u.Ha[0],u.Ha[1]-b.ke[0],u.Ha[2]+b.ke[1]]}].concat(u.Tg,u.Vj);D=[{type:"1i",name:"u178",value:0},{type:"1i",name:"u163",value:2},{type:"1f",name:"u180",value:u.Fo},{type:"2f",name:"u93",value:[1,1/b.Xd]},{type:"2f",name:"u179",value:[0,1/b.Xd]},{type:"1f",name:"u171",value:1}].concat(v);G=v;C.j("s125",D);C.j("s126",G)},ec:function(u){q=u},dc:function(u){A=u;A.zc(M.Ac)},Di:function(){return l&&null!==A&&null!==Q},Ac:function(){if(!(l||
t&&H)||null===A||null===Q)return!1;e=0;c.viewport(0,0,b.Ce,b.Ce/4);Fa.ba();m.u();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);C.j("s123",[{type:"1f",name:"u174",value:b.wf},{type:"1f",name:"u175",value:b.lg[0]},{type:"1f",name:"u176",value:b.lg[1]},{type:"3f",name:"u146",value:[y[0]+z[0],y[1]+z[1],y[2]+z[2]]},{type:"1f",name:"u177",value:F},{type:"2f",name:"u172",value:b.wm},{type:"2f",name:"u173",value:b.Jo}]);A.Fl();C.set("s1");var u=b.lb/4;c.viewport(0,0,b.lb,u);h.u();m.h(0);m.Ec();X.l(!0,
!0);for(var v=0;v<b.Xd;++v)C.set("s124"),0!==v&&c.viewport(0,0,b.lb,u),x.u(),h.h(0),C.O("u14",1/b.lb,0),X.l(!1,!1),h.u(),x.h(0),C.O("u14",0,1/u),X.l(!1,!1),b.ml&&c.colorMask(0===v,1===v,2===v,!0),C.set("s1"),r.u(),h.h(0),c.viewport(0,v*u,b.lb,u),X.l(!1,!1),b.ml&&c.colorMask(!0,!0,!0,!0);return l=!0},W:function(){M.Di()&&0===e++%b.To&&(Q.bind(!1,!1),w.J(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),C.set("s126"),q.h(1),B.bind(!0),B.W(),
C.set("s125"),r.h(0),E.bind(!0),E.W(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},om:function(){return w},add:function(){M.Di()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),w.h(0),X.l(!1,!1),c.disable(c.BLEND))},ug:function(u,v){Q&&Q.remove();Q=Fa.instance({width:u,height:v,Hc:!0});w&&w.remove();w=ca.instance({width:u,height:v,isFloat:!1,isPot:!1});M.Ac()},eb:function(u,v,P){u||(u=y,v=z,P=k);a([{type:"3f",name:"u146",value:[P[0]+g[0],P[1]+g[1]-b.ke[0],P[2]+g[2]+b.ke[1]]}]);y=u;z=v;k=
P;t=!0;!l&&H&&M.Ac();C.M()},fb:function(u,v){C.j("s123",[{type:"1f",name:"u147",value:u}]);a([{type:"1f",name:"u147",value:v}]);H=!0;!l&&t&&M.Ac();C.M()},zg:function(u){a([{type:"1f",name:"u81",value:u}]);C.M()},Gb:function(u){u&&(A=u);M.Ac()},Ag:function(u,v){L[0].value=1-u;a(L);a(v)},I:function(){},A:function(){[Q,B,E].forEach(function(u){u&&u.remove()});e=0;t=H=!1;E=B=Q=g=k=z=y=null;l=f=d=!1;x=r=m=h=w=q=null}};return M}();ya.ua=function(){var a=!1,b=null,d=0,f=0,l=0,q=[{type:"1f",name:"u171",value:1}],
w=null,h=null,m=null,r={Sc:function(){C.oa("s127",{name:"_",v:"attribute vec3 a0;uniform vec2 u181,u182;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u182)/u181;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",g:"uniform vec2 u90;uniform float u183,u184,u185;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u183,u184),a=vv0-b,c=u185*a,d=(c-a)*u90;gl_FragColor=vec4(d,0.,1.);}",i:"u181 u182 u183 u184 u185 u90".split(" "),K:["a0"],S:[3],precision:"highp"});C.oa("s128",{name:"_",v:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u41;uniform vec3 u146;uniform vec2 u42,u181,u182;uniform float u147;const float n=0.,o=0.;const vec2 e=vec2(1.);const vec3 p=vec3(1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u77;uniform vec3 u80,u84,u85,u86;uniform float u78,u79,u87,u88,u81,u82,u83,u89;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,q);vec2 f=u87*e;vec3 c=u87*p;vec2 u=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,r).rgb+vec3(u81,0.,0.),u84,c);float v=mix(texture2D(u41,s).r,0.,u87);a.z+=v;mat3 w=t(a);vec3 x=mix(u146,u85,c);float y=mix(u147,u88,u87);vec3 b=mix(u80,u86,c);b.x+=u78*sin(a.y),b.y+=u79*sin(a.x)*step(0.,a.x);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u83,1.,u87);vec2 j=u82/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u87);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u77*(vec4(u89*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u182)/u181,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
g:"uniform sampler2D u186,u187;uniform float u171;varying vec2 vv0,vv1;void main(){vec2 a=u171*texture2D(u186,vv0).rg;gl_FragColor=texture2D(u187,a+vv1);}",i:"u171 u41 u186 u187 u181 u182 u42 u80 u147 u146".split(" ").concat(C.Cd(),C.Dd()),K:["a0"],S:[3],precision:"lowp"});a=!0},m:function(x){if(a){if(void 0===x.jc||!x.od)return!1;h=ca.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,L:4});m=Fa.instance({width:256,height:128});C.j("s128",[{type:"1i",name:"u41",value:1},{type:"1i",
name:"u186",value:2},{type:"1i",name:"u187",value:0},{type:"3f",name:"u80",value:x.Ha},{type:"1f",name:"u171",value:1}].concat(x.Vj,x.Tg));f=x.Xe;l=x.We;d=x.Ye}},ec:function(x){b=x},dc:function(x){w=x;w.zc(r.Te)},Te:function(){c.viewport(0,0,256,128);m.u();h.u();var x=w.pm(),H=w.qm(),t=[{type:"2f",name:"u181",value:[x,H]},{type:"2f",name:"u182",value:[w.Tl(),w.Ul()]}];C.j("s127",t.concat([{type:"1f",name:"u183",value:f},{type:"1f",name:"u184",value:l},{type:"1f",name:"u185",value:d},{type:"2f",name:"u90",
value:[1/x,-1/H]}]));w.Dh();C.j("s128",t)},W:function(){C.set("s128");b.h(1);h.h(2);w.Dh()},eb:function(x){C.j("s128",[{type:"3f",name:"u146",value:x}]);C.M()},fb:function(x){C.j("s128",[{type:"1f",name:"u147",value:x}]);C.M()},zg:function(x){C.j("s128",[{type:"1f",name:"u81",value:x}]);C.M()},Co:function(x){d=x;r.Te();C.M();Ba.animate(Date.now())},Gb:function(x){x&&(w=x);r.Te()},Ag:function(x,H){q.u171=1-x;C.j("s128",q);C.j("s128",H)},I:function(){}};return r}();ya.rc=function(){var a=[0,-.5],b=
!1,d=!1,f=null,l=null,q=null,w=null,h=null,m=-1,r=-1;return{Sc:function(){C.oa("s129",{name:"_",v:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42,u11;uniform float u10;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u41,vec2(.25,.5));vec2 b=a.a*u42,c=2.*a.gb-f,d=u11+a0*u10;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",g:"uniform sampler2D u188;varying vec2 vv0;void main(){gl_FragColor=texture2D(u188,vv0);}",i:["u41","u188","u42","u11","u10"],precision:"lowp"});
C.oa("s130",{name:"_",g:"uniform sampler2D u2,u189,u190;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u190,vv0).rgb,c=texture2D(u189,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u190","u189"],precision:"lowp"});b=!0},m:function(x){b&&(h=ca.instance({isFloat:!1,isPot:!0,url:x.Ke,D:function(){d=!0}}),C.j("s129",[{type:"1i",name:"u41",value:1},{type:"1i",name:"u188",value:0},{type:"2f",name:"u42",value:x.ek},{type:"2f",name:"u11",value:a},
{type:"1f",name:"u10",value:3.8}]),C.j("s130",[{type:"1i",name:"u189",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u190",value:2}]))},ec:function(x){l=x},ug:function(x,H){var t={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:x,height:H,L:4};m=2/x;r=2/H;q=ca.instance(t);w=ca.instance(t);f=Fa.instance({width:x,height:H})},W:function(x,H){if(d){f.bind(!1,!0);C.set("s91");for(var t=0;2>t;++t){C.O("u14",m,0);q.u();0!==t&&w.h(0);var y=0===t&&!W.ga_;X.l(y,y);C.O("u14",0,r);w.u();q.h(0);X.l(!1,
!1)}C.set("s129");l.h(1);h.h(0);q.u();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);X.l(!1,!1);C.set("s130");H.u();w.h(0);q.h(1);x.h(2);X.l(!1,!1)}},I:function(){}}}();var id=function(){var a={instance:function(b){var d=b.Zf,f=b.Uf,l=b.nd,q=b.background?b.background:ca.ii(),w=b.pa,h={scale:1,offsetX:0,offsetY:0},m=null;b.Tf&&(h.scale=b.Tf.scale,h.offsetY=b.Tf.offsetY);return{ci:function(){return w},Vh:function(){return q},set:function(){m=gb.em();gb.yj(h);gb.ue();gb.ve();Ba.qj(l,q,!1,!1)},M:function(){gb.yj(m)},
cc:function(){return{modelURL:d,materialsURLs:f,background:q.cc(!1),nd:l.cc(!1),pa:w.cc(!0)}},hm:function(){return l.cc(!1)},xp:function(r){q.h(r)},I:function(){l.remove();w.remove();b.background&&q.remove()}}},Zc:function(b,d,f){function l(){if(3===++m&&d){var r=a.instance({Zf:b.modelURL,Uf:b.materialsURLs,background:q,nd:w,pa:h});d(r)}}var q=null,w=null,h=null,m=0;ca.Zc(b.background,function(r){!r&&f?f():(q=r,l())});ca.Zc(b.dataState,function(r){!r&&f?f():(w=r,l())});ca.Zc(b.light,function(r){!r&&
f?f():(h=r,l())})}};return a}();return Mb||JEELIZVTO}(),zd=function(){function S(oa,Ea){var La=Object.prototype.toString.call(oa),xb=0,Ma=oa.length;if("[object Array]"===La||"[object NodeList]"===La||"[object HTMLCollection]"===La||"[object Object]"===La||"undefined"!==typeof jQuery&&oa instanceof jQuery||"undefined"!==typeof Elements&&oa instanceof Elements)for(;xb<Ma;xb++)Ea(oa[xb]);else Ea(oa)}var V=function(oa,Ea){function La(){var Ma=[];this.add=function(Gb){Ma.push(Gb)};var lb,Ab;this.call=
function(){lb=0;for(Ab=Ma.length;lb<Ab;lb++)Ma[lb].call()};this.remove=function(Gb){var Qb=[];lb=0;for(Ab=Ma.length;lb<Ab;lb++)Ma[lb]!==Gb&&Qb.push(Ma[lb]);Ma=Qb};this.length=function(){return Ma.length}}function xb(Ma,lb){if(Ma)if(Ma.resizedAttached)Ma.resizedAttached.add(lb);else{Ma.resizedAttached=new La;Ma.resizedAttached.add(lb);Ma.resizeSensor=document.createElement("div");Ma.resizeSensor.className="resize-sensor";Ma.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";
Ma.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ma.appendChild(Ma.resizeSensor);Ma.resizeSensor.offsetParent!==Ma&&(Ma.style.position="relative");var Ab=Ma.resizeSensor.childNodes[0],Gb=Ab.childNodes[0],Qb=Ma.resizeSensor.childNodes[1],ac,Nb,mc,Ob,nc=Ma.offsetWidth,yc=Ma.offsetHeight,zc=function(){Gb.style.width="100000px";Gb.style.height="100000px";Ab.scrollLeft=1E5;Ab.scrollTop=1E5;Qb.scrollLeft=1E5;Qb.scrollTop=1E5};zc();var Ac=function(){Nb=0;ac&&(nc=mc,yc=Ob,Ma.resizedAttached&&Ma.resizedAttached.call())};lb=function(){mc=Ma.offsetWidth;Ob=
Ma.offsetHeight;(ac=mc!=nc||Ob!=yc)&&!Nb&&(Nb=window.requestAnimationFrame(Ac));zc()};var oc=function(bc,Bc,pc){bc.attachEvent?bc.attachEvent("on"+Bc,pc):bc.addEventListener(Bc,pc)};oc(Ab,"scroll",lb);oc(Qb,"scroll",lb)}}S(oa,function(Ma){xb(Ma,Ea)});this.detach=function(Ma){V.detach(oa,Ma)}};V.detach=function(oa,Ea){S(oa,function(La){if(La){if(La.resizedAttached&&"function"==typeof Ea&&(La.resizedAttached.remove(Ea),La.resizedAttached.length()))return;La.resizeSensor&&(La.contains(La.resizeSensor)&&
La.removeChild(La.resizeSensor),delete La.resizeSensor,delete La.resizedAttached)}})};return V}(),Lb={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/",autoVTOURL:"https://autovtoapi.jeeliz.com/",assetsPath:"jeefit/"},ob={notLoaded:-1,initializing:0,realtime:2,loadingModel:3,paused:4},xd={isRT:!0,sku:void 0,materialsReplacements:"",mode:ob.notLoaded},Sa=Object.assign({},xd),fb={displayWidth:-1,displayHeight:-1,cvWidth:-1,cvHeight:-1,oFactor:-1},yd=
{cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},ic=null,wc=null,Jc=!0,Ca=Object.assign({},yd),ge={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},dd=null,$b={enabled:!1,callback:null,interval:1E3},Kc={error:null},uc=null,kc=null,lc=Lb.appstaticURL+Lb.assetsPath,Va=Mb,vb={start:function(S){var V=Object.assign({settings:null,NNCPath:null,assetsPath:Lb.appstaticURL+Lb.assetsPath,catalog:null,faceDetectionCallback:null,faceDetectionInterval:1E3,
placeHolder:null,canvas:null,onError:null,callbackReady:null,onWebcamGet:null,callbacks:{},searchImageMask:null,searchImageColor:null,searchImageRotationSpeed:null,isShadow:!0,isRequestCamera:!0,sku:null,modelStandalone:null},S);console.log("INFO in JeelizVTOWidget.js: start()");return new Promise(function(oa,Ea){if(Sa.mode!==ob.notLoaded)vb.resume().catch(function(xb){}).finally(oa);else{ma();if(V.settings)for(var La in V.settings)Lb[La]=V.settings[La];V.NNCPath&&Va.set_NNCPath(V.NNCPath);V.faceDetectionCallback&&
($b.enabled=!0,$b.callback=V.faceDetectionCallback,$b.interval=V.faceDetectionInterval);dd=Object.assign({},ge,V.callbacks);Ca.container=V.placeHolder||document.getElementById("JeelizVTOWidget");if(!Ca.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");Ca.cv=V.canvas||document.getElementById("JeelizVTOWidgetCanvas");Ca.cv||(Ca.cv=document.createElement("canvas"),Ca.container.appendChild(Ca.cv));Ca.cv.style.position="absolute";Ca.loading=document.getElementById("JeelizVTOWidgetLoading");
Kc.error=V.onError;kc=V.callbackReady;jc();La=sb(Ca.container);if(!La.width)return Promise.reject("PLACEHOLDER_NULL_WIDTH");if(!La.height)return Promise.reject("PLACEHOLDER_NULL_HEIGHT");Zb(!0);Jc&&xc();(V.searchImageMask||V.searchImageColor||V.searchImageRotationSpeed)&&Va.set_loading(V.searchImageMask,V.searchImageColor,V.searchImageRotationSpeed);Sa.mode=ob.initializing;lc=V.assetsPath;uc=V.catalog;if(V.onWebcamGet)Va.onWebcamGet(V.onWebcamGet);Va.init2({basePath:lc,cv:Ca.cv,width:fb.cvWidth,height:fb.cvHeight,
isRequestCamera:V.isRequestCamera,callbackReady:ka}).catch(function(xb){Sa.isRT=!1;ub(xb||"NO_ERROR_LABEL");Ea()});Va.onHalfLoad(function(){!1===V.isShadow&&Va.switch_shadow(!1);V.sku?vb.load_glassesDB(V.sku,oa,V.materialsReplacements):V.modelStandalone?vb.load_modelStandalone(V.modelStandalone,oa):oa()})}})},destroy:function(){return Va.destroy().then(function(){Object.assign(Sa,xd);kc=uc=null;Object.assign(Ca,yd)})},preFetch:function(S,V){Ed(S).then(function(oa){oa&&!oa.includes("://")&&(oa=lc+
"models3D/"+oa);var Ea=V?V.slice(0):[];oa&&Ea.push(oa);Va.preFetch(lc,Ea)})},pause:function(S){if(!Sa.isRT||!Va.ready)return Promise.reject();Sa.mode=ob.paused;Lc();var V=Va.switch_sleep(!0,S);return S?V:Promise.resolve(V)},resume:function(S){if(!Sa.isRT||!Va.ready)return Promise.reject();Sa.mode=ob.realtime;Jc&&xc();var V=Va.switch_sleep(!1,S);return S?V:Promise.resolve(V)},set_videoRotation:function(S){Sa.isRT&&Va.set_videoRotation(S)},set_videoSizes:function(S,V,oa,Ea,La,xb){Sa.isRT&&Va.set_videoSizes(S,
V,oa,Ea,La,xb)},resize:function(){ic&&clearTimeout(ic);ic=setTimeout(function(){ic&&clearTimeout(ic);ic=null;Zb(!0)},420)},set_scale:function(S){Va.set_scale(S)},reset_resizeSensor:xc,toggle_resizeSensor:function(S){Jc!==S&&((Jc=S)?xc():Lc())},capture_image:function(S,V,oa){Va&&Va.ready?Va.capture_image(S,V,oa,!1):V(!1)},toggle_loading:function(S){S?(ra(Ca.loading),vc("LOADING_START")):(Qa(Ca.loading),vc("LOADING_END"))},load_modelStandalone:function(S,V){if(Sa.mode===ob.notLoaded)throw Error("You should call JEELIZVTOWIDGET.start() first");
if(!Sa.isRT)throw Error("Loading standalone models is only available in RT mode");Sa.mode===ob.paused&&vb.resume().catch(function(La){});Sa.mode=ob.loadingModel;vb.toggle_loading(!0);var oa=function(){vb.toggle_loading(!1);V&&V()},Ea="undef";"string"===typeof S?(Ea=S,Ta(S,Ea).then(oa).catch(eb)):(Ea="RANDOM_SKU_"+Date.now().toString(),$c(Ea,S,oa));Sa.sku=Ea;Sa.materialsReplacements=""},load_glassesDB:function(S,V,oa){if(Sa.mode===ob.notLoaded)throw Error("You should call JEELIZVTOWIDGET.start() first");
if(Sa.isRT){vb.toggle_loading(!0);var Ea=oa?JSON.stringify(oa):"";S===Sa.sku&&Ea===Sa.materialsReplacements?(vb.toggle_loading(!1),V&&V()):(Sa.sku=S,Sa.materialsReplacements=Ea,Sa.mode=ob.loadingModel,Sa.mode===ob.paused&&vb.resume().catch(function(La){}),S?uc&&uc[S]?cd(S,uc[S],V,oa):ta(Lb.glassesDBURL+S).then(function(La){if(La.error)return eb();cd(S,La.intrinsic,V,oa)}).catch(eb):(Sa.mode=ob.realtime,vb.toggle_loading(!1),Va.start_rendering(),V&&V()))}},enter_adjustMode:zb,exit_adjustMode:Fb,set_LUT:function(S){return Va&&
Va.ready?Va.set_LUT(S||null):Promise.reject("NOT_READY")},tweak_autoVTOModel:Zc};return vb}();
JEELIZVTOWIDGET={VERSION:JEELIZVTO.VERSION,capture_image:JeelizVTOWidget.capture_image,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode,load:JeelizVTOWidget.load_glassesDB,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,pause:JeelizVTOWidget.pause,preFetch:JeelizVTOWidget.preFetch,request_cameraVideoStream:JEELIZVTO.request_cameraVideoStream,reset_resizeSensor:JeelizVTOWidget.reset_resizeSensor,toggle_resizeSensor:JeelizVTOWidget.toggle_resizeSensor,
resize:JeelizVTOWidget.resize,resume:JeelizVTOWidget.resume,set_LUT:JeelizVTOWidget.set_LUT,set_scale:JeelizVTOWidget.set_scale,set_videoRotation:JeelizVTOWidget.set_videoRotation,set_videoSizes:JeelizVTOWidget.set_videoSizes,start:JeelizVTOWidget.start,tweak_autoVTOModel:JeelizVTOWidget.tweak_autoVTOModel};

export {JEELIZVTO, JEELIZVTOWIDGET};
/* eslint-enable */
